{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport { debounce } from 'lodash';\nimport { CloseIcon, NextIcon, PrevIcon } from '../../assets';\nimport './index.scss';\nvar FIND_STATUS_TIMEOUT = 500;\n\nvar SearchBar = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SearchBar, _Component);\n\n  function SearchBar(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInput\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearch\", function () {\n      var searchTerm = _this.searchInput.current.value;\n\n      _this.setState({\n        searchTerm: searchTerm,\n        searchCompleted: false\n      });\n\n      _this.props.pdfFindController.executeCommand('find', {\n        caseSensitive: false,\n        findPrevious: undefined,\n        highlightAll: true,\n        phraseSearch: true,\n        query: searchTerm\n      });\n\n      setTimeout(function () {\n        var _this$props$pdfFindCo = _this.props.pdfFindController,\n            matchCount = _this$props$pdfFindCo.matchCount,\n            pageMatches = _this$props$pdfFindCo.pageMatches,\n            pageIdx = _this$props$pdfFindCo.selected.pageIdx;\n        var currentMatchIndex = pageIdx === 0 ? 1 : _this.getCurrentMatchIndex(pageMatches, pageIdx);\n\n        _this.setState({\n          searchCompleted: true,\n          currentMatchIndex: currentMatchIndex,\n          matchCount: matchCount\n        });\n      }, FIND_STATUS_TIMEOUT);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findAgain\", function (_ref) {\n      var findPrevious = _ref.findPrevious;\n\n      _this.props.pdfFindController.executeCommand('findagain', {\n        caseSensitive: false,\n        findPrevious: findPrevious,\n        highlightAll: true,\n        phraseSearch: true,\n        query: _this.state.searchTerm\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchNext\", function (e) {\n      if (e.keyCode === 13 && e.target.value === _this.state.searchTerm) {\n        _this.nextMatch({\n          onSearch: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"previousMatch\", function () {\n      var currentMatchIndex = _this.state.currentMatchIndex;\n      if (currentMatchIndex === 1) return;\n\n      _this.setState({\n        currentMatchIndex: currentMatchIndex - 1\n      });\n\n      _this.findAgain({\n        findPrevious: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextMatch\", function (_ref2) {\n      var onSearch = _ref2.onSearch;\n      var _this$state = _this.state,\n          currentMatchIndex = _this$state.currentMatchIndex,\n          matchCount = _this$state.matchCount;\n      var nextMatchIndex = 0;\n\n      if (currentMatchIndex === matchCount) {\n        if (!onSearch) return;\n        nextMatchIndex = 1;\n      } else {\n        nextMatchIndex = currentMatchIndex + 1;\n      }\n\n      _this.setState({\n        currentMatchIndex: nextMatchIndex\n      });\n\n      _this.findAgain({\n        findPrevious: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentMatchIndex\", function (pageMatches, pageIdx) {\n      var currentMatchIndex = 1;\n\n      for (var i = 0; i < pageIdx; i++) {\n        currentMatchIndex += pageMatches[i].length;\n      }\n\n      return currentMatchIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeSearchBar\", function () {\n      _this.props.pdfFindController.executeCommand('find', {\n        caseSensitive: false,\n        findPrevious: undefined,\n        highlightAll: true,\n        phraseSearch: true,\n        query: ''\n      });\n\n      _this.setState({\n        searchCompleted: false,\n        matchCount: undefined\n      });\n\n      _this.props.hideSearchBar();\n    });\n\n    _this.state = {\n      searchTerm: '',\n      currentMatchIndex: 1,\n      matchCount: undefined,\n      searchCompleted: false\n    };\n    _this.onSearchTerm = debounce(_this.onSearch.bind(_assertThisInitialized(_this)), 500);\n    return _this;\n  }\n\n  var _proto = SearchBar.prototype;\n\n  _proto.render = function render() {\n    var _this$state2 = this.state,\n        searchTerm = _this$state2.searchTerm,\n        currentMatchIndex = _this$state2.currentMatchIndex,\n        matchCount = _this$state2.matchCount,\n        searchCompleted = _this$state2.searchCompleted;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"pdfSearchbar\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.searchInput,\n      autoFocus: true,\n      placeholder: \"Search in document\",\n      onChange: this.onSearchTerm,\n      onKeyDown: this.onSearchNext\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-info\"\n    }, searchTerm && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"search-status\"\n    }, searchCompleted && /*#__PURE__*/React.createElement(\"span\", null, matchCount ? /*#__PURE__*/React.createElement(\"span\", null, currentMatchIndex, \"/\", matchCount) : /*#__PURE__*/React.createElement(\"span\", null, \"0/0\")), matchCount > 0 && /*#__PURE__*/React.createElement(PrevIcon, {\n      className: \"search-bar-ico \" + (currentMatchIndex === 1 ? 'disabled' : ''),\n      onClick: this.previousMatch\n    }), matchCount > 0 && /*#__PURE__*/React.createElement(NextIcon, {\n      className: \"next-icon search-bar-ico \" + (currentMatchIndex === matchCount ? 'disabled' : ''),\n      onClick: this.nextMatch\n    })), /*#__PURE__*/React.createElement(CloseIcon, {\n      id: \"close-icon\",\n      className: \"search-bar-ico\",\n      onClick: this.closeSearchBar\n    })));\n  };\n\n  return SearchBar;\n}(Component);\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/node_modules/@intelllex/react-pdf/es/PdfViewer/PDFSearchBar/index.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","React","Component","debounce","CloseIcon","NextIcon","PrevIcon","FIND_STATUS_TIMEOUT","SearchBar","_Component","props","_this","call","createRef","searchTerm","searchInput","current","setState","searchCompleted","pdfFindController","executeCommand","caseSensitive","findPrevious","undefined","highlightAll","phraseSearch","query","setTimeout","_this$props$pdfFindCo","matchCount","pageMatches","pageIdx","selected","currentMatchIndex","getCurrentMatchIndex","_ref","state","e","keyCode","target","nextMatch","onSearch","findAgain","_ref2","_this$state","nextMatchIndex","i","length","hideSearchBar","onSearchTerm","bind","_proto","render","_this$state2","createElement","id","ref","autoFocus","placeholder","onChange","onKeyDown","onSearchNext","className","onClick","previousMatch","closeSearchBar"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { debounce } from 'lodash';\nimport { CloseIcon, NextIcon, PrevIcon } from '../../assets';\nimport './index.scss';\nvar FIND_STATUS_TIMEOUT = 500;\n\nvar SearchBar = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SearchBar, _Component);\n\n  function SearchBar(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInput\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearch\", function () {\n      var searchTerm = _this.searchInput.current.value;\n\n      _this.setState({\n        searchTerm: searchTerm,\n        searchCompleted: false\n      });\n\n      _this.props.pdfFindController.executeCommand('find', {\n        caseSensitive: false,\n        findPrevious: undefined,\n        highlightAll: true,\n        phraseSearch: true,\n        query: searchTerm\n      });\n\n      setTimeout(function () {\n        var _this$props$pdfFindCo = _this.props.pdfFindController,\n            matchCount = _this$props$pdfFindCo.matchCount,\n            pageMatches = _this$props$pdfFindCo.pageMatches,\n            pageIdx = _this$props$pdfFindCo.selected.pageIdx;\n        var currentMatchIndex = pageIdx === 0 ? 1 : _this.getCurrentMatchIndex(pageMatches, pageIdx);\n\n        _this.setState({\n          searchCompleted: true,\n          currentMatchIndex: currentMatchIndex,\n          matchCount: matchCount\n        });\n      }, FIND_STATUS_TIMEOUT);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findAgain\", function (_ref) {\n      var findPrevious = _ref.findPrevious;\n\n      _this.props.pdfFindController.executeCommand('findagain', {\n        caseSensitive: false,\n        findPrevious: findPrevious,\n        highlightAll: true,\n        phraseSearch: true,\n        query: _this.state.searchTerm\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchNext\", function (e) {\n      if (e.keyCode === 13 && e.target.value === _this.state.searchTerm) {\n        _this.nextMatch({\n          onSearch: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"previousMatch\", function () {\n      var currentMatchIndex = _this.state.currentMatchIndex;\n      if (currentMatchIndex === 1) return;\n\n      _this.setState({\n        currentMatchIndex: currentMatchIndex - 1\n      });\n\n      _this.findAgain({\n        findPrevious: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextMatch\", function (_ref2) {\n      var onSearch = _ref2.onSearch;\n      var _this$state = _this.state,\n          currentMatchIndex = _this$state.currentMatchIndex,\n          matchCount = _this$state.matchCount;\n      var nextMatchIndex = 0;\n\n      if (currentMatchIndex === matchCount) {\n        if (!onSearch) return;\n        nextMatchIndex = 1;\n      } else {\n        nextMatchIndex = currentMatchIndex + 1;\n      }\n\n      _this.setState({\n        currentMatchIndex: nextMatchIndex\n      });\n\n      _this.findAgain({\n        findPrevious: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentMatchIndex\", function (pageMatches, pageIdx) {\n      var currentMatchIndex = 1;\n\n      for (var i = 0; i < pageIdx; i++) {\n        currentMatchIndex += pageMatches[i].length;\n      }\n\n      return currentMatchIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeSearchBar\", function () {\n      _this.props.pdfFindController.executeCommand('find', {\n        caseSensitive: false,\n        findPrevious: undefined,\n        highlightAll: true,\n        phraseSearch: true,\n        query: ''\n      });\n\n      _this.setState({\n        searchCompleted: false,\n        matchCount: undefined\n      });\n\n      _this.props.hideSearchBar();\n    });\n\n    _this.state = {\n      searchTerm: '',\n      currentMatchIndex: 1,\n      matchCount: undefined,\n      searchCompleted: false\n    };\n    _this.onSearchTerm = debounce(_this.onSearch.bind(_assertThisInitialized(_this)), 500);\n    return _this;\n  }\n\n  var _proto = SearchBar.prototype;\n\n  _proto.render = function render() {\n    var _this$state2 = this.state,\n        searchTerm = _this$state2.searchTerm,\n        currentMatchIndex = _this$state2.currentMatchIndex,\n        matchCount = _this$state2.matchCount,\n        searchCompleted = _this$state2.searchCompleted;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"pdfSearchbar\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.searchInput,\n      autoFocus: true,\n      placeholder: \"Search in document\",\n      onChange: this.onSearchTerm,\n      onKeyDown: this.onSearchNext\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-info\"\n    }, searchTerm && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"search-status\"\n    }, searchCompleted && /*#__PURE__*/React.createElement(\"span\", null, matchCount ? /*#__PURE__*/React.createElement(\"span\", null, currentMatchIndex, \"/\", matchCount) : /*#__PURE__*/React.createElement(\"span\", null, \"0/0\")), matchCount > 0 && /*#__PURE__*/React.createElement(PrevIcon, {\n      className: \"search-bar-ico \" + (currentMatchIndex === 1 ? 'disabled' : ''),\n      onClick: this.previousMatch\n    }), matchCount > 0 && /*#__PURE__*/React.createElement(NextIcon, {\n      className: \"next-icon search-bar-ico \" + (currentMatchIndex === matchCount ? 'disabled' : ''),\n      onClick: this.nextMatch\n    })), /*#__PURE__*/React.createElement(CloseIcon, {\n      id: \"close-icon\",\n      className: \"search-bar-ico\",\n      onClick: this.closeSearchBar\n    })));\n  };\n\n  return SearchBar;\n}(Component);\n\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}