{"ast":null,"code":"/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"pdfjs-dist/web/pdf_viewer\", [], factory);else if (typeof exports === 'object') exports[\"pdfjs-dist/web/pdf_viewer\"] = factory();else root[\"pdfjs-dist/web/pdf_viewer\"] = root.pdfjsDistWebPdfViewer = factory();\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __w_pdfjs_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __w_pdfjs_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __w_pdfjs_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __w_pdfjs_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__w_pdfjs_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __w_pdfjs_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __w_pdfjs_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __w_pdfjs_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __w_pdfjs_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __w_pdfjs_require__(__w_pdfjs_require__.s = 9);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var pdfjsLib = void 0;\n\n      if (typeof window !== 'undefined' && window['pdfjs-dist/build/pdf']) {\n        pdfjsLib = window['pdfjs-dist/build/pdf'];\n      } else {\n        pdfjsLib = require('../build/pdf.js');\n      }\n\n      module.exports = pdfjsLib;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.waitOnEventOrTimeout = exports.WaitOnType = exports.localized = exports.animationStarted = exports.normalizeWheelEventDelta = exports.binarySearchFirstItem = exports.watchScroll = exports.scrollIntoView = exports.getOutputScale = exports.approximateFraction = exports.roundToDivide = exports.getVisibleElements = exports.parseQueryString = exports.noContextMenuHandler = exports.getPDFFileNameFromURL = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.mozL10n = exports.RendererType = exports.PresentationModeState = exports.cloneObj = exports.isFileSchema = exports.isValidRotation = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var CSS_UNITS = 96.0 / 72.0;\n      var DEFAULT_SCALE_VALUE = 'auto';\n      var DEFAULT_SCALE = 1.0;\n      var MIN_SCALE = 0.10;\n      var MAX_SCALE = 10.0;\n      var UNKNOWN_SCALE = 0;\n      var MAX_AUTO_SCALE = 1.25;\n      var SCROLLBAR_PADDING = 40;\n      var VERTICAL_PADDING = 5;\n      var PresentationModeState = {\n        UNKNOWN: 0,\n        NORMAL: 1,\n        CHANGING: 2,\n        FULLSCREEN: 3\n      };\n      var RendererType = {\n        CANVAS: 'canvas',\n        SVG: 'svg'\n      };\n\n      function formatL10nValue(text, args) {\n        if (!args) {\n          return text;\n        }\n\n        return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, function (all, name) {\n          return name in args ? args[name] : '{{' + name + '}}';\n        });\n      }\n\n      var NullL10n = {\n        getDirection: function getDirection() {\n          return Promise.resolve('ltr');\n        },\n        get: function get(property, args, fallback) {\n          return Promise.resolve(formatL10nValue(fallback, args));\n        },\n        translate: function translate(element) {\n          return Promise.resolve();\n        }\n      };\n      _pdfjsLib.PDFJS.disableFullscreen = _pdfjsLib.PDFJS.disableFullscreen === undefined ? false : _pdfjsLib.PDFJS.disableFullscreen;\n      _pdfjsLib.PDFJS.useOnlyCssZoom = _pdfjsLib.PDFJS.useOnlyCssZoom === undefined ? false : _pdfjsLib.PDFJS.useOnlyCssZoom;\n      _pdfjsLib.PDFJS.maxCanvasPixels = _pdfjsLib.PDFJS.maxCanvasPixels === undefined ? 16777216 : _pdfjsLib.PDFJS.maxCanvasPixels;\n      _pdfjsLib.PDFJS.disableHistory = _pdfjsLib.PDFJS.disableHistory === undefined ? false : _pdfjsLib.PDFJS.disableHistory;\n      _pdfjsLib.PDFJS.disableTextLayer = _pdfjsLib.PDFJS.disableTextLayer === undefined ? false : _pdfjsLib.PDFJS.disableTextLayer;\n      {\n        _pdfjsLib.PDFJS.locale = _pdfjsLib.PDFJS.locale === undefined && typeof navigator !== 'undefined' ? navigator.language : _pdfjsLib.PDFJS.locale;\n      }\n\n      function getOutputScale(ctx) {\n        var devicePixelRatio = window.devicePixelRatio || 1;\n        var backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n        var pixelRatio = devicePixelRatio / backingStoreRatio;\n        return {\n          sx: pixelRatio,\n          sy: pixelRatio,\n          scaled: pixelRatio !== 1\n        };\n      }\n\n      function scrollIntoView(element, spot) {\n        var skipOverflowHiddenElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var parent = element.offsetParent;\n\n        if (!parent) {\n          console.error('offsetParent is not set -- cannot scroll');\n          return;\n        }\n\n        var offsetY = element.offsetTop + element.clientTop;\n        var offsetX = element.offsetLeft + element.clientLeft;\n\n        while (parent.clientHeight === parent.scrollHeight || skipOverflowHiddenElements && getComputedStyle(parent).overflow === 'hidden') {\n          if (parent.dataset._scaleY) {\n            offsetY /= parent.dataset._scaleY;\n            offsetX /= parent.dataset._scaleX;\n          }\n\n          offsetY += parent.offsetTop;\n          offsetX += parent.offsetLeft;\n          parent = parent.offsetParent;\n\n          if (!parent) {\n            return;\n          }\n        }\n\n        if (spot) {\n          if (spot.top !== undefined) {\n            offsetY += spot.top;\n          }\n\n          if (spot.left !== undefined) {\n            offsetX += spot.left;\n            parent.scrollLeft = offsetX;\n          }\n        }\n\n        parent.scrollTop = offsetY;\n      }\n\n      function watchScroll(viewAreaElement, callback) {\n        var debounceScroll = function debounceScroll(evt) {\n          if (rAF) {\n            return;\n          }\n\n          rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n            rAF = null;\n            var currentY = viewAreaElement.scrollTop;\n            var lastY = state.lastY;\n\n            if (currentY !== lastY) {\n              state.down = currentY > lastY;\n            }\n\n            state.lastY = currentY;\n            callback(state);\n          });\n        };\n\n        var state = {\n          down: true,\n          lastY: viewAreaElement.scrollTop,\n          _eventHandler: debounceScroll\n        };\n        var rAF = null;\n        viewAreaElement.addEventListener('scroll', debounceScroll, true);\n        return state;\n      }\n\n      function parseQueryString(query) {\n        var parts = query.split('&');\n        var params = Object.create(null);\n\n        for (var i = 0, ii = parts.length; i < ii; ++i) {\n          var param = parts[i].split('=');\n          var key = param[0].toLowerCase();\n          var value = param.length > 1 ? param[1] : null;\n          params[decodeURIComponent(key)] = decodeURIComponent(value);\n        }\n\n        return params;\n      }\n\n      function binarySearchFirstItem(items, condition) {\n        var minIndex = 0;\n        var maxIndex = items.length - 1;\n\n        if (items.length === 0 || !condition(items[maxIndex])) {\n          return items.length;\n        }\n\n        if (condition(items[minIndex])) {\n          return minIndex;\n        }\n\n        while (minIndex < maxIndex) {\n          var currentIndex = minIndex + maxIndex >> 1;\n          var currentItem = items[currentIndex];\n\n          if (condition(currentItem)) {\n            maxIndex = currentIndex;\n          } else {\n            minIndex = currentIndex + 1;\n          }\n        }\n\n        return minIndex;\n      }\n\n      function approximateFraction(x) {\n        if (Math.floor(x) === x) {\n          return [x, 1];\n        }\n\n        var xinv = 1 / x;\n        var limit = 8;\n\n        if (xinv > limit) {\n          return [1, limit];\n        } else if (Math.floor(xinv) === xinv) {\n          return [1, xinv];\n        }\n\n        var x_ = x > 1 ? xinv : x;\n        var a = 0,\n            b = 1,\n            c = 1,\n            d = 1;\n\n        while (true) {\n          var p = a + c,\n              q = b + d;\n\n          if (q > limit) {\n            break;\n          }\n\n          if (x_ <= p / q) {\n            c = p;\n            d = q;\n          } else {\n            a = p;\n            b = q;\n          }\n        }\n\n        var result = void 0;\n\n        if (x_ - a / b < c / d - x_) {\n          result = x_ === x ? [a, b] : [b, a];\n        } else {\n          result = x_ === x ? [c, d] : [d, c];\n        }\n\n        return result;\n      }\n\n      function roundToDivide(x, div) {\n        var r = x % div;\n        return r === 0 ? x : Math.round(x - r + div);\n      }\n\n      function getVisibleElements(scrollEl, views) {\n        var sortByVisibility = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var top = scrollEl.scrollTop,\n            bottom = top + scrollEl.clientHeight;\n        var left = scrollEl.scrollLeft,\n            right = left + scrollEl.clientWidth;\n\n        function isElementBottomBelowViewTop(view) {\n          var element = view.div;\n          var elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n          return elementBottom > top;\n        }\n\n        var visible = [],\n            view = void 0,\n            element = void 0;\n        var currentHeight = void 0,\n            viewHeight = void 0,\n            hiddenHeight = void 0,\n            percentHeight = void 0;\n        var currentWidth = void 0,\n            viewWidth = void 0;\n        var firstVisibleElementInd = views.length === 0 ? 0 : binarySearchFirstItem(views, isElementBottomBelowViewTop);\n\n        for (var i = firstVisibleElementInd, ii = views.length; i < ii; i++) {\n          view = views[i];\n          element = view.div;\n          currentHeight = element.offsetTop + element.clientTop;\n          viewHeight = element.clientHeight;\n\n          if (currentHeight > bottom) {\n            break;\n          }\n\n          currentWidth = element.offsetLeft + element.clientLeft;\n          viewWidth = element.clientWidth;\n\n          if (currentWidth + viewWidth < left || currentWidth > right) {\n            continue;\n          }\n\n          hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, currentHeight + viewHeight - bottom);\n          percentHeight = (viewHeight - hiddenHeight) * 100 / viewHeight | 0;\n          visible.push({\n            id: view.id,\n            x: currentWidth,\n            y: currentHeight,\n            view: view,\n            percent: percentHeight\n          });\n        }\n\n        var first = visible[0];\n        var last = visible[visible.length - 1];\n\n        if (sortByVisibility) {\n          visible.sort(function (a, b) {\n            var pc = a.percent - b.percent;\n\n            if (Math.abs(pc) > 0.001) {\n              return -pc;\n            }\n\n            return a.id - b.id;\n          });\n        }\n\n        return {\n          first: first,\n          last: last,\n          views: visible\n        };\n      }\n\n      function noContextMenuHandler(evt) {\n        evt.preventDefault();\n      }\n\n      function isFileSchema(url) {\n        var i = 0,\n            ii = url.length;\n\n        while (i < ii && url[i].trim() === '') {\n          i++;\n        }\n\n        return url.substr(i, 7).toLowerCase() === 'file://';\n      }\n\n      function isDataSchema(url) {\n        var i = 0,\n            ii = url.length;\n\n        while (i < ii && url[i].trim() === '') {\n          i++;\n        }\n\n        return url.substr(i, 5).toLowerCase() === 'data:';\n      }\n\n      function getPDFFileNameFromURL(url) {\n        var defaultFilename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'document.pdf';\n\n        if (isDataSchema(url)) {\n          console.warn('getPDFFileNameFromURL: ' + 'ignoring \"data:\" URL for performance reasons.');\n          return defaultFilename;\n        }\n\n        var reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n        var reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n        var splitURI = reURI.exec(url);\n        var suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n        if (suggestedFilename) {\n          suggestedFilename = suggestedFilename[0];\n\n          if (suggestedFilename.indexOf('%') !== -1) {\n            try {\n              suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n            } catch (ex) {}\n          }\n        }\n\n        return suggestedFilename || defaultFilename;\n      }\n\n      function normalizeWheelEventDelta(evt) {\n        var delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n        var angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n        if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n          delta = -delta;\n        }\n\n        var MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n        var MOUSE_DOM_DELTA_LINE_MODE = 1;\n        var MOUSE_PIXELS_PER_LINE = 30;\n        var MOUSE_LINES_PER_PAGE = 30;\n\n        if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n          delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n        } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n          delta /= MOUSE_LINES_PER_PAGE;\n        }\n\n        return delta;\n      }\n\n      function isValidRotation(angle) {\n        return Number.isInteger(angle) && angle % 90 === 0;\n      }\n\n      function cloneObj(obj) {\n        var result = Object.create(null);\n\n        for (var i in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, i)) {\n            result[i] = obj[i];\n          }\n        }\n\n        return result;\n      }\n\n      var WaitOnType = {\n        EVENT: 'event',\n        TIMEOUT: 'timeout'\n      };\n\n      function waitOnEventOrTimeout(_ref) {\n        var target = _ref.target,\n            name = _ref.name,\n            _ref$delay = _ref.delay,\n            delay = _ref$delay === undefined ? 0 : _ref$delay;\n\n        if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object' || !(name && typeof name === 'string') || !(Number.isInteger(delay) && delay >= 0)) {\n          return Promise.reject(new Error('waitOnEventOrTimeout - invalid paramaters.'));\n        }\n\n        var capability = (0, _pdfjsLib.createPromiseCapability)();\n\n        function handler(type) {\n          if (target instanceof EventBus) {\n            target.off(name, eventHandler);\n          } else {\n            target.removeEventListener(name, eventHandler);\n          }\n\n          if (timeout) {\n            clearTimeout(timeout);\n          }\n\n          capability.resolve(type);\n        }\n\n        var eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n        if (target instanceof EventBus) {\n          target.on(name, eventHandler);\n        } else {\n          target.addEventListener(name, eventHandler);\n        }\n\n        var timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n        var timeout = setTimeout(timeoutHandler, delay);\n        return capability.promise;\n      }\n\n      var animationStarted = new Promise(function (resolve) {\n        window.requestAnimationFrame(resolve);\n      });\n      var mozL10n = void 0;\n      var localized = Promise.resolve();\n\n      var EventBus = function () {\n        function EventBus() {\n          _classCallCheck(this, EventBus);\n\n          this._listeners = Object.create(null);\n        }\n\n        _createClass(EventBus, [{\n          key: 'on',\n          value: function on(eventName, listener) {\n            var eventListeners = this._listeners[eventName];\n\n            if (!eventListeners) {\n              eventListeners = [];\n              this._listeners[eventName] = eventListeners;\n            }\n\n            eventListeners.push(listener);\n          }\n        }, {\n          key: 'off',\n          value: function off(eventName, listener) {\n            var eventListeners = this._listeners[eventName];\n            var i = void 0;\n\n            if (!eventListeners || (i = eventListeners.indexOf(listener)) < 0) {\n              return;\n            }\n\n            eventListeners.splice(i, 1);\n          }\n        }, {\n          key: 'dispatch',\n          value: function dispatch(eventName) {\n            var eventListeners = this._listeners[eventName];\n\n            if (!eventListeners || eventListeners.length === 0) {\n              return;\n            }\n\n            var args = Array.prototype.slice.call(arguments, 1);\n            eventListeners.slice(0).forEach(function (listener) {\n              listener.apply(null, args);\n            });\n          }\n        }]);\n\n        return EventBus;\n      }();\n\n      function clamp(v, min, max) {\n        return Math.min(Math.max(v, min), max);\n      }\n\n      var ProgressBar = function () {\n        function ProgressBar(id) {\n          var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n              height = _ref2.height,\n              width = _ref2.width,\n              units = _ref2.units;\n\n          _classCallCheck(this, ProgressBar);\n\n          this.visible = true;\n          this.div = document.querySelector(id + ' .progress');\n          this.bar = this.div.parentNode;\n          this.height = height || 100;\n          this.width = width || 100;\n          this.units = units || '%';\n          this.div.style.height = this.height + this.units;\n          this.percent = 0;\n        }\n\n        _createClass(ProgressBar, [{\n          key: '_updateBar',\n          value: function _updateBar() {\n            if (this._indeterminate) {\n              this.div.classList.add('indeterminate');\n              this.div.style.width = this.width + this.units;\n              return;\n            }\n\n            this.div.classList.remove('indeterminate');\n            var progressSize = this.width * this._percent / 100;\n            this.div.style.width = progressSize + this.units;\n          }\n        }, {\n          key: 'setWidth',\n          value: function setWidth(viewer) {\n            if (!viewer) {\n              return;\n            }\n\n            var container = viewer.parentNode;\n            var scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n            if (scrollbarWidth > 0) {\n              this.bar.setAttribute('style', 'width: calc(100% - ' + scrollbarWidth + 'px);');\n            }\n          }\n        }, {\n          key: 'hide',\n          value: function hide() {\n            if (!this.visible) {\n              return;\n            }\n\n            this.visible = false;\n            this.bar.classList.add('hidden');\n            document.body.classList.remove('loadingInProgress');\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            if (this.visible) {\n              return;\n            }\n\n            this.visible = true;\n            document.body.classList.add('loadingInProgress');\n            this.bar.classList.remove('hidden');\n          }\n        }, {\n          key: 'percent',\n          get: function get() {\n            return this._percent;\n          },\n          set: function set(val) {\n            this._indeterminate = isNaN(val);\n            this._percent = clamp(val, 0, 100);\n\n            this._updateBar();\n          }\n        }]);\n\n        return ProgressBar;\n      }();\n\n      exports.CSS_UNITS = CSS_UNITS;\n      exports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\n      exports.DEFAULT_SCALE = DEFAULT_SCALE;\n      exports.MIN_SCALE = MIN_SCALE;\n      exports.MAX_SCALE = MAX_SCALE;\n      exports.UNKNOWN_SCALE = UNKNOWN_SCALE;\n      exports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\n      exports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\n      exports.VERTICAL_PADDING = VERTICAL_PADDING;\n      exports.isValidRotation = isValidRotation;\n      exports.isFileSchema = isFileSchema;\n      exports.cloneObj = cloneObj;\n      exports.PresentationModeState = PresentationModeState;\n      exports.RendererType = RendererType;\n      exports.mozL10n = mozL10n;\n      exports.NullL10n = NullL10n;\n      exports.EventBus = EventBus;\n      exports.ProgressBar = ProgressBar;\n      exports.getPDFFileNameFromURL = getPDFFileNameFromURL;\n      exports.noContextMenuHandler = noContextMenuHandler;\n      exports.parseQueryString = parseQueryString;\n      exports.getVisibleElements = getVisibleElements;\n      exports.roundToDivide = roundToDivide;\n      exports.approximateFraction = approximateFraction;\n      exports.getOutputScale = getOutputScale;\n      exports.scrollIntoView = scrollIntoView;\n      exports.watchScroll = watchScroll;\n      exports.binarySearchFirstItem = binarySearchFirstItem;\n      exports.normalizeWheelEventDelta = normalizeWheelEventDelta;\n      exports.animationStarted = animationStarted;\n      exports.localized = localized;\n      exports.WaitOnType = WaitOnType;\n      exports.waitOnEventOrTimeout = waitOnEventOrTimeout;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getGlobalEventBus = exports.attachDOMEventsToEventBus = undefined;\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      function attachDOMEventsToEventBus(eventBus) {\n        eventBus.on('documentload', function () {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('documentload', true, true, {});\n          window.dispatchEvent(event);\n        });\n        eventBus.on('pagerendered', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('pagerendered', true, true, {\n            pageNumber: evt.pageNumber,\n            cssTransform: evt.cssTransform\n          });\n          evt.source.div.dispatchEvent(event);\n        });\n        eventBus.on('textlayerrendered', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('textlayerrendered', true, true, {\n            pageNumber: evt.pageNumber\n          });\n          evt.source.textLayerDiv.dispatchEvent(event);\n        });\n        eventBus.on('pagechange', function (evt) {\n          var event = document.createEvent('UIEvents');\n          event.initUIEvent('pagechange', true, true, window, 0);\n          event.pageNumber = evt.pageNumber;\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('pagesinit', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('pagesinit', true, true, null);\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('pagesloaded', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('pagesloaded', true, true, {\n            pagesCount: evt.pagesCount\n          });\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('scalechange', function (evt) {\n          var event = document.createEvent('UIEvents');\n          event.initUIEvent('scalechange', true, true, window, 0);\n          event.scale = evt.scale;\n          event.presetValue = evt.presetValue;\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('updateviewarea', function (evt) {\n          var event = document.createEvent('UIEvents');\n          event.initUIEvent('updateviewarea', true, true, window, 0);\n          event.location = evt.location;\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('find', function (evt) {\n          if (evt.source === window) {\n            return;\n          }\n\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('find' + evt.type, true, true, {\n            query: evt.query,\n            phraseSearch: evt.phraseSearch,\n            caseSensitive: evt.caseSensitive,\n            highlightAll: evt.highlightAll,\n            findPrevious: evt.findPrevious\n          });\n          window.dispatchEvent(event);\n        });\n        eventBus.on('attachmentsloaded', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('attachmentsloaded', true, true, {\n            attachmentsCount: evt.attachmentsCount\n          });\n          evt.source.container.dispatchEvent(event);\n        });\n        eventBus.on('sidebarviewchanged', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('sidebarviewchanged', true, true, {\n            view: evt.view\n          });\n          evt.source.outerContainer.dispatchEvent(event);\n        });\n        eventBus.on('pagemode', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('pagemode', true, true, {\n            mode: evt.mode\n          });\n          evt.source.pdfViewer.container.dispatchEvent(event);\n        });\n        eventBus.on('namedaction', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('namedaction', true, true, {\n            action: evt.action\n          });\n          evt.source.pdfViewer.container.dispatchEvent(event);\n        });\n        eventBus.on('presentationmodechanged', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('presentationmodechanged', true, true, {\n            active: evt.active,\n            switchInProgress: evt.switchInProgress\n          });\n          window.dispatchEvent(event);\n        });\n        eventBus.on('outlineloaded', function (evt) {\n          var event = document.createEvent('CustomEvent');\n          event.initCustomEvent('outlineloaded', true, true, {\n            outlineCount: evt.outlineCount\n          });\n          evt.source.container.dispatchEvent(event);\n        });\n      }\n\n      var globalEventBus = null;\n\n      function getGlobalEventBus() {\n        if (globalEventBus) {\n          return globalEventBus;\n        }\n\n        globalEventBus = new _ui_utils.EventBus();\n        attachDOMEventsToEventBus(globalEventBus);\n        return globalEventBus;\n      }\n\n      exports.attachDOMEventsToEventBus = attachDOMEventsToEventBus;\n      exports.getGlobalEventBus = getGlobalEventBus;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SimpleLinkService = exports.PDFLinkService = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _dom_events = __w_pdfjs_require__(2);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var PDFLinkService = function () {\n        function PDFLinkService() {\n          var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n              eventBus = _ref.eventBus;\n\n          _classCallCheck(this, PDFLinkService);\n\n          this.eventBus = eventBus || (0, _dom_events.getGlobalEventBus)();\n          this.baseUrl = null;\n          this.pdfDocument = null;\n          this.pdfViewer = null;\n          this.pdfHistory = null;\n          this._pagesRefCache = null;\n        }\n\n        _createClass(PDFLinkService, [{\n          key: 'setDocument',\n          value: function setDocument(pdfDocument, baseUrl) {\n            this.baseUrl = baseUrl;\n            this.pdfDocument = pdfDocument;\n            this._pagesRefCache = Object.create(null);\n          }\n        }, {\n          key: 'setViewer',\n          value: function setViewer(pdfViewer) {\n            this.pdfViewer = pdfViewer;\n          }\n        }, {\n          key: 'setHistory',\n          value: function setHistory(pdfHistory) {\n            this.pdfHistory = pdfHistory;\n          }\n        }, {\n          key: 'navigateTo',\n          value: function navigateTo(dest) {\n            var _this = this;\n\n            var goToDestination = function goToDestination(_ref2) {\n              var namedDest = _ref2.namedDest,\n                  explicitDest = _ref2.explicitDest;\n              var destRef = explicitDest[0],\n                  pageNumber = void 0;\n\n              if (destRef instanceof Object) {\n                pageNumber = _this._cachedPageNumber(destRef);\n\n                if (pageNumber === null) {\n                  _this.pdfDocument.getPageIndex(destRef).then(function (pageIndex) {\n                    _this.cachePageRef(pageIndex + 1, destRef);\n\n                    goToDestination({\n                      namedDest: namedDest,\n                      explicitDest: explicitDest\n                    });\n                  }).catch(function () {\n                    console.error('PDFLinkService.navigateTo: \"' + destRef + '\" is not ' + ('a valid page reference, for dest=\"' + dest + '\".'));\n                  });\n\n                  return;\n                }\n              } else if (Number.isInteger(destRef)) {\n                pageNumber = destRef + 1;\n              } else {\n                console.error('PDFLinkService.navigateTo: \"' + destRef + '\" is not ' + ('a valid destination reference, for dest=\"' + dest + '\".'));\n                return;\n              }\n\n              if (!pageNumber || pageNumber < 1 || pageNumber > _this.pagesCount) {\n                console.error('PDFLinkService.navigateTo: \"' + pageNumber + '\" is not ' + ('a valid page number, for dest=\"' + dest + '\".'));\n                return;\n              }\n\n              if (_this.pdfHistory) {\n                _this.pdfHistory.pushCurrentPosition();\n\n                _this.pdfHistory.push({\n                  namedDest: namedDest,\n                  explicitDest: explicitDest,\n                  pageNumber: pageNumber\n                });\n              }\n\n              _this.pdfViewer.scrollPageIntoView({\n                pageNumber: pageNumber,\n                destArray: explicitDest\n              });\n            };\n\n            new Promise(function (resolve, reject) {\n              if (typeof dest === 'string') {\n                _this.pdfDocument.getDestination(dest).then(function (destArray) {\n                  resolve({\n                    namedDest: dest,\n                    explicitDest: destArray\n                  });\n                });\n\n                return;\n              }\n\n              resolve({\n                namedDest: '',\n                explicitDest: dest\n              });\n            }).then(function (data) {\n              if (!(data.explicitDest instanceof Array)) {\n                console.error('PDFLinkService.navigateTo: \"' + data.explicitDest + '\" is' + (' not a valid destination array, for dest=\"' + dest + '\".'));\n                return;\n              }\n\n              goToDestination(data);\n            });\n          }\n        }, {\n          key: 'getDestinationHash',\n          value: function getDestinationHash(dest) {\n            if (typeof dest === 'string') {\n              return this.getAnchorUrl('#' + escape(dest));\n            }\n\n            if (dest instanceof Array) {\n              var str = JSON.stringify(dest);\n              return this.getAnchorUrl('#' + escape(str));\n            }\n\n            return this.getAnchorUrl('');\n          }\n        }, {\n          key: 'getAnchorUrl',\n          value: function getAnchorUrl(anchor) {\n            return (this.baseUrl || '') + anchor;\n          }\n        }, {\n          key: 'setHash',\n          value: function setHash(hash) {\n            var pageNumber = void 0,\n                dest = void 0;\n\n            if (hash.indexOf('=') >= 0) {\n              var params = (0, _ui_utils.parseQueryString)(hash);\n\n              if ('search' in params) {\n                this.eventBus.dispatch('findfromurlhash', {\n                  source: this,\n                  query: params['search'].replace(/\"/g, ''),\n                  phraseSearch: params['phrase'] === 'true'\n                });\n              }\n\n              if ('nameddest' in params) {\n                this.navigateTo(params.nameddest);\n                return;\n              }\n\n              if ('page' in params) {\n                pageNumber = params.page | 0 || 1;\n              }\n\n              if ('zoom' in params) {\n                var zoomArgs = params.zoom.split(',');\n                var zoomArg = zoomArgs[0];\n                var zoomArgNumber = parseFloat(zoomArg);\n\n                if (zoomArg.indexOf('Fit') === -1) {\n                  dest = [null, {\n                    name: 'XYZ'\n                  }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n                } else {\n                  if (zoomArg === 'Fit' || zoomArg === 'FitB') {\n                    dest = [null, {\n                      name: zoomArg\n                    }];\n                  } else if (zoomArg === 'FitH' || zoomArg === 'FitBH' || zoomArg === 'FitV' || zoomArg === 'FitBV') {\n                    dest = [null, {\n                      name: zoomArg\n                    }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n                  } else if (zoomArg === 'FitR') {\n                    if (zoomArgs.length !== 5) {\n                      console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n                    } else {\n                      dest = [null, {\n                        name: zoomArg\n                      }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n                    }\n                  } else {\n                    console.error('PDFLinkService.setHash: \"' + zoomArg + '\" is not ' + 'a valid zoom value.');\n                  }\n                }\n              }\n\n              if (dest) {\n                this.pdfViewer.scrollPageIntoView({\n                  pageNumber: pageNumber || this.page,\n                  destArray: dest,\n                  allowNegativeOffset: true\n                });\n              } else if (pageNumber) {\n                this.page = pageNumber;\n              }\n\n              if ('pagemode' in params) {\n                this.eventBus.dispatch('pagemode', {\n                  source: this,\n                  mode: params.pagemode\n                });\n              }\n            } else {\n              dest = unescape(hash);\n\n              try {\n                dest = JSON.parse(dest);\n\n                if (!(dest instanceof Array)) {\n                  dest = dest.toString();\n                }\n              } catch (ex) {}\n\n              if (typeof dest === 'string' || isValidExplicitDestination(dest)) {\n                this.navigateTo(dest);\n                return;\n              }\n\n              console.error('PDFLinkService.setHash: \"' + unescape(hash) + '\" is not ' + 'a valid destination.');\n            }\n          }\n        }, {\n          key: 'executeNamedAction',\n          value: function executeNamedAction(action) {\n            switch (action) {\n              case 'GoBack':\n                if (this.pdfHistory) {\n                  this.pdfHistory.back();\n                }\n\n                break;\n\n              case 'GoForward':\n                if (this.pdfHistory) {\n                  this.pdfHistory.forward();\n                }\n\n                break;\n\n              case 'NextPage':\n                if (this.page < this.pagesCount) {\n                  this.page++;\n                }\n\n                break;\n\n              case 'PrevPage':\n                if (this.page > 1) {\n                  this.page--;\n                }\n\n                break;\n\n              case 'LastPage':\n                this.page = this.pagesCount;\n                break;\n\n              case 'FirstPage':\n                this.page = 1;\n                break;\n\n              default:\n                break;\n            }\n\n            this.eventBus.dispatch('namedaction', {\n              source: this,\n              action: action\n            });\n          }\n        }, {\n          key: 'onFileAttachmentAnnotation',\n          value: function onFileAttachmentAnnotation(_ref3) {\n            var id = _ref3.id,\n                filename = _ref3.filename,\n                content = _ref3.content;\n            this.eventBus.dispatch('fileattachmentannotation', {\n              source: this,\n              id: id,\n              filename: filename,\n              content: content\n            });\n          }\n        }, {\n          key: 'cachePageRef',\n          value: function cachePageRef(pageNum, pageRef) {\n            var refStr = pageRef.num + ' ' + pageRef.gen + ' R';\n            this._pagesRefCache[refStr] = pageNum;\n          }\n        }, {\n          key: '_cachedPageNumber',\n          value: function _cachedPageNumber(pageRef) {\n            var refStr = pageRef.num + ' ' + pageRef.gen + ' R';\n            return this._pagesRefCache && this._pagesRefCache[refStr] || null;\n          }\n        }, {\n          key: 'pagesCount',\n          get: function get() {\n            return this.pdfDocument ? this.pdfDocument.numPages : 0;\n          }\n        }, {\n          key: 'page',\n          get: function get() {\n            return this.pdfViewer.currentPageNumber;\n          },\n          set: function set(value) {\n            this.pdfViewer.currentPageNumber = value;\n          }\n        }, {\n          key: 'rotation',\n          get: function get() {\n            return this.pdfViewer.pagesRotation;\n          },\n          set: function set(value) {\n            this.pdfViewer.pagesRotation = value;\n          }\n        }]);\n\n        return PDFLinkService;\n      }();\n\n      function isValidExplicitDestination(dest) {\n        if (!(dest instanceof Array)) {\n          return false;\n        }\n\n        var destLength = dest.length,\n            allowNull = true;\n\n        if (destLength < 2) {\n          return false;\n        }\n\n        var page = dest[0];\n\n        if (!((typeof page === 'undefined' ? 'undefined' : _typeof(page)) === 'object' && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n          return false;\n        }\n\n        var zoom = dest[1];\n\n        if (!((typeof zoom === 'undefined' ? 'undefined' : _typeof(zoom)) === 'object' && typeof zoom.name === 'string')) {\n          return false;\n        }\n\n        switch (zoom.name) {\n          case 'XYZ':\n            if (destLength !== 5) {\n              return false;\n            }\n\n            break;\n\n          case 'Fit':\n          case 'FitB':\n            return destLength === 2;\n\n          case 'FitH':\n          case 'FitBH':\n          case 'FitV':\n          case 'FitBV':\n            if (destLength !== 3) {\n              return false;\n            }\n\n            break;\n\n          case 'FitR':\n            if (destLength !== 6) {\n              return false;\n            }\n\n            allowNull = false;\n            break;\n\n          default:\n            return false;\n        }\n\n        for (var i = 2; i < destLength; i++) {\n          var param = dest[i];\n\n          if (!(typeof param === 'number' || allowNull && param === null)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      var SimpleLinkService = function () {\n        function SimpleLinkService() {\n          _classCallCheck(this, SimpleLinkService);\n        }\n\n        _createClass(SimpleLinkService, [{\n          key: 'navigateTo',\n          value: function navigateTo(dest) {}\n        }, {\n          key: 'getDestinationHash',\n          value: function getDestinationHash(dest) {\n            return '#';\n          }\n        }, {\n          key: 'getAnchorUrl',\n          value: function getAnchorUrl(hash) {\n            return '#';\n          }\n        }, {\n          key: 'setHash',\n          value: function setHash(hash) {}\n        }, {\n          key: 'executeNamedAction',\n          value: function executeNamedAction(action) {}\n        }, {\n          key: 'onFileAttachmentAnnotation',\n          value: function onFileAttachmentAnnotation(_ref4) {\n            var id = _ref4.id,\n                filename = _ref4.filename,\n                content = _ref4.content;\n          }\n        }, {\n          key: 'cachePageRef',\n          value: function cachePageRef(pageNum, pageRef) {}\n        }, {\n          key: 'page',\n          get: function get() {\n            return 0;\n          },\n          set: function set(value) {}\n        }, {\n          key: 'rotation',\n          get: function get() {\n            return 0;\n          },\n          set: function set(value) {}\n        }]);\n\n        return SimpleLinkService;\n      }();\n\n      exports.PDFLinkService = PDFLinkService;\n      exports.SimpleLinkService = SimpleLinkService;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DefaultAnnotationLayerFactory = exports.AnnotationLayerBuilder = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _pdf_link_service = __w_pdfjs_require__(3);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var AnnotationLayerBuilder = function () {\n        function AnnotationLayerBuilder(_ref) {\n          var pageDiv = _ref.pageDiv,\n              pdfPage = _ref.pdfPage,\n              linkService = _ref.linkService,\n              downloadManager = _ref.downloadManager,\n              _ref$renderInteractiv = _ref.renderInteractiveForms,\n              renderInteractiveForms = _ref$renderInteractiv === undefined ? false : _ref$renderInteractiv,\n              _ref$l10n = _ref.l10n,\n              l10n = _ref$l10n === undefined ? _ui_utils.NullL10n : _ref$l10n;\n\n          _classCallCheck(this, AnnotationLayerBuilder);\n\n          this.pageDiv = pageDiv;\n          this.pdfPage = pdfPage;\n          this.linkService = linkService;\n          this.downloadManager = downloadManager;\n          this.renderInteractiveForms = renderInteractiveForms;\n          this.l10n = l10n;\n          this.div = null;\n          this._cancelled = false;\n        }\n\n        _createClass(AnnotationLayerBuilder, [{\n          key: 'render',\n          value: function render(viewport) {\n            var _this = this;\n\n            var intent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'display';\n            this.pdfPage.getAnnotations({\n              intent: intent\n            }).then(function (annotations) {\n              if (_this._cancelled) {\n                return;\n              }\n\n              var parameters = {\n                viewport: viewport.clone({\n                  dontFlip: true\n                }),\n                div: _this.div,\n                annotations: annotations,\n                page: _this.pdfPage,\n                renderInteractiveForms: _this.renderInteractiveForms,\n                linkService: _this.linkService,\n                downloadManager: _this.downloadManager\n              };\n\n              if (_this.div) {\n                _pdfjsLib.AnnotationLayer.update(parameters);\n              } else {\n                if (annotations.length === 0) {\n                  return;\n                }\n\n                _this.div = document.createElement('div');\n                _this.div.className = 'annotationLayer';\n\n                _this.pageDiv.appendChild(_this.div);\n\n                parameters.div = _this.div;\n\n                _pdfjsLib.AnnotationLayer.render(parameters);\n\n                _this.l10n.translate(_this.div);\n              }\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this._cancelled = true;\n          }\n        }, {\n          key: 'hide',\n          value: function hide() {\n            if (!this.div) {\n              return;\n            }\n\n            this.div.setAttribute('hidden', 'true');\n          }\n        }]);\n\n        return AnnotationLayerBuilder;\n      }();\n\n      var DefaultAnnotationLayerFactory = function () {\n        function DefaultAnnotationLayerFactory() {\n          _classCallCheck(this, DefaultAnnotationLayerFactory);\n        }\n\n        _createClass(DefaultAnnotationLayerFactory, [{\n          key: 'createAnnotationLayerBuilder',\n          value: function createAnnotationLayerBuilder(pageDiv, pdfPage) {\n            var renderInteractiveForms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var l10n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _ui_utils.NullL10n;\n            return new AnnotationLayerBuilder({\n              pageDiv: pageDiv,\n              pdfPage: pdfPage,\n              renderInteractiveForms: renderInteractiveForms,\n              linkService: new _pdf_link_service.SimpleLinkService(),\n              l10n: l10n\n            });\n          }\n        }]);\n\n        return DefaultAnnotationLayerFactory;\n      }();\n\n      exports.AnnotationLayerBuilder = AnnotationLayerBuilder;\n      exports.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DefaultTextLayerFactory = exports.TextLayerBuilder = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _dom_events = __w_pdfjs_require__(2);\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var EXPAND_DIVS_TIMEOUT = 300;\n\n      var TextLayerBuilder = function () {\n        function TextLayerBuilder(_ref) {\n          var textLayerDiv = _ref.textLayerDiv,\n              eventBus = _ref.eventBus,\n              pageIndex = _ref.pageIndex,\n              viewport = _ref.viewport,\n              _ref$findController = _ref.findController,\n              findController = _ref$findController === undefined ? null : _ref$findController,\n              _ref$enhanceTextSelec = _ref.enhanceTextSelection,\n              enhanceTextSelection = _ref$enhanceTextSelec === undefined ? false : _ref$enhanceTextSelec;\n\n          _classCallCheck(this, TextLayerBuilder);\n\n          this.textLayerDiv = textLayerDiv;\n          this.eventBus = eventBus || (0, _dom_events.getGlobalEventBus)();\n          this.textContent = null;\n          this.textContentItemsStr = [];\n          this.textContentStream = null;\n          this.renderingDone = false;\n          this.pageIdx = pageIndex;\n          this.pageNumber = this.pageIdx + 1;\n          this.matches = [];\n          this.viewport = viewport;\n          this.textDivs = [];\n          this.findController = findController;\n          this.textLayerRenderTask = null;\n          this.enhanceTextSelection = enhanceTextSelection;\n\n          this._bindMouse();\n        }\n\n        _createClass(TextLayerBuilder, [{\n          key: '_finishRendering',\n          value: function _finishRendering() {\n            this.renderingDone = true;\n\n            if (!this.enhanceTextSelection) {\n              var endOfContent = document.createElement('div');\n              endOfContent.className = 'endOfContent';\n              this.textLayerDiv.appendChild(endOfContent);\n            }\n\n            this.eventBus.dispatch('textlayerrendered', {\n              source: this,\n              pageNumber: this.pageNumber,\n              numTextDivs: this.textDivs.length\n            });\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            var _this = this;\n\n            var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n              return;\n            }\n\n            this.cancel();\n            this.textDivs = [];\n            var textLayerFrag = document.createDocumentFragment();\n            this.textLayerRenderTask = (0, _pdfjsLib.renderTextLayer)({\n              textContent: this.textContent,\n              textContentStream: this.textContentStream,\n              container: textLayerFrag,\n              viewport: this.viewport,\n              textDivs: this.textDivs,\n              textContentItemsStr: this.textContentItemsStr,\n              timeout: timeout,\n              enhanceTextSelection: this.enhanceTextSelection\n            });\n            this.textLayerRenderTask.promise.then(function () {\n              _this.textLayerDiv.appendChild(textLayerFrag);\n\n              _this._finishRendering();\n\n              _this.updateMatches();\n            }, function (reason) {});\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            if (this.textLayerRenderTask) {\n              this.textLayerRenderTask.cancel();\n              this.textLayerRenderTask = null;\n            }\n          }\n        }, {\n          key: 'setTextContentStream',\n          value: function setTextContentStream(readableStream) {\n            this.cancel();\n            this.textContentStream = readableStream;\n          }\n        }, {\n          key: 'setTextContent',\n          value: function setTextContent(textContent) {\n            this.cancel();\n            this.textContent = textContent;\n          }\n        }, {\n          key: 'convertMatches',\n          value: function convertMatches(matches, matchesLength) {\n            var i = 0;\n            var iIndex = 0;\n            var textContentItemsStr = this.textContentItemsStr;\n            var end = textContentItemsStr.length - 1;\n            var queryLen = this.findController === null ? 0 : this.findController.state.query.length;\n            var ret = [];\n\n            if (!matches) {\n              return ret;\n            }\n\n            for (var m = 0, len = matches.length; m < len; m++) {\n              var matchIdx = matches[m];\n\n              while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n                iIndex += textContentItemsStr[i].length;\n                i++;\n              }\n\n              if (i === textContentItemsStr.length) {\n                console.error('Could not find a matching mapping');\n              }\n\n              var match = {\n                begin: {\n                  divIdx: i,\n                  offset: matchIdx - iIndex\n                }\n              };\n\n              if (matchesLength) {\n                matchIdx += matchesLength[m];\n              } else {\n                matchIdx += queryLen;\n              }\n\n              while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n                iIndex += textContentItemsStr[i].length;\n                i++;\n              }\n\n              match.end = {\n                divIdx: i,\n                offset: matchIdx - iIndex\n              };\n              ret.push(match);\n            }\n\n            return ret;\n          }\n        }, {\n          key: 'renderMatches',\n          value: function renderMatches(matches) {\n            if (matches.length === 0) {\n              return;\n            }\n\n            var textContentItemsStr = this.textContentItemsStr;\n            var textDivs = this.textDivs;\n            var prevEnd = null;\n            var pageIdx = this.pageIdx;\n            var isSelectedPage = this.findController === null ? false : pageIdx === this.findController.selected.pageIdx;\n            var selectedMatchIdx = this.findController === null ? -1 : this.findController.selected.matchIdx;\n            var highlightAll = this.findController === null ? false : this.findController.state.highlightAll;\n            var infinity = {\n              divIdx: -1,\n              offset: undefined\n            };\n\n            function beginText(begin, className) {\n              var divIdx = begin.divIdx;\n              textDivs[divIdx].textContent = '';\n              appendTextToDiv(divIdx, 0, begin.offset, className);\n            }\n\n            function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n              var div = textDivs[divIdx];\n              var content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n              var node = document.createTextNode(content);\n\n              if (className) {\n                var span = document.createElement('span');\n                span.className = className;\n                span.appendChild(node);\n                div.appendChild(span);\n                return;\n              }\n\n              div.appendChild(node);\n            }\n\n            var i0 = selectedMatchIdx,\n                i1 = i0 + 1;\n\n            if (highlightAll) {\n              i0 = 0;\n              i1 = matches.length;\n            } else if (!isSelectedPage) {\n              return;\n            }\n\n            for (var i = i0; i < i1; i++) {\n              var match = matches[i];\n              var begin = match.begin;\n              var end = match.end;\n              var isSelected = isSelectedPage && i === selectedMatchIdx;\n              var highlightSuffix = isSelected ? ' selected' : '';\n\n              if (this.findController) {\n                this.findController.updateMatchPosition(pageIdx, i, textDivs, begin.divIdx);\n              }\n\n              if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n                if (prevEnd !== null) {\n                  appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n                }\n\n                beginText(begin);\n              } else {\n                appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n              }\n\n              if (begin.divIdx === end.divIdx) {\n                appendTextToDiv(begin.divIdx, begin.offset, end.offset, 'highlight' + highlightSuffix);\n              } else {\n                appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, 'highlight begin' + highlightSuffix);\n\n                for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n                  textDivs[n0].className = 'highlight middle' + highlightSuffix;\n                }\n\n                beginText(end, 'highlight end' + highlightSuffix);\n              }\n\n              prevEnd = end;\n            }\n\n            if (prevEnd) {\n              appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n            }\n          }\n        }, {\n          key: 'updateMatches',\n          value: function updateMatches() {\n            if (!this.renderingDone) {\n              return;\n            }\n\n            var matches = this.matches;\n            var textDivs = this.textDivs;\n            var textContentItemsStr = this.textContentItemsStr;\n            var clearedUntilDivIdx = -1;\n\n            for (var i = 0, len = matches.length; i < len; i++) {\n              var match = matches[i];\n              var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n              for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n                var div = textDivs[n];\n                div.textContent = textContentItemsStr[n];\n                div.className = '';\n              }\n\n              clearedUntilDivIdx = match.end.divIdx + 1;\n            }\n\n            if (this.findController === null || !this.findController.active) {\n              return;\n            }\n\n            var pageMatches = void 0,\n                pageMatchesLength = void 0;\n\n            if (this.findController !== null) {\n              pageMatches = this.findController.pageMatches[this.pageIdx] || null;\n              pageMatchesLength = this.findController.pageMatchesLength ? this.findController.pageMatchesLength[this.pageIdx] || null : null;\n            }\n\n            this.matches = this.convertMatches(pageMatches, pageMatchesLength);\n            this.renderMatches(this.matches);\n          }\n        }, {\n          key: '_bindMouse',\n          value: function _bindMouse() {\n            var _this2 = this;\n\n            var div = this.textLayerDiv;\n            var expandDivsTimer = null;\n            div.addEventListener('mousedown', function (evt) {\n              if (_this2.enhanceTextSelection && _this2.textLayerRenderTask) {\n                _this2.textLayerRenderTask.expandTextDivs(true);\n\n                if (expandDivsTimer) {\n                  clearTimeout(expandDivsTimer);\n                  expandDivsTimer = null;\n                }\n\n                return;\n              }\n\n              var end = div.querySelector('.endOfContent');\n\n              if (!end) {\n                return;\n              }\n\n              var adjustTop = evt.target !== div;\n              adjustTop = adjustTop && window.getComputedStyle(end).getPropertyValue('-moz-user-select') !== 'none';\n\n              if (adjustTop) {\n                var divBounds = div.getBoundingClientRect();\n                var r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n                end.style.top = (r * 100).toFixed(2) + '%';\n              }\n\n              end.classList.add('active');\n            });\n            div.addEventListener('mouseup', function () {\n              if (_this2.enhanceTextSelection && _this2.textLayerRenderTask) {\n                expandDivsTimer = setTimeout(function () {\n                  if (_this2.textLayerRenderTask) {\n                    _this2.textLayerRenderTask.expandTextDivs(false);\n                  }\n\n                  expandDivsTimer = null;\n                }, EXPAND_DIVS_TIMEOUT);\n                return;\n              }\n\n              var end = div.querySelector('.endOfContent');\n\n              if (!end) {\n                return;\n              }\n\n              end.style.top = '';\n              end.classList.remove('active');\n            });\n          }\n        }]);\n\n        return TextLayerBuilder;\n      }();\n\n      var DefaultTextLayerFactory = function () {\n        function DefaultTextLayerFactory() {\n          _classCallCheck(this, DefaultTextLayerFactory);\n        }\n\n        _createClass(DefaultTextLayerFactory, [{\n          key: 'createTextLayerBuilder',\n          value: function createTextLayerBuilder(textLayerDiv, pageIndex, viewport) {\n            var enhanceTextSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n            return new TextLayerBuilder({\n              textLayerDiv: textLayerDiv,\n              pageIndex: pageIndex,\n              viewport: viewport,\n              enhanceTextSelection: enhanceTextSelection\n            });\n          }\n        }]);\n\n        return DefaultTextLayerFactory;\n      }();\n\n      exports.TextLayerBuilder = TextLayerBuilder;\n      exports.DefaultTextLayerFactory = DefaultTextLayerFactory;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFPageView = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      var _dom_events = __w_pdfjs_require__(2);\n\n      var _pdf_rendering_queue = __w_pdfjs_require__(7);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var PDFPageView = function () {\n        function PDFPageView(options) {\n          _classCallCheck(this, PDFPageView);\n\n          var container = options.container;\n          var defaultViewport = options.defaultViewport;\n          this.id = options.id;\n          this.renderingId = 'page' + this.id;\n          this.pdfPage = null;\n          this.pageLabel = null;\n          this.rotation = 0;\n          this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n          this.viewport = defaultViewport;\n          this.pdfPageRotate = defaultViewport.rotation;\n          this.hasRestrictedScaling = false;\n          this.enhanceTextSelection = options.enhanceTextSelection || false;\n          this.renderInteractiveForms = options.renderInteractiveForms || false;\n          this.eventBus = options.eventBus || (0, _dom_events.getGlobalEventBus)();\n          this.renderingQueue = options.renderingQueue;\n          this.textLayerFactory = options.textLayerFactory;\n          this.annotationLayerFactory = options.annotationLayerFactory;\n          this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n          this.l10n = options.l10n || _ui_utils.NullL10n;\n          this.paintTask = null;\n          this.paintedViewportMap = new WeakMap();\n          this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n          this.resume = null;\n          this.error = null;\n          this.onBeforeDraw = null;\n          this.onAfterDraw = null;\n          this.annotationLayer = null;\n          this.textLayer = null;\n          this.zoomLayer = null;\n          var div = document.createElement('div');\n          div.className = 'page';\n          div.style.width = Math.floor(this.viewport.width) + 'px';\n          div.style.height = Math.floor(this.viewport.height) + 'px';\n          div.setAttribute('data-page-number', this.id);\n          this.div = div;\n          container.appendChild(div);\n        }\n\n        _createClass(PDFPageView, [{\n          key: 'setPdfPage',\n          value: function setPdfPage(pdfPage) {\n            this.pdfPage = pdfPage;\n            this.pdfPageRotate = pdfPage.rotate;\n            var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n            this.viewport = pdfPage.getViewport(this.scale * _ui_utils.CSS_UNITS, totalRotation);\n            this.stats = pdfPage.stats;\n            this.reset();\n          }\n        }, {\n          key: 'destroy',\n          value: function destroy() {\n            this.reset();\n\n            if (this.pdfPage) {\n              this.pdfPage.cleanup();\n            }\n          }\n        }, {\n          key: '_resetZoomLayer',\n          value: function _resetZoomLayer() {\n            var removeFromDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (!this.zoomLayer) {\n              return;\n            }\n\n            var zoomLayerCanvas = this.zoomLayer.firstChild;\n            this.paintedViewportMap.delete(zoomLayerCanvas);\n            zoomLayerCanvas.width = 0;\n            zoomLayerCanvas.height = 0;\n\n            if (removeFromDOM) {\n              this.zoomLayer.remove();\n            }\n\n            this.zoomLayer = null;\n          }\n        }, {\n          key: 'reset',\n          value: function reset() {\n            var keepZoomLayer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            var keepAnnotations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            this.cancelRendering(keepAnnotations);\n            var div = this.div;\n            div.style.width = Math.floor(this.viewport.width) + 'px';\n            div.style.height = Math.floor(this.viewport.height) + 'px';\n            var childNodes = div.childNodes;\n            var currentZoomLayerNode = keepZoomLayer && this.zoomLayer || null;\n            var currentAnnotationNode = keepAnnotations && this.annotationLayer && this.annotationLayer.div || null;\n\n            for (var i = childNodes.length - 1; i >= 0; i--) {\n              var node = childNodes[i];\n\n              if (currentZoomLayerNode === node || currentAnnotationNode === node) {\n                continue;\n              }\n\n              div.removeChild(node);\n            }\n\n            div.removeAttribute('data-loaded');\n\n            if (currentAnnotationNode) {\n              this.annotationLayer.hide();\n            } else if (this.annotationLayer) {\n              this.annotationLayer.cancel();\n              this.annotationLayer = null;\n            }\n\n            if (!currentZoomLayerNode) {\n              if (this.canvas) {\n                this.paintedViewportMap.delete(this.canvas);\n                this.canvas.width = 0;\n                this.canvas.height = 0;\n                delete this.canvas;\n              }\n\n              this._resetZoomLayer();\n            }\n\n            if (this.svg) {\n              this.paintedViewportMap.delete(this.svg);\n              delete this.svg;\n            }\n\n            this.loadingIconDiv = document.createElement('div');\n            this.loadingIconDiv.className = 'loadingIcon';\n            div.appendChild(this.loadingIconDiv);\n          }\n        }, {\n          key: 'update',\n          value: function update(scale, rotation) {\n            this.scale = scale || this.scale;\n\n            if (typeof rotation !== 'undefined') {\n              this.rotation = rotation;\n            }\n\n            var totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n            this.viewport = this.viewport.clone({\n              scale: this.scale * _ui_utils.CSS_UNITS,\n              rotation: totalRotation\n            });\n\n            if (this.svg) {\n              this.cssTransform(this.svg, true);\n              this.eventBus.dispatch('pagerendered', {\n                source: this,\n                pageNumber: this.id,\n                cssTransform: true\n              });\n              return;\n            }\n\n            var isScalingRestricted = false;\n\n            if (this.canvas && _pdfjsLib.PDFJS.maxCanvasPixels > 0) {\n              var outputScale = this.outputScale;\n\n              if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > _pdfjsLib.PDFJS.maxCanvasPixels) {\n                isScalingRestricted = true;\n              }\n            }\n\n            if (this.canvas) {\n              if (_pdfjsLib.PDFJS.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n                this.cssTransform(this.canvas, true);\n                this.eventBus.dispatch('pagerendered', {\n                  source: this,\n                  pageNumber: this.id,\n                  cssTransform: true\n                });\n                return;\n              }\n\n              if (!this.zoomLayer && !this.canvas.hasAttribute('hidden')) {\n                this.zoomLayer = this.canvas.parentNode;\n                this.zoomLayer.style.position = 'absolute';\n              }\n            }\n\n            if (this.zoomLayer) {\n              this.cssTransform(this.zoomLayer.firstChild);\n            }\n\n            this.reset(true, true);\n          }\n        }, {\n          key: 'cancelRendering',\n          value: function cancelRendering() {\n            var keepAnnotations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (this.paintTask) {\n              this.paintTask.cancel();\n              this.paintTask = null;\n            }\n\n            this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n            this.resume = null;\n\n            if (this.textLayer) {\n              this.textLayer.cancel();\n              this.textLayer = null;\n            }\n\n            if (!keepAnnotations && this.annotationLayer) {\n              this.annotationLayer.cancel();\n              this.annotationLayer = null;\n            }\n          }\n        }, {\n          key: 'cssTransform',\n          value: function cssTransform(target) {\n            var redrawAnnotations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var width = this.viewport.width;\n            var height = this.viewport.height;\n            var div = this.div;\n            target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + 'px';\n            target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + 'px';\n            var relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n            var absRotation = Math.abs(relativeRotation);\n            var scaleX = 1,\n                scaleY = 1;\n\n            if (absRotation === 90 || absRotation === 270) {\n              scaleX = height / width;\n              scaleY = width / height;\n            }\n\n            var cssTransform = 'rotate(' + relativeRotation + 'deg) ' + 'scale(' + scaleX + ',' + scaleY + ')';\n            target.style.transform = cssTransform;\n\n            if (this.textLayer) {\n              var textLayerViewport = this.textLayer.viewport;\n              var textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n              var textAbsRotation = Math.abs(textRelativeRotation);\n              var scale = width / textLayerViewport.width;\n\n              if (textAbsRotation === 90 || textAbsRotation === 270) {\n                scale = width / textLayerViewport.height;\n              }\n\n              var textLayerDiv = this.textLayer.textLayerDiv;\n              var transX = void 0,\n                  transY = void 0;\n\n              switch (textAbsRotation) {\n                case 0:\n                  transX = transY = 0;\n                  break;\n\n                case 90:\n                  transX = 0;\n                  transY = '-' + textLayerDiv.style.height;\n                  break;\n\n                case 180:\n                  transX = '-' + textLayerDiv.style.width;\n                  transY = '-' + textLayerDiv.style.height;\n                  break;\n\n                case 270:\n                  transX = '-' + textLayerDiv.style.width;\n                  transY = 0;\n                  break;\n\n                default:\n                  console.error('Bad rotation value.');\n                  break;\n              }\n\n              textLayerDiv.style.transform = 'rotate(' + textAbsRotation + 'deg) ' + 'scale(' + scale + ', ' + scale + ') ' + 'translate(' + transX + ', ' + transY + ')';\n              textLayerDiv.style.transformOrigin = '0% 0%';\n            }\n\n            if (redrawAnnotations && this.annotationLayer) {\n              this.annotationLayer.render(this.viewport, 'display');\n            }\n          }\n        }, {\n          key: 'getPagePoint',\n          value: function getPagePoint(x, y) {\n            return this.viewport.convertToPdfPoint(x, y);\n          }\n        }, {\n          key: 'draw',\n          value: function draw() {\n            var _this = this;\n\n            if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n              console.error('Must be in new state before drawing');\n              this.reset();\n            }\n\n            if (!this.pdfPage) {\n              this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n              return Promise.reject(new Error('Page is not loaded'));\n            }\n\n            this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n            var pdfPage = this.pdfPage;\n            var div = this.div;\n            var canvasWrapper = document.createElement('div');\n            canvasWrapper.style.width = div.style.width;\n            canvasWrapper.style.height = div.style.height;\n            canvasWrapper.classList.add('canvasWrapper');\n\n            if (this.annotationLayer && this.annotationLayer.div) {\n              div.insertBefore(canvasWrapper, this.annotationLayer.div);\n            } else {\n              div.appendChild(canvasWrapper);\n            }\n\n            var textLayer = null;\n\n            if (this.textLayerFactory) {\n              var textLayerDiv = document.createElement('div');\n              textLayerDiv.className = 'textLayer';\n              textLayerDiv.style.width = canvasWrapper.style.width;\n              textLayerDiv.style.height = canvasWrapper.style.height;\n\n              if (this.annotationLayer && this.annotationLayer.div) {\n                div.insertBefore(textLayerDiv, this.annotationLayer.div);\n              } else {\n                div.appendChild(textLayerDiv);\n              }\n\n              textLayer = this.textLayerFactory.createTextLayerBuilder(textLayerDiv, this.id - 1, this.viewport, this.enhanceTextSelection);\n            }\n\n            this.textLayer = textLayer;\n            var renderContinueCallback = null;\n\n            if (this.renderingQueue) {\n              renderContinueCallback = function renderContinueCallback(cont) {\n                if (!_this.renderingQueue.isHighestPriority(_this)) {\n                  _this.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n                  _this.resume = function () {\n                    _this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n                    cont();\n                  };\n\n                  return;\n                }\n\n                cont();\n              };\n            }\n\n            var finishPaintTask = function finishPaintTask(error) {\n              if (paintTask === _this.paintTask) {\n                _this.paintTask = null;\n              }\n\n              if (error instanceof _pdfjsLib.RenderingCancelledException) {\n                _this.error = null;\n                return Promise.resolve(undefined);\n              }\n\n              _this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n              if (_this.loadingIconDiv) {\n                div.removeChild(_this.loadingIconDiv);\n                delete _this.loadingIconDiv;\n              }\n\n              _this._resetZoomLayer(true);\n\n              _this.error = error;\n              _this.stats = pdfPage.stats;\n\n              if (_this.onAfterDraw) {\n                _this.onAfterDraw();\n              }\n\n              _this.eventBus.dispatch('pagerendered', {\n                source: _this,\n                pageNumber: _this.id,\n                cssTransform: false\n              });\n\n              if (error) {\n                return Promise.reject(error);\n              }\n\n              return Promise.resolve(undefined);\n            };\n\n            var paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n            paintTask.onRenderContinue = renderContinueCallback;\n            this.paintTask = paintTask;\n            var resultPromise = paintTask.promise.then(function () {\n              return finishPaintTask(null).then(function () {\n                if (textLayer) {\n                  var readableStream = pdfPage.streamTextContent({\n                    normalizeWhitespace: true\n                  });\n                  textLayer.setTextContentStream(readableStream);\n                  textLayer.render();\n                }\n              });\n            }, function (reason) {\n              return finishPaintTask(reason);\n            });\n\n            if (this.annotationLayerFactory) {\n              if (!this.annotationLayer) {\n                this.annotationLayer = this.annotationLayerFactory.createAnnotationLayerBuilder(div, pdfPage, this.renderInteractiveForms, this.l10n);\n              }\n\n              this.annotationLayer.render(this.viewport, 'display');\n            }\n\n            div.setAttribute('data-loaded', true);\n\n            if (this.onBeforeDraw) {\n              this.onBeforeDraw();\n            }\n\n            return resultPromise;\n          }\n        }, {\n          key: 'paintOnCanvas',\n          value: function paintOnCanvas(canvasWrapper) {\n            var renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n            var result = {\n              promise: renderCapability.promise,\n              onRenderContinue: function onRenderContinue(cont) {\n                cont();\n              },\n              cancel: function cancel() {\n                renderTask.cancel();\n              }\n            };\n            var viewport = this.viewport;\n            var canvas = document.createElement('canvas');\n            canvas.id = this.renderingId;\n            canvas.setAttribute('hidden', 'hidden');\n            var isCanvasHidden = true;\n\n            var showCanvas = function showCanvas() {\n              if (isCanvasHidden) {\n                canvas.removeAttribute('hidden');\n                isCanvasHidden = false;\n              }\n            };\n\n            canvasWrapper.appendChild(canvas);\n            this.canvas = canvas;\n            canvas.mozOpaque = true;\n            var ctx = canvas.getContext('2d', {\n              alpha: false\n            });\n            var outputScale = (0, _ui_utils.getOutputScale)(ctx);\n            this.outputScale = outputScale;\n\n            if (_pdfjsLib.PDFJS.useOnlyCssZoom) {\n              var actualSizeViewport = viewport.clone({\n                scale: _ui_utils.CSS_UNITS\n              });\n              outputScale.sx *= actualSizeViewport.width / viewport.width;\n              outputScale.sy *= actualSizeViewport.height / viewport.height;\n              outputScale.scaled = true;\n            }\n\n            if (_pdfjsLib.PDFJS.maxCanvasPixels > 0) {\n              var pixelsInViewport = viewport.width * viewport.height;\n              var maxScale = Math.sqrt(_pdfjsLib.PDFJS.maxCanvasPixels / pixelsInViewport);\n\n              if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n                outputScale.sx = maxScale;\n                outputScale.sy = maxScale;\n                outputScale.scaled = true;\n                this.hasRestrictedScaling = true;\n              } else {\n                this.hasRestrictedScaling = false;\n              }\n            }\n\n            var sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n            var sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n            canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n            canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n            canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + 'px';\n            canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + 'px';\n            this.paintedViewportMap.set(canvas, viewport);\n            var transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n            var renderContext = {\n              canvasContext: ctx,\n              transform: transform,\n              viewport: this.viewport,\n              renderInteractiveForms: this.renderInteractiveForms\n            };\n            var renderTask = this.pdfPage.render(renderContext);\n\n            renderTask.onContinue = function (cont) {\n              showCanvas();\n\n              if (result.onRenderContinue) {\n                result.onRenderContinue(cont);\n              } else {\n                cont();\n              }\n            };\n\n            renderTask.promise.then(function () {\n              showCanvas();\n              renderCapability.resolve(undefined);\n            }, function (error) {\n              showCanvas();\n              renderCapability.reject(error);\n            });\n            return result;\n          }\n        }, {\n          key: 'paintOnSvg',\n          value: function paintOnSvg(wrapper) {\n            var _this2 = this;\n\n            var cancelled = false;\n\n            var ensureNotCancelled = function ensureNotCancelled() {\n              if (cancelled) {\n                throw new _pdfjsLib.RenderingCancelledException('Rendering cancelled, page ' + _this2.id, 'svg');\n              }\n            };\n\n            var pdfPage = this.pdfPage;\n            var actualSizeViewport = this.viewport.clone({\n              scale: _ui_utils.CSS_UNITS\n            });\n            var promise = pdfPage.getOperatorList().then(function (opList) {\n              ensureNotCancelled();\n              var svgGfx = new _pdfjsLib.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n              return svgGfx.getSVG(opList, actualSizeViewport).then(function (svg) {\n                ensureNotCancelled();\n                _this2.svg = svg;\n\n                _this2.paintedViewportMap.set(svg, actualSizeViewport);\n\n                svg.style.width = wrapper.style.width;\n                svg.style.height = wrapper.style.height;\n                _this2.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n                wrapper.appendChild(svg);\n              });\n            });\n            return {\n              promise: promise,\n              onRenderContinue: function onRenderContinue(cont) {\n                cont();\n              },\n              cancel: function cancel() {\n                cancelled = true;\n              }\n            };\n          }\n        }, {\n          key: 'setPageLabel',\n          value: function setPageLabel(label) {\n            this.pageLabel = typeof label === 'string' ? label : null;\n\n            if (this.pageLabel !== null) {\n              this.div.setAttribute('data-page-label', this.pageLabel);\n            } else {\n              this.div.removeAttribute('data-page-label');\n            }\n          }\n        }, {\n          key: 'width',\n          get: function get() {\n            return this.viewport.width;\n          }\n        }, {\n          key: 'height',\n          get: function get() {\n            return this.viewport.height;\n          }\n        }]);\n\n        return PDFPageView;\n      }();\n\n      exports.PDFPageView = PDFPageView;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var CLEANUP_TIMEOUT = 30000;\n      var RenderingStates = {\n        INITIAL: 0,\n        RUNNING: 1,\n        PAUSED: 2,\n        FINISHED: 3\n      };\n\n      var PDFRenderingQueue = function () {\n        function PDFRenderingQueue() {\n          _classCallCheck(this, PDFRenderingQueue);\n\n          this.pdfViewer = null;\n          this.pdfThumbnailViewer = null;\n          this.onIdle = null;\n          this.highestPriorityPage = null;\n          this.idleTimeout = null;\n          this.printing = false;\n          this.isThumbnailViewEnabled = false;\n        }\n\n        _createClass(PDFRenderingQueue, [{\n          key: \"setViewer\",\n          value: function setViewer(pdfViewer) {\n            this.pdfViewer = pdfViewer;\n          }\n        }, {\n          key: \"setThumbnailViewer\",\n          value: function setThumbnailViewer(pdfThumbnailViewer) {\n            this.pdfThumbnailViewer = pdfThumbnailViewer;\n          }\n        }, {\n          key: \"isHighestPriority\",\n          value: function isHighestPriority(view) {\n            return this.highestPriorityPage === view.renderingId;\n          }\n        }, {\n          key: \"renderHighestPriority\",\n          value: function renderHighestPriority(currentlyVisiblePages) {\n            if (this.idleTimeout) {\n              clearTimeout(this.idleTimeout);\n              this.idleTimeout = null;\n            }\n\n            if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n              return;\n            }\n\n            if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n              if (this.pdfThumbnailViewer.forceRendering()) {\n                return;\n              }\n            }\n\n            if (this.printing) {\n              return;\n            }\n\n            if (this.onIdle) {\n              this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n            }\n          }\n        }, {\n          key: \"getHighestPriority\",\n          value: function getHighestPriority(visible, views, scrolledDown) {\n            var visibleViews = visible.views;\n            var numVisible = visibleViews.length;\n\n            if (numVisible === 0) {\n              return false;\n            }\n\n            for (var i = 0; i < numVisible; ++i) {\n              var view = visibleViews[i].view;\n\n              if (!this.isViewFinished(view)) {\n                return view;\n              }\n            }\n\n            if (scrolledDown) {\n              var nextPageIndex = visible.last.id;\n\n              if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n                return views[nextPageIndex];\n              }\n            } else {\n              var previousPageIndex = visible.first.id - 2;\n\n              if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {\n                return views[previousPageIndex];\n              }\n            }\n\n            return null;\n          }\n        }, {\n          key: \"isViewFinished\",\n          value: function isViewFinished(view) {\n            return view.renderingState === RenderingStates.FINISHED;\n          }\n        }, {\n          key: \"renderView\",\n          value: function renderView(view) {\n            var _this = this;\n\n            switch (view.renderingState) {\n              case RenderingStates.FINISHED:\n                return false;\n\n              case RenderingStates.PAUSED:\n                this.highestPriorityPage = view.renderingId;\n                view.resume();\n                break;\n\n              case RenderingStates.RUNNING:\n                this.highestPriorityPage = view.renderingId;\n                break;\n\n              case RenderingStates.INITIAL:\n                this.highestPriorityPage = view.renderingId;\n\n                var continueRendering = function continueRendering() {\n                  _this.renderHighestPriority();\n                };\n\n                view.draw().then(continueRendering, continueRendering);\n                break;\n            }\n\n            return true;\n          }\n        }]);\n\n        return PDFRenderingQueue;\n      }();\n\n      exports.RenderingStates = RenderingStates;\n      exports.PDFRenderingQueue = PDFRenderingQueue;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BaseViewer = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _pdf_rendering_queue = __w_pdfjs_require__(7);\n\n      var _annotation_layer_builder = __w_pdfjs_require__(4);\n\n      var _dom_events = __w_pdfjs_require__(2);\n\n      var _pdf_page_view = __w_pdfjs_require__(6);\n\n      var _pdf_link_service = __w_pdfjs_require__(3);\n\n      var _text_layer_builder = __w_pdfjs_require__(5);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var DEFAULT_CACHE_SIZE = 10;\n\n      function PDFPageViewBuffer(size) {\n        var data = [];\n\n        this.push = function (view) {\n          var i = data.indexOf(view);\n\n          if (i >= 0) {\n            data.splice(i, 1);\n          }\n\n          data.push(view);\n\n          if (data.length > size) {\n            data.shift().destroy();\n          }\n        };\n\n        this.resize = function (newSize) {\n          size = newSize;\n\n          while (data.length > size) {\n            data.shift().destroy();\n          }\n        };\n      }\n\n      function isSameScale(oldScale, newScale) {\n        if (newScale === oldScale) {\n          return true;\n        }\n\n        if (Math.abs(newScale - oldScale) < 1e-15) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isPortraitOrientation(size) {\n        return size.width <= size.height;\n      }\n\n      var BaseViewer = function () {\n        function BaseViewer(options) {\n          _classCallCheck(this, BaseViewer);\n\n          if (this.constructor === BaseViewer) {\n            throw new Error('Cannot initialize BaseViewer.');\n          }\n\n          this._name = this.constructor.name;\n          this.container = options.container;\n          this.viewer = options.viewer || options.container.firstElementChild;\n          this.eventBus = options.eventBus || (0, _dom_events.getGlobalEventBus)();\n          this.linkService = options.linkService || new _pdf_link_service.SimpleLinkService();\n          this.downloadManager = options.downloadManager || null;\n          this.removePageBorders = options.removePageBorders || false;\n          this.enhanceTextSelection = options.enhanceTextSelection || false;\n          this.renderInteractiveForms = options.renderInteractiveForms || false;\n          this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n          this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n          this.l10n = options.l10n || _ui_utils.NullL10n;\n          this.defaultRenderingQueue = !options.renderingQueue;\n\n          if (this.defaultRenderingQueue) {\n            this.renderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n            this.renderingQueue.setViewer(this);\n          } else {\n            this.renderingQueue = options.renderingQueue;\n          }\n\n          this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdate.bind(this));\n          this.presentationModeState = _ui_utils.PresentationModeState.UNKNOWN;\n\n          this._resetView();\n\n          if (this.removePageBorders) {\n            this.viewer.classList.add('removePageBorders');\n          }\n        }\n\n        _createClass(BaseViewer, [{\n          key: 'getPageView',\n          value: function getPageView(index) {\n            return this._pages[index];\n          }\n        }, {\n          key: '_setCurrentPageNumber',\n          value: function _setCurrentPageNumber(val) {\n            var resetCurrentPageView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (this._currentPageNumber === val) {\n              if (resetCurrentPageView) {\n                this._resetCurrentPageView();\n              }\n\n              return;\n            }\n\n            if (!(0 < val && val <= this.pagesCount)) {\n              console.error(this._name + '._setCurrentPageNumber: \"' + val + '\" is out of bounds.');\n              return;\n            }\n\n            var arg = {\n              source: this,\n              pageNumber: val,\n              pageLabel: this._pageLabels && this._pageLabels[val - 1]\n            };\n            this._currentPageNumber = val;\n            this.eventBus.dispatch('pagechanging', arg);\n            this.eventBus.dispatch('pagechange', arg);\n\n            if (resetCurrentPageView) {\n              this._resetCurrentPageView();\n            }\n          }\n        }, {\n          key: 'setDocument',\n          value: function setDocument(pdfDocument) {\n            var _this = this;\n\n            if (this.pdfDocument) {\n              this._cancelRendering();\n\n              this._resetView();\n            }\n\n            this.pdfDocument = pdfDocument;\n\n            if (!pdfDocument) {\n              return;\n            }\n\n            var pagesCount = pdfDocument.numPages;\n            var pagesCapability = (0, _pdfjsLib.createPromiseCapability)();\n            this.pagesPromise = pagesCapability.promise;\n            pagesCapability.promise.then(function () {\n              _this._pageViewsReady = true;\n\n              _this.eventBus.dispatch('pagesloaded', {\n                source: _this,\n                pagesCount: pagesCount\n              });\n            });\n            var isOnePageRenderedResolved = false;\n            var onePageRenderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n            this.onePageRendered = onePageRenderedCapability.promise;\n\n            var bindOnAfterAndBeforeDraw = function bindOnAfterAndBeforeDraw(pageView) {\n              pageView.onBeforeDraw = function () {\n                _this._buffer.push(pageView);\n              };\n\n              pageView.onAfterDraw = function () {\n                if (!isOnePageRenderedResolved) {\n                  isOnePageRenderedResolved = true;\n                  onePageRenderedCapability.resolve();\n                }\n              };\n            };\n\n            var firstPagePromise = pdfDocument.getPage(1);\n            this.firstPagePromise = firstPagePromise;\n            firstPagePromise.then(function (pdfPage) {\n              var scale = _this.currentScale;\n              var viewport = pdfPage.getViewport(scale * _ui_utils.CSS_UNITS);\n\n              for (var pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n                var textLayerFactory = null;\n\n                if (!_pdfjsLib.PDFJS.disableTextLayer) {\n                  textLayerFactory = _this;\n                }\n\n                var pageView = new _pdf_page_view.PDFPageView({\n                  container: _this._setDocumentViewerElement,\n                  eventBus: _this.eventBus,\n                  id: pageNum,\n                  scale: scale,\n                  defaultViewport: viewport.clone(),\n                  renderingQueue: _this.renderingQueue,\n                  textLayerFactory: textLayerFactory,\n                  annotationLayerFactory: _this,\n                  enhanceTextSelection: _this.enhanceTextSelection,\n                  renderInteractiveForms: _this.renderInteractiveForms,\n                  renderer: _this.renderer,\n                  l10n: _this.l10n\n                });\n                bindOnAfterAndBeforeDraw(pageView);\n\n                _this._pages.push(pageView);\n              }\n\n              onePageRenderedCapability.promise.then(function () {\n                if (_pdfjsLib.PDFJS.disableAutoFetch) {\n                  pagesCapability.resolve();\n                  return;\n                }\n\n                var getPagesLeft = pagesCount;\n\n                var _loop = function _loop(_pageNum) {\n                  pdfDocument.getPage(_pageNum).then(function (pdfPage) {\n                    var pageView = _this._pages[_pageNum - 1];\n\n                    if (!pageView.pdfPage) {\n                      pageView.setPdfPage(pdfPage);\n                    }\n\n                    _this.linkService.cachePageRef(_pageNum, pdfPage.ref);\n\n                    if (--getPagesLeft === 0) {\n                      pagesCapability.resolve();\n                    }\n                  }, function (reason) {\n                    console.error('Unable to get page ' + _pageNum + ' to initialize viewer', reason);\n\n                    if (--getPagesLeft === 0) {\n                      pagesCapability.resolve();\n                    }\n                  });\n                };\n\n                for (var _pageNum = 1; _pageNum <= pagesCount; ++_pageNum) {\n                  _loop(_pageNum);\n                }\n              });\n\n              _this.eventBus.dispatch('pagesinit', {\n                source: _this\n              });\n\n              if (_this.defaultRenderingQueue) {\n                _this.update();\n              }\n\n              if (_this.findController) {\n                _this.findController.resolveFirstPage();\n              }\n            }).catch(function (reason) {\n              console.error('Unable to initialize viewer', reason);\n            });\n          }\n        }, {\n          key: 'setPageLabels',\n          value: function setPageLabels(labels) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            if (!labels) {\n              this._pageLabels = null;\n            } else if (!(labels instanceof Array && this.pdfDocument.numPages === labels.length)) {\n              this._pageLabels = null;\n              console.error(this._name + '.setPageLabels: Invalid page labels.');\n            } else {\n              this._pageLabels = labels;\n            }\n\n            for (var i = 0, ii = this._pages.length; i < ii; i++) {\n              var pageView = this._pages[i];\n              var label = this._pageLabels && this._pageLabels[i];\n              pageView.setPageLabel(label);\n            }\n          }\n        }, {\n          key: '_resetView',\n          value: function _resetView() {\n            this._pages = [];\n            this._currentPageNumber = 1;\n            this._currentScale = _ui_utils.UNKNOWN_SCALE;\n            this._currentScaleValue = null;\n            this._pageLabels = null;\n            this._buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n            this._location = null;\n            this._pagesRotation = 0;\n            this._pagesRequests = [];\n            this._pageViewsReady = false;\n            this.viewer.textContent = '';\n          }\n        }, {\n          key: '_scrollUpdate',\n          value: function _scrollUpdate() {\n            if (this.pagesCount === 0) {\n              return;\n            }\n\n            this.update();\n          }\n        }, {\n          key: '_scrollIntoView',\n          value: function _scrollIntoView(_ref) {\n            var pageDiv = _ref.pageDiv,\n                _ref$pageSpot = _ref.pageSpot,\n                pageSpot = _ref$pageSpot === undefined ? null : _ref$pageSpot,\n                _ref$pageNumber = _ref.pageNumber,\n                pageNumber = _ref$pageNumber === undefined ? null : _ref$pageNumber;\n            throw new Error('Not implemented: _scrollIntoView');\n          }\n        }, {\n          key: '_setScaleDispatchEvent',\n          value: function _setScaleDispatchEvent(newScale, newValue) {\n            var preset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var arg = {\n              source: this,\n              scale: newScale,\n              presetValue: preset ? newValue : undefined\n            };\n            this.eventBus.dispatch('scalechanging', arg);\n            this.eventBus.dispatch('scalechange', arg);\n          }\n        }, {\n          key: '_setScaleUpdatePages',\n          value: function _setScaleUpdatePages(newScale, newValue) {\n            var noScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var preset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n            this._currentScaleValue = newValue.toString();\n\n            if (isSameScale(this._currentScale, newScale)) {\n              if (preset) {\n                this._setScaleDispatchEvent(newScale, newValue, true);\n              }\n\n              return;\n            }\n\n            for (var i = 0, ii = this._pages.length; i < ii; i++) {\n              this._pages[i].update(newScale);\n            }\n\n            this._currentScale = newScale;\n\n            if (!noScroll) {\n              var page = this._currentPageNumber,\n                  dest = void 0;\n\n              if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n                page = this._location.pageNumber;\n                dest = [null, {\n                  name: 'XYZ'\n                }, this._location.left, this._location.top, null];\n              }\n\n              this.scrollPageIntoView({\n                pageNumber: page,\n                destArray: dest,\n                allowNegativeOffset: true\n              });\n            }\n\n            this._setScaleDispatchEvent(newScale, newValue, preset);\n\n            if (this.defaultRenderingQueue) {\n              this.update();\n            }\n          }\n        }, {\n          key: '_setScale',\n          value: function _setScale(value) {\n            var noScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var scale = parseFloat(value);\n\n            if (scale > 0) {\n              this._setScaleUpdatePages(scale, value, noScroll, false);\n            } else {\n              var currentPage = this._pages[this._currentPageNumber - 1];\n\n              if (!currentPage) {\n                return;\n              }\n\n              var hPadding = this.isInPresentationMode || this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n              var vPadding = this.isInPresentationMode || this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n              var pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale;\n              var pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n              switch (value) {\n                case 'page-actual':\n                  scale = 1;\n                  break;\n\n                case 'page-width':\n                  scale = pageWidthScale;\n                  break;\n\n                case 'page-height':\n                  scale = pageHeightScale;\n                  break;\n\n                case 'page-fit':\n                  scale = Math.min(pageWidthScale, pageHeightScale);\n                  break;\n\n                case 'auto':\n                  var isLandscape = currentPage.width > currentPage.height;\n                  var horizontalScale = isLandscape ? Math.min(pageHeightScale, pageWidthScale) : pageWidthScale;\n                  scale = Math.min(_ui_utils.MAX_AUTO_SCALE, horizontalScale);\n                  break;\n\n                default:\n                  console.error(this._name + '._setScale: \"' + value + '\" is an unknown zoom value.');\n                  return;\n              }\n\n              this._setScaleUpdatePages(scale, value, noScroll, true);\n            }\n          }\n        }, {\n          key: '_resetCurrentPageView',\n          value: function _resetCurrentPageView() {\n            if (this.isInPresentationMode) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            var pageView = this._pages[this._currentPageNumber - 1];\n\n            this._scrollIntoView({\n              pageDiv: pageView.div\n            });\n          }\n        }, {\n          key: 'scrollPageIntoView',\n          value: function scrollPageIntoView(params) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            var pageNumber = params.pageNumber || 0;\n            var dest = params.destArray || null;\n            var allowNegativeOffset = params.allowNegativeOffset || false;\n\n            if (this.isInPresentationMode || !dest) {\n              this._setCurrentPageNumber(pageNumber, true);\n\n              return;\n            }\n\n            var pageView = this._pages[pageNumber - 1];\n\n            if (!pageView) {\n              console.error(this._name + '.scrollPageIntoView: Invalid \"pageNumber\" parameter.');\n              return;\n            }\n\n            var x = 0,\n                y = 0;\n            var width = 0,\n                height = 0,\n                widthScale = void 0,\n                heightScale = void 0;\n            var changeOrientation = pageView.rotation % 180 === 0 ? false : true;\n            var pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / _ui_utils.CSS_UNITS;\n            var pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / _ui_utils.CSS_UNITS;\n            var scale = 0;\n\n            switch (dest[1].name) {\n              case 'XYZ':\n                x = dest[2];\n                y = dest[3];\n                scale = dest[4];\n                x = x !== null ? x : 0;\n                y = y !== null ? y : pageHeight;\n                break;\n\n              case 'Fit':\n              case 'FitB':\n                scale = 'page-fit';\n                break;\n\n              case 'FitH':\n              case 'FitBH':\n                y = dest[2];\n                scale = 'page-width';\n\n                if (y === null && this._location) {\n                  x = this._location.left;\n                  y = this._location.top;\n                }\n\n                break;\n\n              case 'FitV':\n              case 'FitBV':\n                x = dest[2];\n                width = pageWidth;\n                height = pageHeight;\n                scale = 'page-height';\n                break;\n\n              case 'FitR':\n                x = dest[2];\n                y = dest[3];\n                width = dest[4] - x;\n                height = dest[5] - y;\n                var hPadding = this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n                var vPadding = this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n                widthScale = (this.container.clientWidth - hPadding) / width / _ui_utils.CSS_UNITS;\n                heightScale = (this.container.clientHeight - vPadding) / height / _ui_utils.CSS_UNITS;\n                scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n                break;\n\n              default:\n                console.error(this._name + '.scrollPageIntoView: \"' + dest[1].name + '\" ' + 'is not a valid destination type.');\n                return;\n            }\n\n            if (scale && scale !== this._currentScale) {\n              this.currentScaleValue = scale;\n            } else if (this._currentScale === _ui_utils.UNKNOWN_SCALE) {\n              this.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n            }\n\n            if (scale === 'page-fit' && !dest[4]) {\n              this._scrollIntoView({\n                pageDiv: pageView.div,\n                pageNumber: pageNumber\n              });\n\n              return;\n            }\n\n            var boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n            var left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n            var top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n            if (!allowNegativeOffset) {\n              left = Math.max(left, 0);\n              top = Math.max(top, 0);\n            }\n\n            this._scrollIntoView({\n              pageDiv: pageView.div,\n              pageSpot: {\n                left: left,\n                top: top\n              },\n              pageNumber: pageNumber\n            });\n          }\n        }, {\n          key: '_resizeBuffer',\n          value: function _resizeBuffer(numVisiblePages) {\n            var suggestedCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n\n            this._buffer.resize(suggestedCacheSize);\n          }\n        }, {\n          key: '_updateLocation',\n          value: function _updateLocation(firstPage) {\n            var currentScale = this._currentScale;\n            var currentScaleValue = this._currentScaleValue;\n            var normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n            var pageNumber = firstPage.id;\n            var pdfOpenParams = '#page=' + pageNumber;\n            pdfOpenParams += '&zoom=' + normalizedScaleValue;\n            var currentPageView = this._pages[pageNumber - 1];\n            var container = this.container;\n            var topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n            var intLeft = Math.round(topLeft[0]);\n            var intTop = Math.round(topLeft[1]);\n            pdfOpenParams += ',' + intLeft + ',' + intTop;\n            this._location = {\n              pageNumber: pageNumber,\n              scale: normalizedScaleValue,\n              top: intTop,\n              left: intLeft,\n              rotation: this._pagesRotation,\n              pdfOpenParams: pdfOpenParams\n            };\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            throw new Error('Not implemented: update');\n          }\n        }, {\n          key: 'containsElement',\n          value: function containsElement(element) {\n            return this.container.contains(element);\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            this.container.focus();\n          }\n        }, {\n          key: '_getVisiblePages',\n          value: function _getVisiblePages() {\n            throw new Error('Not implemented: _getVisiblePages');\n          }\n        }, {\n          key: 'cleanup',\n          value: function cleanup() {\n            for (var i = 0, ii = this._pages.length; i < ii; i++) {\n              if (this._pages[i] && this._pages[i].renderingState !== _pdf_rendering_queue.RenderingStates.FINISHED) {\n                this._pages[i].reset();\n              }\n            }\n          }\n        }, {\n          key: '_cancelRendering',\n          value: function _cancelRendering() {\n            for (var i = 0, ii = this._pages.length; i < ii; i++) {\n              if (this._pages[i]) {\n                this._pages[i].cancelRendering();\n              }\n            }\n          }\n        }, {\n          key: '_ensurePdfPageLoaded',\n          value: function _ensurePdfPageLoaded(pageView) {\n            var _this2 = this;\n\n            if (pageView.pdfPage) {\n              return Promise.resolve(pageView.pdfPage);\n            }\n\n            var pageNumber = pageView.id;\n\n            if (this._pagesRequests[pageNumber]) {\n              return this._pagesRequests[pageNumber];\n            }\n\n            var promise = this.pdfDocument.getPage(pageNumber).then(function (pdfPage) {\n              if (!pageView.pdfPage) {\n                pageView.setPdfPage(pdfPage);\n              }\n\n              _this2._pagesRequests[pageNumber] = null;\n              return pdfPage;\n            }).catch(function (reason) {\n              console.error('Unable to get page for page view', reason);\n              _this2._pagesRequests[pageNumber] = null;\n            });\n            this._pagesRequests[pageNumber] = promise;\n            return promise;\n          }\n        }, {\n          key: 'forceRendering',\n          value: function forceRendering(currentlyVisiblePages) {\n            var _this3 = this;\n\n            var visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n            var pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, this.scroll.down);\n\n            if (pageView) {\n              this._ensurePdfPageLoaded(pageView).then(function () {\n                _this3.renderingQueue.renderView(pageView);\n              });\n\n              return true;\n            }\n\n            return false;\n          }\n        }, {\n          key: 'getPageTextContent',\n          value: function getPageTextContent(pageIndex) {\n            return this.pdfDocument.getPage(pageIndex + 1).then(function (page) {\n              return page.getTextContent({\n                normalizeWhitespace: true\n              });\n            });\n          }\n        }, {\n          key: 'createTextLayerBuilder',\n          value: function createTextLayerBuilder(textLayerDiv, pageIndex, viewport) {\n            var enhanceTextSelection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n            return new _text_layer_builder.TextLayerBuilder({\n              textLayerDiv: textLayerDiv,\n              eventBus: this.eventBus,\n              pageIndex: pageIndex,\n              viewport: viewport,\n              findController: this.isInPresentationMode ? null : this.findController,\n              enhanceTextSelection: this.isInPresentationMode ? false : enhanceTextSelection\n            });\n          }\n        }, {\n          key: 'createAnnotationLayerBuilder',\n          value: function createAnnotationLayerBuilder(pageDiv, pdfPage) {\n            var renderInteractiveForms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var l10n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _ui_utils.NullL10n;\n            return new _annotation_layer_builder.AnnotationLayerBuilder({\n              pageDiv: pageDiv,\n              pdfPage: pdfPage,\n              renderInteractiveForms: renderInteractiveForms,\n              linkService: this.linkService,\n              downloadManager: this.downloadManager,\n              l10n: l10n\n            });\n          }\n        }, {\n          key: 'setFindController',\n          value: function setFindController(findController) {\n            this.findController = findController;\n          }\n        }, {\n          key: 'getPagesOverview',\n          value: function getPagesOverview() {\n            var pagesOverview = this._pages.map(function (pageView) {\n              var viewport = pageView.pdfPage.getViewport(1);\n              return {\n                width: viewport.width,\n                height: viewport.height,\n                rotation: viewport.rotation\n              };\n            });\n\n            if (!this.enablePrintAutoRotate) {\n              return pagesOverview;\n            }\n\n            var isFirstPagePortrait = isPortraitOrientation(pagesOverview[0]);\n            return pagesOverview.map(function (size) {\n              if (isFirstPagePortrait === isPortraitOrientation(size)) {\n                return size;\n              }\n\n              return {\n                width: size.height,\n                height: size.width,\n                rotation: (size.rotation + 90) % 360\n              };\n            });\n          }\n        }, {\n          key: 'pagesCount',\n          get: function get() {\n            return this._pages.length;\n          }\n        }, {\n          key: 'pageViewsReady',\n          get: function get() {\n            return this._pageViewsReady;\n          }\n        }, {\n          key: 'currentPageNumber',\n          get: function get() {\n            return this._currentPageNumber;\n          },\n          set: function set(val) {\n            if (!Number.isInteger(val)) {\n              throw new Error('Invalid page number.');\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this._setCurrentPageNumber(val, true);\n          }\n        }, {\n          key: 'currentPageLabel',\n          get: function get() {\n            return this._pageLabels && this._pageLabels[this._currentPageNumber - 1];\n          },\n          set: function set(val) {\n            var pageNumber = val | 0;\n\n            if (this._pageLabels) {\n              var i = this._pageLabels.indexOf(val);\n\n              if (i >= 0) {\n                pageNumber = i + 1;\n              }\n            }\n\n            this.currentPageNumber = pageNumber;\n          }\n        }, {\n          key: 'currentScale',\n          get: function get() {\n            return this._currentScale !== _ui_utils.UNKNOWN_SCALE ? this._currentScale : _ui_utils.DEFAULT_SCALE;\n          },\n          set: function set(val) {\n            if (isNaN(val)) {\n              throw new Error('Invalid numeric scale');\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this._setScale(val, false);\n          }\n        }, {\n          key: 'currentScaleValue',\n          get: function get() {\n            return this._currentScaleValue;\n          },\n          set: function set(val) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this._setScale(val, false);\n          }\n        }, {\n          key: 'pagesRotation',\n          get: function get() {\n            return this._pagesRotation;\n          },\n          set: function set(rotation) {\n            if (!(0, _ui_utils.isValidRotation)(rotation)) {\n              throw new Error('Invalid pages rotation angle.');\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            if (this._pagesRotation === rotation) {\n              return;\n            }\n\n            this._pagesRotation = rotation;\n            var pageNumber = this._currentPageNumber;\n\n            for (var i = 0, ii = this._pages.length; i < ii; i++) {\n              var pageView = this._pages[i];\n              pageView.update(pageView.scale, rotation);\n            }\n\n            if (this._currentScaleValue) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            this.eventBus.dispatch('rotationchanging', {\n              source: this,\n              pagesRotation: rotation,\n              pageNumber: pageNumber\n            });\n\n            if (this.defaultRenderingQueue) {\n              this.update();\n            }\n          }\n        }, {\n          key: '_setDocumentViewerElement',\n          get: function get() {\n            throw new Error('Not implemented: _setDocumentViewerElement');\n          }\n        }, {\n          key: 'isInPresentationMode',\n          get: function get() {\n            return this.presentationModeState === _ui_utils.PresentationModeState.FULLSCREEN;\n          }\n        }, {\n          key: 'isChangingPresentationMode',\n          get: function get() {\n            return this.presentationModeState === _ui_utils.PresentationModeState.CHANGING;\n          }\n        }, {\n          key: 'isHorizontalScrollbarEnabled',\n          get: function get() {\n            return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n          }\n        }, {\n          key: 'hasEqualPageSizes',\n          get: function get() {\n            var firstPageView = this._pages[0];\n\n            for (var i = 1, ii = this._pages.length; i < ii; ++i) {\n              var pageView = this._pages[i];\n\n              if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n        }]);\n\n        return BaseViewer;\n      }();\n\n      exports.BaseViewer = BaseViewer;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFJS = undefined;\n\n      var _annotation_layer_builder = __w_pdfjs_require__(4);\n\n      var _text_layer_builder = __w_pdfjs_require__(5);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _pdf_link_service = __w_pdfjs_require__(3);\n\n      var _download_manager = __w_pdfjs_require__(10);\n\n      var _genericl10n = __w_pdfjs_require__(11);\n\n      var _pdf_find_controller = __w_pdfjs_require__(13);\n\n      var _pdf_history = __w_pdfjs_require__(14);\n\n      var _pdfjs = __w_pdfjs_require__(0);\n\n      var _pdfjs2 = _interopRequireDefault(_pdfjs);\n\n      var _pdf_page_view = __w_pdfjs_require__(6);\n\n      var _pdf_single_page_viewer = __w_pdfjs_require__(15);\n\n      var _pdf_viewer = __w_pdfjs_require__(16);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var PDFJS = _pdfjs2.default.PDFJS;\n      PDFJS.PDFViewer = _pdf_viewer.PDFViewer;\n      PDFJS.PDFSinglePageViewer = _pdf_single_page_viewer.PDFSinglePageViewer;\n      PDFJS.PDFPageView = _pdf_page_view.PDFPageView;\n      PDFJS.PDFLinkService = _pdf_link_service.PDFLinkService;\n      PDFJS.SimpleLinkService = _pdf_link_service.SimpleLinkService;\n      PDFJS.TextLayerBuilder = _text_layer_builder.TextLayerBuilder;\n      PDFJS.DefaultTextLayerFactory = _text_layer_builder.DefaultTextLayerFactory;\n      PDFJS.AnnotationLayerBuilder = _annotation_layer_builder.AnnotationLayerBuilder;\n      PDFJS.DefaultAnnotationLayerFactory = _annotation_layer_builder.DefaultAnnotationLayerFactory;\n      PDFJS.PDFHistory = _pdf_history.PDFHistory;\n      PDFJS.PDFFindController = _pdf_find_controller.PDFFindController;\n      PDFJS.EventBus = _ui_utils.EventBus;\n      PDFJS.DownloadManager = _download_manager.DownloadManager;\n      PDFJS.ProgressBar = _ui_utils.ProgressBar;\n      PDFJS.GenericL10n = _genericl10n.GenericL10n;\n      PDFJS.NullL10n = _ui_utils.NullL10n;\n      exports.PDFJS = PDFJS;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DownloadManager = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      ;\n\n      function _download(blobUrl, filename) {\n        var a = document.createElement('a');\n\n        if (a.click) {\n          a.href = blobUrl;\n          a.target = '_parent';\n\n          if ('download' in a) {\n            a.download = filename;\n          }\n\n          (document.body || document.documentElement).appendChild(a);\n          a.click();\n          a.parentNode.removeChild(a);\n        } else {\n          if (window.top === window && blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n            var padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n            blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n          }\n\n          window.open(blobUrl, '_parent');\n        }\n      }\n\n      var DownloadManager = function () {\n        function DownloadManager() {\n          _classCallCheck(this, DownloadManager);\n        }\n\n        _createClass(DownloadManager, [{\n          key: 'downloadUrl',\n          value: function downloadUrl(url, filename) {\n            if (!(0, _pdfjsLib.createValidAbsoluteUrl)(url, 'http://example.com')) {\n              return;\n            }\n\n            _download(url + '#pdfjs.action=download', filename);\n          }\n        }, {\n          key: 'downloadData',\n          value: function downloadData(data, filename, contentType) {\n            if (navigator.msSaveBlob) {\n              return navigator.msSaveBlob(new Blob([data], {\n                type: contentType\n              }), filename);\n            }\n\n            var blobUrl = (0, _pdfjsLib.createObjectURL)(data, contentType, _pdfjsLib.PDFJS.disableCreateObjectURL);\n\n            _download(blobUrl, filename);\n          }\n        }, {\n          key: 'download',\n          value: function download(blob, url, filename) {\n            if (navigator.msSaveBlob) {\n              if (!navigator.msSaveBlob(blob, filename)) {\n                this.downloadUrl(url, filename);\n              }\n\n              return;\n            }\n\n            if (_pdfjsLib.PDFJS.disableCreateObjectURL) {\n              this.downloadUrl(url, filename);\n              return;\n            }\n\n            var blobUrl = URL.createObjectURL(blob);\n\n            _download(blobUrl, filename);\n          }\n        }]);\n\n        return DownloadManager;\n      }();\n\n      exports.DownloadManager = DownloadManager;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.GenericL10n = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      __w_pdfjs_require__(12);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var webL10n = document.webL10n;\n\n      var GenericL10n = function () {\n        function GenericL10n(lang) {\n          _classCallCheck(this, GenericL10n);\n\n          this._lang = lang;\n          this._ready = new Promise(function (resolve, reject) {\n            webL10n.setLanguage(lang, function () {\n              resolve(webL10n);\n            });\n          });\n        }\n\n        _createClass(GenericL10n, [{\n          key: 'getDirection',\n          value: function getDirection() {\n            return this._ready.then(function (l10n) {\n              return l10n.getDirection();\n            });\n          }\n        }, {\n          key: 'get',\n          value: function get(property, args, fallback) {\n            return this._ready.then(function (l10n) {\n              return l10n.get(property, args, fallback);\n            });\n          }\n        }, {\n          key: 'translate',\n          value: function translate(element) {\n            return this._ready.then(function (l10n) {\n              return l10n.translate(element);\n            });\n          }\n        }]);\n\n        return GenericL10n;\n      }();\n\n      exports.GenericL10n = GenericL10n;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      document.webL10n = function (window, document, undefined) {\n        var gL10nData = {};\n        var gTextData = '';\n        var gTextProp = 'textContent';\n        var gLanguage = '';\n        var gMacros = {};\n        var gReadyState = 'loading';\n        var gAsyncResourceLoading = true;\n\n        function getL10nResourceLinks() {\n          return document.querySelectorAll('link[type=\"application/l10n\"]');\n        }\n\n        function getL10nDictionary() {\n          var script = document.querySelector('script[type=\"application/l10n\"]');\n          return script ? JSON.parse(script.innerHTML) : null;\n        }\n\n        function getTranslatableChildren(element) {\n          return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n        }\n\n        function getL10nAttributes(element) {\n          if (!element) return {};\n          var l10nId = element.getAttribute('data-l10n-id');\n          var l10nArgs = element.getAttribute('data-l10n-args');\n          var args = {};\n\n          if (l10nArgs) {\n            try {\n              args = JSON.parse(l10nArgs);\n            } catch (e) {\n              console.warn('could not parse arguments for #' + l10nId);\n            }\n          }\n\n          return {\n            id: l10nId,\n            args: args\n          };\n        }\n\n        function fireL10nReadyEvent(lang) {\n          var evtObject = document.createEvent('Event');\n          evtObject.initEvent('localized', true, false);\n          evtObject.language = lang;\n          document.dispatchEvent(evtObject);\n        }\n\n        function xhrLoadText(url, onSuccess, onFailure) {\n          onSuccess = onSuccess || function _onSuccess(data) {};\n\n          onFailure = onFailure || function _onFailure() {};\n\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, gAsyncResourceLoading);\n\n          if (xhr.overrideMimeType) {\n            xhr.overrideMimeType('text/plain; charset=utf-8');\n          }\n\n          xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4) {\n              if (xhr.status == 200 || xhr.status === 0) {\n                onSuccess(xhr.responseText);\n              } else {\n                onFailure();\n              }\n            }\n          };\n\n          xhr.onerror = onFailure;\n          xhr.ontimeout = onFailure;\n\n          try {\n            xhr.send(null);\n          } catch (e) {\n            onFailure();\n          }\n        }\n\n        function parseResource(href, lang, successCallback, failureCallback) {\n          var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n          function evalString(text) {\n            if (text.lastIndexOf('\\\\') < 0) return text;\n            return text.replace(/\\\\\\\\/g, '\\\\').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\b/g, '\\b').replace(/\\\\f/g, '\\f').replace(/\\\\{/g, '{').replace(/\\\\}/g, '}').replace(/\\\\\"/g, '\"').replace(/\\\\'/g, \"'\");\n          }\n\n          function parseProperties(text, parsedPropertiesCallback) {\n            var dictionary = {};\n            var reBlank = /^\\s*|\\s*$/;\n            var reComment = /^\\s*#|^\\s*$/;\n            var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n            var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n            var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/;\n\n            function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n              var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n              var currentLang = '*';\n              var genericLang = lang.split('-', 1)[0];\n              var skipLang = false;\n              var match = '';\n\n              function nextEntry() {\n                while (true) {\n                  if (!entries.length) {\n                    parsedRawLinesCallback();\n                    return;\n                  }\n\n                  var line = entries.shift();\n                  if (reComment.test(line)) continue;\n\n                  if (extendedSyntax) {\n                    match = reSection.exec(line);\n\n                    if (match) {\n                      currentLang = match[1].toLowerCase();\n                      skipLang = currentLang !== '*' && currentLang !== lang && currentLang !== genericLang;\n                      continue;\n                    } else if (skipLang) {\n                      continue;\n                    }\n\n                    match = reImport.exec(line);\n\n                    if (match) {\n                      loadImport(baseURL + match[1], nextEntry);\n                      return;\n                    }\n                  }\n\n                  var tmp = line.match(reSplit);\n\n                  if (tmp && tmp.length == 3) {\n                    dictionary[tmp[1]] = evalString(tmp[2]);\n                  }\n                }\n              }\n\n              nextEntry();\n            }\n\n            function loadImport(url, callback) {\n              xhrLoadText(url, function (content) {\n                parseRawLines(content, false, callback);\n              }, function () {\n                console.warn(url + ' not found.');\n                callback();\n              });\n            }\n\n            parseRawLines(text, true, function () {\n              parsedPropertiesCallback(dictionary);\n            });\n          }\n\n          xhrLoadText(href, function (response) {\n            gTextData += response;\n            parseProperties(response, function (data) {\n              for (var key in data) {\n                var id,\n                    prop,\n                    index = key.lastIndexOf('.');\n\n                if (index > 0) {\n                  id = key.substring(0, index);\n                  prop = key.substr(index + 1);\n                } else {\n                  id = key;\n                  prop = gTextProp;\n                }\n\n                if (!gL10nData[id]) {\n                  gL10nData[id] = {};\n                }\n\n                gL10nData[id][prop] = data[key];\n              }\n\n              if (successCallback) {\n                successCallback();\n              }\n            });\n          }, failureCallback);\n        }\n\n        function loadLocale(lang, callback) {\n          if (lang) {\n            lang = lang.toLowerCase();\n          }\n\n          callback = callback || function _callback() {};\n\n          clear();\n          gLanguage = lang;\n          var langLinks = getL10nResourceLinks();\n          var langCount = langLinks.length;\n\n          if (langCount === 0) {\n            var dict = getL10nDictionary();\n\n            if (dict && dict.locales && dict.default_locale) {\n              console.log('using the embedded JSON directory, early way out');\n              gL10nData = dict.locales[lang];\n\n              if (!gL10nData) {\n                var defaultLocale = dict.default_locale.toLowerCase();\n\n                for (var anyCaseLang in dict.locales) {\n                  anyCaseLang = anyCaseLang.toLowerCase();\n\n                  if (anyCaseLang === lang) {\n                    gL10nData = dict.locales[lang];\n                    break;\n                  } else if (anyCaseLang === defaultLocale) {\n                    gL10nData = dict.locales[defaultLocale];\n                  }\n                }\n              }\n\n              callback();\n            } else {\n              console.log('no resource to load, early way out');\n            }\n\n            fireL10nReadyEvent(lang);\n            gReadyState = 'complete';\n            return;\n          }\n\n          var onResourceLoaded = null;\n          var gResourceCount = 0;\n\n          onResourceLoaded = function onResourceLoaded() {\n            gResourceCount++;\n\n            if (gResourceCount >= langCount) {\n              callback();\n              fireL10nReadyEvent(lang);\n              gReadyState = 'complete';\n            }\n          };\n\n          function L10nResourceLink(link) {\n            var href = link.href;\n\n            this.load = function (lang, callback) {\n              parseResource(href, lang, callback, function () {\n                console.warn(href + ' not found.');\n                console.warn('\"' + lang + '\" resource not found');\n                gLanguage = '';\n                callback();\n              });\n            };\n          }\n\n          for (var i = 0; i < langCount; i++) {\n            var resource = new L10nResourceLink(langLinks[i]);\n            resource.load(lang, onResourceLoaded);\n          }\n        }\n\n        function clear() {\n          gL10nData = {};\n          gTextData = '';\n          gLanguage = '';\n        }\n\n        function getPluralRules(lang) {\n          var locales2rules = {\n            'af': 3,\n            'ak': 4,\n            'am': 4,\n            'ar': 1,\n            'asa': 3,\n            'az': 0,\n            'be': 11,\n            'bem': 3,\n            'bez': 3,\n            'bg': 3,\n            'bh': 4,\n            'bm': 0,\n            'bn': 3,\n            'bo': 0,\n            'br': 20,\n            'brx': 3,\n            'bs': 11,\n            'ca': 3,\n            'cgg': 3,\n            'chr': 3,\n            'cs': 12,\n            'cy': 17,\n            'da': 3,\n            'de': 3,\n            'dv': 3,\n            'dz': 0,\n            'ee': 3,\n            'el': 3,\n            'en': 3,\n            'eo': 3,\n            'es': 3,\n            'et': 3,\n            'eu': 3,\n            'fa': 0,\n            'ff': 5,\n            'fi': 3,\n            'fil': 4,\n            'fo': 3,\n            'fr': 5,\n            'fur': 3,\n            'fy': 3,\n            'ga': 8,\n            'gd': 24,\n            'gl': 3,\n            'gsw': 3,\n            'gu': 3,\n            'guw': 4,\n            'gv': 23,\n            'ha': 3,\n            'haw': 3,\n            'he': 2,\n            'hi': 4,\n            'hr': 11,\n            'hu': 0,\n            'id': 0,\n            'ig': 0,\n            'ii': 0,\n            'is': 3,\n            'it': 3,\n            'iu': 7,\n            'ja': 0,\n            'jmc': 3,\n            'jv': 0,\n            'ka': 0,\n            'kab': 5,\n            'kaj': 3,\n            'kcg': 3,\n            'kde': 0,\n            'kea': 0,\n            'kk': 3,\n            'kl': 3,\n            'km': 0,\n            'kn': 0,\n            'ko': 0,\n            'ksb': 3,\n            'ksh': 21,\n            'ku': 3,\n            'kw': 7,\n            'lag': 18,\n            'lb': 3,\n            'lg': 3,\n            'ln': 4,\n            'lo': 0,\n            'lt': 10,\n            'lv': 6,\n            'mas': 3,\n            'mg': 4,\n            'mk': 16,\n            'ml': 3,\n            'mn': 3,\n            'mo': 9,\n            'mr': 3,\n            'ms': 0,\n            'mt': 15,\n            'my': 0,\n            'nah': 3,\n            'naq': 7,\n            'nb': 3,\n            'nd': 3,\n            'ne': 3,\n            'nl': 3,\n            'nn': 3,\n            'no': 3,\n            'nr': 3,\n            'nso': 4,\n            'ny': 3,\n            'nyn': 3,\n            'om': 3,\n            'or': 3,\n            'pa': 3,\n            'pap': 3,\n            'pl': 13,\n            'ps': 3,\n            'pt': 3,\n            'rm': 3,\n            'ro': 9,\n            'rof': 3,\n            'ru': 11,\n            'rwk': 3,\n            'sah': 0,\n            'saq': 3,\n            'se': 7,\n            'seh': 3,\n            'ses': 0,\n            'sg': 0,\n            'sh': 11,\n            'shi': 19,\n            'sk': 12,\n            'sl': 14,\n            'sma': 7,\n            'smi': 7,\n            'smj': 7,\n            'smn': 7,\n            'sms': 7,\n            'sn': 3,\n            'so': 3,\n            'sq': 3,\n            'sr': 11,\n            'ss': 3,\n            'ssy': 3,\n            'st': 3,\n            'sv': 3,\n            'sw': 3,\n            'syr': 3,\n            'ta': 3,\n            'te': 3,\n            'teo': 3,\n            'th': 0,\n            'ti': 4,\n            'tig': 3,\n            'tk': 3,\n            'tl': 4,\n            'tn': 3,\n            'to': 0,\n            'tr': 0,\n            'ts': 3,\n            'tzm': 22,\n            'uk': 11,\n            'ur': 3,\n            've': 3,\n            'vi': 0,\n            'vun': 3,\n            'wa': 4,\n            'wae': 3,\n            'wo': 0,\n            'xh': 3,\n            'xog': 3,\n            'yo': 0,\n            'zh': 0,\n            'zu': 3\n          };\n\n          function isIn(n, list) {\n            return list.indexOf(n) !== -1;\n          }\n\n          function isBetween(n, start, end) {\n            return start <= n && n <= end;\n          }\n\n          var pluralRules = {\n            '0': function _(n) {\n              return 'other';\n            },\n            '1': function _(n) {\n              if (isBetween(n % 100, 3, 10)) return 'few';\n              if (n === 0) return 'zero';\n              if (isBetween(n % 100, 11, 99)) return 'many';\n              if (n == 2) return 'two';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '2': function _(n) {\n              if (n !== 0 && n % 10 === 0) return 'many';\n              if (n == 2) return 'two';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '3': function _(n) {\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '4': function _(n) {\n              if (isBetween(n, 0, 1)) return 'one';\n              return 'other';\n            },\n            '5': function _(n) {\n              if (isBetween(n, 0, 2) && n != 2) return 'one';\n              return 'other';\n            },\n            '6': function _(n) {\n              if (n === 0) return 'zero';\n              if (n % 10 == 1 && n % 100 != 11) return 'one';\n              return 'other';\n            },\n            '7': function _(n) {\n              if (n == 2) return 'two';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '8': function _(n) {\n              if (isBetween(n, 3, 6)) return 'few';\n              if (isBetween(n, 7, 10)) return 'many';\n              if (n == 2) return 'two';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '9': function _(n) {\n              if (n === 0 || n != 1 && isBetween(n % 100, 1, 19)) return 'few';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '10': function _(n) {\n              if (isBetween(n % 10, 2, 9) && !isBetween(n % 100, 11, 19)) return 'few';\n              if (n % 10 == 1 && !isBetween(n % 100, 11, 19)) return 'one';\n              return 'other';\n            },\n            '11': function _(n) {\n              if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n              if (n % 10 === 0 || isBetween(n % 10, 5, 9) || isBetween(n % 100, 11, 14)) return 'many';\n              if (n % 10 == 1 && n % 100 != 11) return 'one';\n              return 'other';\n            },\n            '12': function _(n) {\n              if (isBetween(n, 2, 4)) return 'few';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '13': function _(n) {\n              if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n              if (n != 1 && isBetween(n % 10, 0, 1) || isBetween(n % 10, 5, 9) || isBetween(n % 100, 12, 14)) return 'many';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '14': function _(n) {\n              if (isBetween(n % 100, 3, 4)) return 'few';\n              if (n % 100 == 2) return 'two';\n              if (n % 100 == 1) return 'one';\n              return 'other';\n            },\n            '15': function _(n) {\n              if (n === 0 || isBetween(n % 100, 2, 10)) return 'few';\n              if (isBetween(n % 100, 11, 19)) return 'many';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '16': function _(n) {\n              if (n % 10 == 1 && n != 11) return 'one';\n              return 'other';\n            },\n            '17': function _(n) {\n              if (n == 3) return 'few';\n              if (n === 0) return 'zero';\n              if (n == 6) return 'many';\n              if (n == 2) return 'two';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '18': function _(n) {\n              if (n === 0) return 'zero';\n              if (isBetween(n, 0, 2) && n !== 0 && n != 2) return 'one';\n              return 'other';\n            },\n            '19': function _(n) {\n              if (isBetween(n, 2, 10)) return 'few';\n              if (isBetween(n, 0, 1)) return 'one';\n              return 'other';\n            },\n            '20': function _(n) {\n              if ((isBetween(n % 10, 3, 4) || n % 10 == 9) && !(isBetween(n % 100, 10, 19) || isBetween(n % 100, 70, 79) || isBetween(n % 100, 90, 99))) return 'few';\n              if (n % 1000000 === 0 && n !== 0) return 'many';\n              if (n % 10 == 2 && !isIn(n % 100, [12, 72, 92])) return 'two';\n              if (n % 10 == 1 && !isIn(n % 100, [11, 71, 91])) return 'one';\n              return 'other';\n            },\n            '21': function _(n) {\n              if (n === 0) return 'zero';\n              if (n == 1) return 'one';\n              return 'other';\n            },\n            '22': function _(n) {\n              if (isBetween(n, 0, 1) || isBetween(n, 11, 99)) return 'one';\n              return 'other';\n            },\n            '23': function _(n) {\n              if (isBetween(n % 10, 1, 2) || n % 20 === 0) return 'one';\n              return 'other';\n            },\n            '24': function _(n) {\n              if (isBetween(n, 3, 10) || isBetween(n, 13, 19)) return 'few';\n              if (isIn(n, [2, 12])) return 'two';\n              if (isIn(n, [1, 11])) return 'one';\n              return 'other';\n            }\n          };\n          var index = locales2rules[lang.replace(/-.*$/, '')];\n\n          if (!(index in pluralRules)) {\n            console.warn('plural form unknown for [' + lang + ']');\n            return function () {\n              return 'other';\n            };\n          }\n\n          return pluralRules[index];\n        }\n\n        gMacros.plural = function (str, param, key, prop) {\n          var n = parseFloat(param);\n          if (isNaN(n)) return str;\n          if (prop != gTextProp) return str;\n\n          if (!gMacros._pluralRules) {\n            gMacros._pluralRules = getPluralRules(gLanguage);\n          }\n\n          var index = '[' + gMacros._pluralRules(n) + ']';\n\n          if (n === 0 && key + '[zero]' in gL10nData) {\n            str = gL10nData[key + '[zero]'][prop];\n          } else if (n == 1 && key + '[one]' in gL10nData) {\n            str = gL10nData[key + '[one]'][prop];\n          } else if (n == 2 && key + '[two]' in gL10nData) {\n            str = gL10nData[key + '[two]'][prop];\n          } else if (key + index in gL10nData) {\n            str = gL10nData[key + index][prop];\n          } else if (key + '[other]' in gL10nData) {\n            str = gL10nData[key + '[other]'][prop];\n          }\n\n          return str;\n        };\n\n        function getL10nData(key, args, fallback) {\n          var data = gL10nData[key];\n\n          if (!data) {\n            console.warn('#' + key + ' is undefined.');\n\n            if (!fallback) {\n              return null;\n            }\n\n            data = fallback;\n          }\n\n          var rv = {};\n\n          for (var prop in data) {\n            var str = data[prop];\n            str = substIndexes(str, args, key, prop);\n            str = substArguments(str, args, key);\n            rv[prop] = str;\n          }\n\n          return rv;\n        }\n\n        function substIndexes(str, args, key, prop) {\n          var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n          var reMatch = reIndex.exec(str);\n          if (!reMatch || !reMatch.length) return str;\n          var macroName = reMatch[1];\n          var paramName = reMatch[2];\n          var param;\n\n          if (args && paramName in args) {\n            param = args[paramName];\n          } else if (paramName in gL10nData) {\n            param = gL10nData[paramName];\n          }\n\n          if (macroName in gMacros) {\n            var macro = gMacros[macroName];\n            str = macro(str, param, key, prop);\n          }\n\n          return str;\n        }\n\n        function substArguments(str, args, key) {\n          var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n          return str.replace(reArgs, function (matched_text, arg) {\n            if (args && arg in args) {\n              return args[arg];\n            }\n\n            if (arg in gL10nData) {\n              return gL10nData[arg];\n            }\n\n            console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n            return matched_text;\n          });\n        }\n\n        function translateElement(element) {\n          var l10n = getL10nAttributes(element);\n          if (!l10n.id) return;\n          var data = getL10nData(l10n.id, l10n.args);\n\n          if (!data) {\n            console.warn('#' + l10n.id + ' is undefined.');\n            return;\n          }\n\n          if (data[gTextProp]) {\n            if (getChildElementCount(element) === 0) {\n              element[gTextProp] = data[gTextProp];\n            } else {\n              var children = element.childNodes;\n              var found = false;\n\n              for (var i = 0, l = children.length; i < l; i++) {\n                if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n                  if (found) {\n                    children[i].nodeValue = '';\n                  } else {\n                    children[i].nodeValue = data[gTextProp];\n                    found = true;\n                  }\n                }\n              }\n\n              if (!found) {\n                var textNode = document.createTextNode(data[gTextProp]);\n                element.insertBefore(textNode, element.firstChild);\n              }\n            }\n\n            delete data[gTextProp];\n          }\n\n          for (var k in data) {\n            element[k] = data[k];\n          }\n        }\n\n        function getChildElementCount(element) {\n          if (element.children) {\n            return element.children.length;\n          }\n\n          if (typeof element.childElementCount !== 'undefined') {\n            return element.childElementCount;\n          }\n\n          var count = 0;\n\n          for (var i = 0; i < element.childNodes.length; i++) {\n            count += element.nodeType === 1 ? 1 : 0;\n          }\n\n          return count;\n        }\n\n        function translateFragment(element) {\n          element = element || document.documentElement;\n          var children = getTranslatableChildren(element);\n          var elementCount = children.length;\n\n          for (var i = 0; i < elementCount; i++) {\n            translateElement(children[i]);\n          }\n\n          translateElement(element);\n        }\n\n        return {\n          get: function get(key, args, fallbackString) {\n            var index = key.lastIndexOf('.');\n            var prop = gTextProp;\n\n            if (index > 0) {\n              prop = key.substr(index + 1);\n              key = key.substring(0, index);\n            }\n\n            var fallback;\n\n            if (fallbackString) {\n              fallback = {};\n              fallback[prop] = fallbackString;\n            }\n\n            var data = getL10nData(key, args, fallback);\n\n            if (data && prop in data) {\n              return data[prop];\n            }\n\n            return '{{' + key + '}}';\n          },\n          getData: function getData() {\n            return gL10nData;\n          },\n          getText: function getText() {\n            return gTextData;\n          },\n          getLanguage: function getLanguage() {\n            return gLanguage;\n          },\n          setLanguage: function setLanguage(lang, callback) {\n            loadLocale(lang, function () {\n              if (callback) callback();\n            });\n          },\n          getDirection: function getDirection() {\n            var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n            var shortCode = gLanguage.split('-', 1)[0];\n            return rtlList.indexOf(shortCode) >= 0 ? 'rtl' : 'ltr';\n          },\n          translate: translateFragment,\n          getReadyState: function getReadyState() {\n            return gReadyState;\n          },\n          ready: function ready(callback) {\n            if (!callback) {\n              return;\n            } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n              window.setTimeout(function () {\n                callback();\n              });\n            } else if (document.addEventListener) {\n              document.addEventListener('localized', function once() {\n                document.removeEventListener('localized', once);\n                callback();\n              });\n            }\n          }\n        };\n      }(window, document);\n      /***/\n\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFFindController = exports.FindState = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var FindState = {\n        FOUND: 0,\n        NOT_FOUND: 1,\n        WRAPPED: 2,\n        PENDING: 3\n      };\n      var FIND_SCROLL_OFFSET_TOP = -50;\n      var FIND_SCROLL_OFFSET_LEFT = -400;\n      var FIND_TIMEOUT = 250;\n      var CHARACTERS_TO_NORMALIZE = {\n        '\\u2018': '\\'',\n        '\\u2019': '\\'',\n        '\\u201A': '\\'',\n        '\\u201B': '\\'',\n        '\\u201C': '\"',\n        '\\u201D': '\"',\n        '\\u201E': '\"',\n        '\\u201F': '\"',\n        '\\xBC': '1/4',\n        '\\xBD': '1/2',\n        '\\xBE': '3/4'\n      };\n\n      var PDFFindController = function () {\n        function PDFFindController(_ref) {\n          var pdfViewer = _ref.pdfViewer;\n\n          _classCallCheck(this, PDFFindController);\n\n          this.pdfViewer = pdfViewer;\n          this.onUpdateResultsCount = null;\n          this.onUpdateState = null;\n          this.reset();\n          var replace = Object.keys(CHARACTERS_TO_NORMALIZE).join('');\n          this.normalizationRegex = new RegExp('[' + replace + ']', 'g');\n        }\n\n        _createClass(PDFFindController, [{\n          key: 'reset',\n          value: function reset() {\n            var _this = this;\n\n            this.startedTextExtraction = false;\n            this.extractTextPromises = [];\n            this.pendingFindMatches = Object.create(null);\n            this.active = false;\n            this.pageContents = [];\n            this.pageMatches = [];\n            this.pageMatchesLength = null;\n            this.matchCount = 0;\n            this.selected = {\n              pageIdx: -1,\n              matchIdx: -1\n            };\n            this.offset = {\n              pageIdx: null,\n              matchIdx: null\n            };\n            this.pagesToSearch = null;\n            this.resumePageIdx = null;\n            this.state = null;\n            this.dirtyMatch = false;\n            this.findTimeout = null;\n            this._firstPagePromise = new Promise(function (resolve) {\n              _this.resolveFirstPage = resolve;\n            });\n          }\n        }, {\n          key: 'normalize',\n          value: function normalize(text) {\n            return text.replace(this.normalizationRegex, function (ch) {\n              return CHARACTERS_TO_NORMALIZE[ch];\n            });\n          }\n        }, {\n          key: '_prepareMatches',\n          value: function _prepareMatches(matchesWithLength, matches, matchesLength) {\n            function isSubTerm(matchesWithLength, currentIndex) {\n              var currentElem = matchesWithLength[currentIndex];\n              var nextElem = matchesWithLength[currentIndex + 1];\n\n              if (currentIndex < matchesWithLength.length - 1 && currentElem.match === nextElem.match) {\n                currentElem.skipped = true;\n                return true;\n              }\n\n              for (var i = currentIndex - 1; i >= 0; i--) {\n                var prevElem = matchesWithLength[i];\n\n                if (prevElem.skipped) {\n                  continue;\n                }\n\n                if (prevElem.match + prevElem.matchLength < currentElem.match) {\n                  break;\n                }\n\n                if (prevElem.match + prevElem.matchLength >= currentElem.match + currentElem.matchLength) {\n                  currentElem.skipped = true;\n                  return true;\n                }\n              }\n\n              return false;\n            }\n\n            matchesWithLength.sort(function (a, b) {\n              return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n            });\n\n            for (var i = 0, len = matchesWithLength.length; i < len; i++) {\n              if (isSubTerm(matchesWithLength, i)) {\n                continue;\n              }\n\n              matches.push(matchesWithLength[i].match);\n              matchesLength.push(matchesWithLength[i].matchLength);\n            }\n          }\n        }, {\n          key: 'calcFindPhraseMatch',\n          value: function calcFindPhraseMatch(query, pageIndex, pageContent) {\n            var matches = [];\n            var queryLen = query.length;\n            var matchIdx = -queryLen;\n\n            while (true) {\n              matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n\n              if (matchIdx === -1) {\n                break;\n              }\n\n              matches.push(matchIdx);\n            }\n\n            this.pageMatches[pageIndex] = matches;\n          }\n        }, {\n          key: 'calcFindWordMatch',\n          value: function calcFindWordMatch(query, pageIndex, pageContent) {\n            var matchesWithLength = [];\n            var queryArray = query.match(/\\S+/g);\n\n            for (var i = 0, len = queryArray.length; i < len; i++) {\n              var subquery = queryArray[i];\n              var subqueryLen = subquery.length;\n              var matchIdx = -subqueryLen;\n\n              while (true) {\n                matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n\n                if (matchIdx === -1) {\n                  break;\n                }\n\n                matchesWithLength.push({\n                  match: matchIdx,\n                  matchLength: subqueryLen,\n                  skipped: false\n                });\n              }\n            }\n\n            if (!this.pageMatchesLength) {\n              this.pageMatchesLength = [];\n            }\n\n            this.pageMatchesLength[pageIndex] = [];\n            this.pageMatches[pageIndex] = [];\n\n            this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex], this.pageMatchesLength[pageIndex]);\n          }\n        }, {\n          key: 'calcFindMatch',\n          value: function calcFindMatch(pageIndex) {\n            var pageContent = this.normalize(this.pageContents[pageIndex]);\n            var query = this.normalize(this.state.query);\n            var caseSensitive = this.state.caseSensitive;\n            var phraseSearch = this.state.phraseSearch;\n            var queryLen = query.length;\n\n            if (queryLen === 0) {\n              return;\n            }\n\n            if (!caseSensitive) {\n              pageContent = pageContent.toLowerCase();\n              query = query.toLowerCase();\n            }\n\n            if (phraseSearch) {\n              this.calcFindPhraseMatch(query, pageIndex, pageContent);\n            } else {\n              this.calcFindWordMatch(query, pageIndex, pageContent);\n            }\n\n            this.updatePage(pageIndex);\n\n            if (this.resumePageIdx === pageIndex) {\n              this.resumePageIdx = null;\n              this.nextPageMatch();\n            }\n\n            if (this.pageMatches[pageIndex].length > 0) {\n              this.matchCount += this.pageMatches[pageIndex].length;\n              this.updateUIResultsCount();\n            }\n          }\n        }, {\n          key: 'extractText',\n          value: function extractText() {\n            var _this2 = this;\n\n            if (this.startedTextExtraction) {\n              return;\n            }\n\n            this.startedTextExtraction = true;\n            this.pageContents.length = 0;\n            var promise = Promise.resolve();\n\n            var _loop = function _loop(i, ii) {\n              var extractTextCapability = (0, _pdfjsLib.createPromiseCapability)();\n              _this2.extractTextPromises[i] = extractTextCapability.promise;\n              promise = promise.then(function () {\n                return _this2.pdfViewer.getPageTextContent(i).then(function (textContent) {\n                  var textItems = textContent.items;\n                  var strBuf = [];\n\n                  for (var j = 0, jj = textItems.length; j < jj; j++) {\n                    strBuf.push(textItems[j].str);\n                  }\n\n                  _this2.pageContents[i] = strBuf.join('');\n                  extractTextCapability.resolve(i);\n                }, function (reason) {\n                  console.error('Unable to get page ' + (i + 1) + ' text content', reason);\n                  _this2.pageContents[i] = '';\n                  extractTextCapability.resolve(i);\n                });\n              });\n            };\n\n            for (var i = 0, ii = this.pdfViewer.pagesCount; i < ii; i++) {\n              _loop(i, ii);\n            }\n          }\n        }, {\n          key: 'executeCommand',\n          value: function executeCommand(cmd, state) {\n            var _this3 = this;\n\n            if (this.state === null || cmd !== 'findagain') {\n              this.dirtyMatch = true;\n            }\n\n            this.state = state;\n            this.updateUIState(FindState.PENDING);\n\n            this._firstPagePromise.then(function () {\n              _this3.extractText();\n\n              clearTimeout(_this3.findTimeout);\n\n              if (cmd === 'find') {\n                _this3.findTimeout = setTimeout(_this3.nextMatch.bind(_this3), FIND_TIMEOUT);\n              } else {\n                _this3.nextMatch();\n              }\n            });\n          }\n        }, {\n          key: 'updatePage',\n          value: function updatePage(index) {\n            if (this.selected.pageIdx === index) {\n              this.pdfViewer.currentPageNumber = index + 1;\n            }\n\n            var page = this.pdfViewer.getPageView(index);\n\n            if (page.textLayer) {\n              page.textLayer.updateMatches();\n            }\n          }\n        }, {\n          key: 'nextMatch',\n          value: function nextMatch() {\n            var _this4 = this;\n\n            var previous = this.state.findPrevious;\n            var currentPageIndex = this.pdfViewer.currentPageNumber - 1;\n            var numPages = this.pdfViewer.pagesCount;\n            this.active = true;\n\n            if (this.dirtyMatch) {\n              this.dirtyMatch = false;\n              this.selected.pageIdx = this.selected.matchIdx = -1;\n              this.offset.pageIdx = currentPageIndex;\n              this.offset.matchIdx = null;\n              this.hadMatch = false;\n              this.resumePageIdx = null;\n              this.pageMatches = [];\n              this.matchCount = 0;\n              this.pageMatchesLength = null;\n\n              for (var i = 0; i < numPages; i++) {\n                this.updatePage(i);\n\n                if (!(i in this.pendingFindMatches)) {\n                  this.pendingFindMatches[i] = true;\n                  this.extractTextPromises[i].then(function (pageIdx) {\n                    delete _this4.pendingFindMatches[pageIdx];\n\n                    _this4.calcFindMatch(pageIdx);\n                  });\n                }\n              }\n            }\n\n            if (this.state.query === '') {\n              this.updateUIState(FindState.FOUND);\n              return;\n            }\n\n            if (this.resumePageIdx) {\n              return;\n            }\n\n            var offset = this.offset;\n            this.pagesToSearch = numPages;\n\n            if (offset.matchIdx !== null) {\n              var numPageMatches = this.pageMatches[offset.pageIdx].length;\n\n              if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n                this.hadMatch = true;\n                offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n                this.updateMatch(true);\n                return;\n              }\n\n              this.advanceOffsetPage(previous);\n            }\n\n            this.nextPageMatch();\n          }\n        }, {\n          key: 'matchesReady',\n          value: function matchesReady(matches) {\n            var offset = this.offset;\n            var numMatches = matches.length;\n            var previous = this.state.findPrevious;\n\n            if (numMatches) {\n              this.hadMatch = true;\n              offset.matchIdx = previous ? numMatches - 1 : 0;\n              this.updateMatch(true);\n              return true;\n            }\n\n            this.advanceOffsetPage(previous);\n\n            if (offset.wrapped) {\n              offset.matchIdx = null;\n\n              if (this.pagesToSearch < 0) {\n                this.updateMatch(false);\n                return true;\n              }\n            }\n\n            return false;\n          }\n        }, {\n          key: 'updateMatchPosition',\n          value: function updateMatchPosition(pageIndex, matchIndex, elements, beginIdx) {\n            if (this.selected.matchIdx === matchIndex && this.selected.pageIdx === pageIndex) {\n              var spot = {\n                top: FIND_SCROLL_OFFSET_TOP,\n                left: FIND_SCROLL_OFFSET_LEFT\n              };\n              (0, _ui_utils.scrollIntoView)(elements[beginIdx], spot, true);\n            }\n          }\n        }, {\n          key: 'nextPageMatch',\n          value: function nextPageMatch() {\n            if (this.resumePageIdx !== null) {\n              console.error('There can only be one pending page.');\n            }\n\n            var matches = null;\n\n            do {\n              var pageIdx = this.offset.pageIdx;\n              matches = this.pageMatches[pageIdx];\n\n              if (!matches) {\n                this.resumePageIdx = pageIdx;\n                break;\n              }\n            } while (!this.matchesReady(matches));\n          }\n        }, {\n          key: 'advanceOffsetPage',\n          value: function advanceOffsetPage(previous) {\n            var offset = this.offset;\n            var numPages = this.extractTextPromises.length;\n            offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n            offset.matchIdx = null;\n            this.pagesToSearch--;\n\n            if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n              offset.pageIdx = previous ? numPages - 1 : 0;\n              offset.wrapped = true;\n            }\n          }\n        }, {\n          key: 'updateMatch',\n          value: function updateMatch() {\n            var found = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            var state = FindState.NOT_FOUND;\n            var wrapped = this.offset.wrapped;\n            this.offset.wrapped = false;\n\n            if (found) {\n              var previousPage = this.selected.pageIdx;\n              this.selected.pageIdx = this.offset.pageIdx;\n              this.selected.matchIdx = this.offset.matchIdx;\n              state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n              if (previousPage !== -1 && previousPage !== this.selected.pageIdx) {\n                this.updatePage(previousPage);\n              }\n            }\n\n            this.updateUIState(state, this.state.findPrevious);\n\n            if (this.selected.pageIdx !== -1) {\n              this.updatePage(this.selected.pageIdx);\n            }\n          }\n        }, {\n          key: 'updateUIResultsCount',\n          value: function updateUIResultsCount() {\n            if (this.onUpdateResultsCount) {\n              this.onUpdateResultsCount(this.matchCount);\n            }\n          }\n        }, {\n          key: 'updateUIState',\n          value: function updateUIState(state, previous) {\n            if (this.onUpdateState) {\n              this.onUpdateState(state, previous, this.matchCount);\n            }\n          }\n        }]);\n\n        return PDFFindController;\n      }();\n\n      exports.FindState = FindState;\n      exports.PDFFindController = PDFFindController;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.isDestArraysEqual = exports.isDestHashesEqual = exports.PDFHistory = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _dom_events = __w_pdfjs_require__(2);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var HASH_CHANGE_TIMEOUT = 1000;\n      var POSITION_UPDATED_THRESHOLD = 50;\n      var UPDATE_VIEWAREA_TIMEOUT = 1000;\n\n      function getCurrentHash() {\n        return document.location.hash;\n      }\n\n      function parseCurrentHash(linkService) {\n        var hash = unescape(getCurrentHash()).substring(1);\n        var params = (0, _ui_utils.parseQueryString)(hash);\n        var page = params.page | 0;\n\n        if (!(Number.isInteger(page) && page > 0 && page <= linkService.pagesCount)) {\n          page = null;\n        }\n\n        return {\n          hash: hash,\n          page: page,\n          rotation: linkService.rotation\n        };\n      }\n\n      var PDFHistory = function () {\n        function PDFHistory(_ref) {\n          var _this = this;\n\n          var linkService = _ref.linkService,\n              eventBus = _ref.eventBus;\n\n          _classCallCheck(this, PDFHistory);\n\n          this.linkService = linkService;\n          this.eventBus = eventBus || (0, _dom_events.getGlobalEventBus)();\n          this.initialized = false;\n          this.initialBookmark = null;\n          this.initialRotation = null;\n          this._boundEvents = Object.create(null);\n          this._isViewerInPresentationMode = false;\n          this._isPagesLoaded = false;\n          this.eventBus.on('presentationmodechanged', function (evt) {\n            _this._isViewerInPresentationMode = evt.active || evt.switchInProgress;\n          });\n          this.eventBus.on('pagesloaded', function (evt) {\n            _this._isPagesLoaded = !!evt.pagesCount;\n          });\n        }\n\n        _createClass(PDFHistory, [{\n          key: 'initialize',\n          value: function initialize(fingerprint) {\n            var resetHistory = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (!fingerprint || typeof fingerprint !== 'string') {\n              console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n              return;\n            }\n\n            var reInitialized = this.initialized && this.fingerprint !== fingerprint;\n            this.fingerprint = fingerprint;\n\n            if (!this.initialized) {\n              this._bindEvents();\n            }\n\n            var state = window.history.state;\n            this.initialized = true;\n            this.initialBookmark = null;\n            this.initialRotation = null;\n            this._popStateInProgress = false;\n            this._blockHashChange = 0;\n            this._currentHash = getCurrentHash();\n            this._numPositionUpdates = 0;\n            this._uid = this._maxUid = 0;\n            this._destination = null;\n            this._position = null;\n\n            if (!this._isValidState(state) || resetHistory) {\n              var _parseCurrentHash = parseCurrentHash(this.linkService),\n                  hash = _parseCurrentHash.hash,\n                  page = _parseCurrentHash.page,\n                  rotation = _parseCurrentHash.rotation;\n\n              if (!hash || reInitialized || resetHistory) {\n                this._pushOrReplaceState(null, true);\n\n                return;\n              }\n\n              this._pushOrReplaceState({\n                hash: hash,\n                page: page,\n                rotation: rotation\n              }, true);\n\n              return;\n            }\n\n            var destination = state.destination;\n\n            this._updateInternalState(destination, state.uid, true);\n\n            if (this._uid > this._maxUid) {\n              this._maxUid = this._uid;\n            }\n\n            if (destination.rotation !== undefined) {\n              this.initialRotation = destination.rotation;\n            }\n\n            if (destination.dest) {\n              this.initialBookmark = JSON.stringify(destination.dest);\n              this._destination.page = null;\n            } else if (destination.hash) {\n              this.initialBookmark = destination.hash;\n            } else if (destination.page) {\n              this.initialBookmark = 'page=' + destination.page;\n            }\n          }\n        }, {\n          key: 'push',\n          value: function push(_ref2) {\n            var _this2 = this;\n\n            var namedDest = _ref2.namedDest,\n                explicitDest = _ref2.explicitDest,\n                pageNumber = _ref2.pageNumber;\n\n            if (!this.initialized) {\n              return;\n            }\n\n            if (namedDest && typeof namedDest !== 'string' || !(explicitDest instanceof Array) || !(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.linkService.pagesCount)) {\n              console.error('PDFHistory.push: Invalid parameters.');\n              return;\n            }\n\n            var hash = namedDest || JSON.stringify(explicitDest);\n\n            if (!hash) {\n              return;\n            }\n\n            var forceReplace = false;\n\n            if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n              if (this._destination.page) {\n                return;\n              }\n\n              forceReplace = true;\n            }\n\n            if (this._popStateInProgress && !forceReplace) {\n              return;\n            }\n\n            this._pushOrReplaceState({\n              dest: explicitDest,\n              hash: hash,\n              page: pageNumber,\n              rotation: this.linkService.rotation\n            }, forceReplace);\n\n            if (!this._popStateInProgress) {\n              this._popStateInProgress = true;\n              Promise.resolve().then(function () {\n                _this2._popStateInProgress = false;\n              });\n            }\n          }\n        }, {\n          key: 'pushCurrentPosition',\n          value: function pushCurrentPosition() {\n            if (!this.initialized || this._popStateInProgress) {\n              return;\n            }\n\n            this._tryPushCurrentPosition();\n          }\n        }, {\n          key: 'back',\n          value: function back() {\n            if (!this.initialized || this._popStateInProgress) {\n              return;\n            }\n\n            var state = window.history.state;\n\n            if (this._isValidState(state) && state.uid > 0) {\n              window.history.back();\n            }\n          }\n        }, {\n          key: 'forward',\n          value: function forward() {\n            if (!this.initialized || this._popStateInProgress) {\n              return;\n            }\n\n            var state = window.history.state;\n\n            if (this._isValidState(state) && state.uid < this._maxUid) {\n              window.history.forward();\n            }\n          }\n        }, {\n          key: '_pushOrReplaceState',\n          value: function _pushOrReplaceState(destination) {\n            var forceReplace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var shouldReplace = forceReplace || !this._destination;\n            var newState = {\n              fingerprint: this.fingerprint,\n              uid: shouldReplace ? this._uid : this._uid + 1,\n              destination: destination\n            };\n\n            this._updateInternalState(destination, newState.uid);\n\n            if (shouldReplace) {\n              window.history.replaceState(newState, '');\n            } else {\n              this._maxUid = this._uid;\n              window.history.pushState(newState, '');\n            }\n          }\n        }, {\n          key: '_tryPushCurrentPosition',\n          value: function _tryPushCurrentPosition() {\n            var temporary = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (!this._position) {\n              return;\n            }\n\n            var position = this._position;\n\n            if (temporary) {\n              position = (0, _ui_utils.cloneObj)(this._position);\n              position.temporary = true;\n            }\n\n            if (!this._destination) {\n              this._pushOrReplaceState(position);\n\n              return;\n            }\n\n            if (this._destination.temporary) {\n              this._pushOrReplaceState(position, true);\n\n              return;\n            }\n\n            if (this._destination.hash === position.hash) {\n              return;\n            }\n\n            if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n              return;\n            }\n\n            var forceReplace = false;\n\n            if (this._destination.page === position.first || this._destination.page === position.page) {\n              if (this._destination.dest || !this._destination.first) {\n                return;\n              }\n\n              forceReplace = true;\n            }\n\n            this._pushOrReplaceState(position, forceReplace);\n          }\n        }, {\n          key: '_isValidState',\n          value: function _isValidState(state) {\n            if (!state) {\n              return false;\n            }\n\n            if (state.fingerprint !== this.fingerprint) {\n              return false;\n            }\n\n            if (!Number.isInteger(state.uid) || state.uid < 0) {\n              return false;\n            }\n\n            if (state.destination === null || _typeof(state.destination) !== 'object') {\n              return false;\n            }\n\n            return true;\n          }\n        }, {\n          key: '_updateInternalState',\n          value: function _updateInternalState(destination, uid) {\n            var removeTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (this._updateViewareaTimeout) {\n              clearTimeout(this._updateViewareaTimeout);\n              this._updateViewareaTimeout = null;\n            }\n\n            if (removeTemporary && destination && destination.temporary) {\n              delete destination.temporary;\n            }\n\n            this._destination = destination;\n            this._uid = uid;\n            this._numPositionUpdates = 0;\n          }\n        }, {\n          key: '_updateViewarea',\n          value: function _updateViewarea(_ref3) {\n            var _this3 = this;\n\n            var location = _ref3.location;\n\n            if (this._updateViewareaTimeout) {\n              clearTimeout(this._updateViewareaTimeout);\n              this._updateViewareaTimeout = null;\n            }\n\n            this._position = {\n              hash: this._isViewerInPresentationMode ? 'page=' + location.pageNumber : location.pdfOpenParams.substring(1),\n              page: this.linkService.page,\n              first: location.pageNumber,\n              rotation: location.rotation\n            };\n\n            if (this._popStateInProgress) {\n              return;\n            }\n\n            if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n              this._numPositionUpdates++;\n            }\n\n            if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n              this._updateViewareaTimeout = setTimeout(function () {\n                if (!_this3._popStateInProgress) {\n                  _this3._tryPushCurrentPosition(true);\n                }\n\n                _this3._updateViewareaTimeout = null;\n              }, UPDATE_VIEWAREA_TIMEOUT);\n            }\n          }\n        }, {\n          key: '_popState',\n          value: function _popState(_ref4) {\n            var _this4 = this;\n\n            var state = _ref4.state;\n            var newHash = getCurrentHash(),\n                hashChanged = this._currentHash !== newHash;\n            this._currentHash = newHash;\n\n            if (!state || false) {\n              this._uid++;\n\n              var _parseCurrentHash2 = parseCurrentHash(this.linkService),\n                  hash = _parseCurrentHash2.hash,\n                  page = _parseCurrentHash2.page,\n                  rotation = _parseCurrentHash2.rotation;\n\n              this._pushOrReplaceState({\n                hash: hash,\n                page: page,\n                rotation: rotation\n              }, true);\n\n              return;\n            }\n\n            if (!this._isValidState(state)) {\n              return;\n            }\n\n            this._popStateInProgress = true;\n\n            if (hashChanged) {\n              this._blockHashChange++;\n              (0, _ui_utils.waitOnEventOrTimeout)({\n                target: window,\n                name: 'hashchange',\n                delay: HASH_CHANGE_TIMEOUT\n              }).then(function () {\n                _this4._blockHashChange--;\n              });\n            }\n\n            var destination = state.destination;\n\n            this._updateInternalState(destination, state.uid, true);\n\n            if (this._uid > this._maxUid) {\n              this._maxUid = this._uid;\n            }\n\n            if ((0, _ui_utils.isValidRotation)(destination.rotation)) {\n              this.linkService.rotation = destination.rotation;\n            }\n\n            if (destination.dest) {\n              this.linkService.navigateTo(destination.dest);\n            } else if (destination.hash) {\n              this.linkService.setHash(destination.hash);\n            } else if (destination.page) {\n              this.linkService.page = destination.page;\n            }\n\n            Promise.resolve().then(function () {\n              _this4._popStateInProgress = false;\n            });\n          }\n        }, {\n          key: '_bindEvents',\n          value: function _bindEvents() {\n            var _this5 = this;\n\n            var _boundEvents = this._boundEvents,\n                eventBus = this.eventBus;\n            _boundEvents.updateViewarea = this._updateViewarea.bind(this);\n            _boundEvents.popState = this._popState.bind(this);\n\n            _boundEvents.pageHide = function (evt) {\n              if (!_this5._destination || _this5._destination.temporary) {\n                _this5._tryPushCurrentPosition();\n              }\n            };\n\n            eventBus.on('updateviewarea', _boundEvents.updateViewarea);\n            window.addEventListener('popstate', _boundEvents.popState);\n            window.addEventListener('pagehide', _boundEvents.pageHide);\n          }\n        }, {\n          key: 'popStateInProgress',\n          get: function get() {\n            return this.initialized && (this._popStateInProgress || this._blockHashChange > 0);\n          }\n        }]);\n\n        return PDFHistory;\n      }();\n\n      function isDestHashesEqual(destHash, pushHash) {\n        if (typeof destHash !== 'string' || typeof pushHash !== 'string') {\n          return false;\n        }\n\n        if (destHash === pushHash) {\n          return true;\n        }\n\n        var _parseQueryString = (0, _ui_utils.parseQueryString)(destHash),\n            nameddest = _parseQueryString.nameddest;\n\n        if (nameddest === pushHash) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isDestArraysEqual(firstDest, secondDest) {\n        function isEntryEqual(first, second) {\n          if ((typeof first === 'undefined' ? 'undefined' : _typeof(first)) !== (typeof second === 'undefined' ? 'undefined' : _typeof(second))) {\n            return false;\n          }\n\n          if (first instanceof Array || second instanceof Array) {\n            return false;\n          }\n\n          if (first !== null && (typeof first === 'undefined' ? 'undefined' : _typeof(first)) === 'object' && second !== null) {\n            if (Object.keys(first).length !== Object.keys(second).length) {\n              return false;\n            }\n\n            for (var key in first) {\n              if (!isEntryEqual(first[key], second[key])) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n\n          return first === second || Number.isNaN(first) && Number.isNaN(second);\n        }\n\n        if (!(firstDest instanceof Array && secondDest instanceof Array)) {\n          return false;\n        }\n\n        if (firstDest.length !== secondDest.length) {\n          return false;\n        }\n\n        for (var i = 0, ii = firstDest.length; i < ii; i++) {\n          if (!isEntryEqual(firstDest[i], secondDest[i])) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      exports.PDFHistory = PDFHistory;\n      exports.isDestHashesEqual = isDestHashesEqual;\n      exports.isDestArraysEqual = isDestArraysEqual;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFSinglePageViewer = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _base_viewer = __w_pdfjs_require__(8);\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var PDFSinglePageViewer = function (_BaseViewer) {\n        _inherits(PDFSinglePageViewer, _BaseViewer);\n\n        function PDFSinglePageViewer(options) {\n          _classCallCheck(this, PDFSinglePageViewer);\n\n          var _this = _possibleConstructorReturn(this, (PDFSinglePageViewer.__proto__ || Object.getPrototypeOf(PDFSinglePageViewer)).call(this, options));\n\n          _this.eventBus.on('pagesinit', function (evt) {\n            _this._ensurePageViewVisible();\n          });\n\n          return _this;\n        }\n\n        _createClass(PDFSinglePageViewer, [{\n          key: '_resetView',\n          value: function _resetView() {\n            _get(PDFSinglePageViewer.prototype.__proto__ || Object.getPrototypeOf(PDFSinglePageViewer.prototype), '_resetView', this).call(this);\n\n            this._previousPageNumber = 1;\n            this._shadowViewer = document.createDocumentFragment();\n          }\n        }, {\n          key: '_ensurePageViewVisible',\n          value: function _ensurePageViewVisible() {\n            var pageView = this._pages[this._currentPageNumber - 1];\n            var previousPageView = this._pages[this._previousPageNumber - 1];\n            var viewerNodes = this.viewer.childNodes;\n\n            switch (viewerNodes.length) {\n              case 0:\n                this.viewer.appendChild(pageView.div);\n                break;\n\n              case 1:\n                if (viewerNodes[0] !== previousPageView.div) {\n                  throw new Error('_ensurePageViewVisible: Unexpected previously visible page.');\n                }\n\n                if (pageView === previousPageView) {\n                  break;\n                }\n\n                this._shadowViewer.appendChild(previousPageView.div);\n\n                this.viewer.appendChild(pageView.div);\n                this.container.scrollTop = 0;\n                break;\n\n              default:\n                throw new Error('_ensurePageViewVisible: Only one page should be visible at a time.');\n            }\n\n            this._previousPageNumber = this._currentPageNumber;\n          }\n        }, {\n          key: '_scrollUpdate',\n          value: function _scrollUpdate() {\n            if (this._updateScrollDown) {\n              this._updateScrollDown();\n            }\n\n            _get(PDFSinglePageViewer.prototype.__proto__ || Object.getPrototypeOf(PDFSinglePageViewer.prototype), '_scrollUpdate', this).call(this);\n          }\n        }, {\n          key: '_scrollIntoView',\n          value: function _scrollIntoView(_ref) {\n            var _this2 = this;\n\n            var pageDiv = _ref.pageDiv,\n                _ref$pageSpot = _ref.pageSpot,\n                pageSpot = _ref$pageSpot === undefined ? null : _ref$pageSpot,\n                _ref$pageNumber = _ref.pageNumber,\n                pageNumber = _ref$pageNumber === undefined ? null : _ref$pageNumber;\n\n            if (pageNumber) {\n              this._setCurrentPageNumber(pageNumber);\n            }\n\n            var scrolledDown = this._currentPageNumber >= this._previousPageNumber;\n            var previousLocation = this._location;\n\n            this._ensurePageViewVisible();\n\n            (0, _ui_utils.scrollIntoView)(pageDiv, pageSpot);\n\n            this._updateScrollDown = function () {\n              _this2.scroll.down = scrolledDown;\n              delete _this2._updateScrollDown;\n            };\n\n            setTimeout(function () {\n              if (_this2._location === previousLocation) {\n                if (_this2._updateScrollDown) {\n                  _this2._updateScrollDown();\n                }\n\n                _this2.update();\n              }\n            }, 0);\n          }\n        }, {\n          key: '_getVisiblePages',\n          value: function _getVisiblePages() {\n            if (!this.pagesCount) {\n              return {\n                views: []\n              };\n            }\n\n            var pageView = this._pages[this._currentPageNumber - 1];\n            var element = pageView.div;\n            var view = {\n              id: pageView.id,\n              x: element.offsetLeft + element.clientLeft,\n              y: element.offsetTop + element.clientTop,\n              view: pageView\n            };\n            return {\n              first: view,\n              last: view,\n              views: [view]\n            };\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var visible = this._getVisiblePages();\n\n            var visiblePages = visible.views,\n                numVisiblePages = visiblePages.length;\n\n            if (numVisiblePages === 0) {\n              return;\n            }\n\n            this._resizeBuffer(numVisiblePages);\n\n            this.renderingQueue.renderHighestPriority(visible);\n\n            this._updateLocation(visible.first);\n\n            this.eventBus.dispatch('updateviewarea', {\n              source: this,\n              location: this._location\n            });\n          }\n        }, {\n          key: '_setDocumentViewerElement',\n          get: function get() {\n            return (0, _pdfjsLib.shadow)(this, '_setDocumentViewerElement', this._shadowViewer);\n          }\n        }]);\n\n        return PDFSinglePageViewer;\n      }(_base_viewer.BaseViewer);\n\n      exports.PDFSinglePageViewer = PDFSinglePageViewer;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFViewer = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _ui_utils = __w_pdfjs_require__(1);\n\n      var _base_viewer = __w_pdfjs_require__(8);\n\n      var _pdfjsLib = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var PDFViewer = function (_BaseViewer) {\n        _inherits(PDFViewer, _BaseViewer);\n\n        function PDFViewer() {\n          _classCallCheck(this, PDFViewer);\n\n          return _possibleConstructorReturn(this, (PDFViewer.__proto__ || Object.getPrototypeOf(PDFViewer)).apply(this, arguments));\n        }\n\n        _createClass(PDFViewer, [{\n          key: '_scrollIntoView',\n          value: function _scrollIntoView(_ref) {\n            var pageDiv = _ref.pageDiv,\n                _ref$pageSpot = _ref.pageSpot,\n                pageSpot = _ref$pageSpot === undefined ? null : _ref$pageSpot;\n            (0, _ui_utils.scrollIntoView)(pageDiv, pageSpot);\n          }\n        }, {\n          key: '_getVisiblePages',\n          value: function _getVisiblePages() {\n            if (!this.isInPresentationMode) {\n              return (0, _ui_utils.getVisibleElements)(this.container, this._pages, true);\n            }\n\n            var currentPage = this._pages[this._currentPageNumber - 1];\n            var visible = [{\n              id: currentPage.id,\n              view: currentPage\n            }];\n            return {\n              first: currentPage,\n              last: currentPage,\n              views: visible\n            };\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var visible = this._getVisiblePages();\n\n            var visiblePages = visible.views,\n                numVisiblePages = visiblePages.length;\n\n            if (numVisiblePages === 0) {\n              return;\n            }\n\n            this._resizeBuffer(numVisiblePages);\n\n            this.renderingQueue.renderHighestPriority(visible);\n            var currentId = this._currentPageNumber;\n            var stillFullyVisible = false;\n\n            for (var i = 0; i < numVisiblePages; ++i) {\n              var page = visiblePages[i];\n\n              if (page.percent < 100) {\n                break;\n              }\n\n              if (page.id === currentId) {\n                stillFullyVisible = true;\n                break;\n              }\n            }\n\n            if (!stillFullyVisible) {\n              currentId = visiblePages[0].id;\n            }\n\n            if (!this.isInPresentationMode) {\n              this._setCurrentPageNumber(currentId);\n            }\n\n            this._updateLocation(visible.first);\n\n            this.eventBus.dispatch('updateviewarea', {\n              source: this,\n              location: this._location\n            });\n          }\n        }, {\n          key: '_setDocumentViewerElement',\n          get: function get() {\n            return (0, _pdfjsLib.shadow)(this, '_setDocumentViewerElement', this.viewer);\n          }\n        }]);\n\n        return PDFViewer;\n      }(_base_viewer.BaseViewer);\n\n      exports.PDFViewer = PDFViewer;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap d9d697b8d5d66c75434c","webpack:///web/pdfjs.js","webpack:///web/ui_utils.js","webpack:///web/dom_events.js","webpack:///web/pdf_link_service.js","webpack:///web/annotation_layer_builder.js","webpack:///web/text_layer_builder.js","webpack:///web/pdf_page_view.js","webpack:///web/pdf_rendering_queue.js","webpack:///web/base_viewer.js","webpack:///web/pdf_viewer.component.js","webpack:///web/download_manager.js","webpack:///web/genericl10n.js","webpack:///external/webL10n/l10n.js","webpack:///web/pdf_find_controller.js","webpack:///web/pdf_history.js","webpack:///web/pdf_single_page_viewer.js","webpack:///web/pdf_viewer.js"],"names":[],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/web/pdf_viewer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/web/pdf_viewer\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/web/pdf_viewer\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d9d697b8d5d66c75434c","/* Copyright 2016 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals module, __non_webpack_require__ */\n\n'use strict';\n\nlet pdfjsLib;\nif (typeof window !== 'undefined' && window['pdfjs-dist/build/pdf']) {\n  pdfjsLib = window['pdfjs-dist/build/pdf'];\n} else {\n  pdfjsLib = __non_webpack_require__('../build/pdf.js');\n}\nmodule.exports = pdfjsLib;\n\n\n\n// WEBPACK FOOTER //\n// web/pdfjs.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createPromiseCapability, PDFJS } from 'pdfjs-lib';\n\nconst CSS_UNITS = 96.0 / 72.0;\nconst DEFAULT_SCALE_VALUE = 'auto';\nconst DEFAULT_SCALE = 1.0;\nconst MIN_SCALE = 0.10;\nconst MAX_SCALE = 10.0;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\n\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3,\n};\n\nconst RendererType = {\n  CANVAS: 'canvas',\n  SVG: 'svg',\n};\n\n// Replaces {{arguments}} with their values.\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return (name in args ? args[name] : '{{' + name + '}}');\n  });\n}\n\n/**\n * No-op implemetation of the localization service.\n * @implements {IL10n}\n */\nlet NullL10n = {\n  getDirection() {\n    return Promise.resolve('ltr');\n  },\n\n  get(property, args, fallback) {\n    return Promise.resolve(formatL10nValue(fallback, args));\n  },\n\n  translate(element) {\n    return Promise.resolve();\n  },\n};\n\n/**\n * Disables fullscreen support, and by extension Presentation Mode,\n * in browsers which support the fullscreen API.\n * @var {boolean}\n */\nPDFJS.disableFullscreen = (PDFJS.disableFullscreen === undefined ?\n                           false : PDFJS.disableFullscreen);\n\n/**\n * Enables CSS only zooming.\n * @var {boolean}\n */\nPDFJS.useOnlyCssZoom = (PDFJS.useOnlyCssZoom === undefined ?\n                        false : PDFJS.useOnlyCssZoom);\n\n/**\n * The maximum supported canvas size in total pixels e.g. width * height.\n * The default value is 4096 * 4096. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxCanvasPixels = (PDFJS.maxCanvasPixels === undefined ?\n                         16777216 : PDFJS.maxCanvasPixels);\n\n/**\n * Disables saving of the last position of the viewed PDF.\n * @var {boolean}\n */\nPDFJS.disableHistory = (PDFJS.disableHistory === undefined ?\n                        false : PDFJS.disableHistory);\n\n/**\n * Disables creation of the text layer that used for text selection and search.\n * @var {boolean}\n */\nPDFJS.disableTextLayer = (PDFJS.disableTextLayer === undefined ?\n                          false : PDFJS.disableTextLayer);\n\nif (typeof PDFJSDev === 'undefined' ||\n    !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n  /**\n   * Interface locale settings.\n   * @var {string}\n   */\n  PDFJS.locale =\n    (PDFJS.locale === undefined && typeof navigator !== 'undefined' ?\n     navigator.language : PDFJS.locale);\n}\n\n/**\n * Returns scale factor for the canvas. It makes sense for the HiDPI displays.\n * @return {Object} The object with horizontal (sx) and vertical (sy)\n                    scales. The scaled property is set to false if scaling is\n                    not required, true otherwise.\n */\nfunction getOutputScale(ctx) {\n  let devicePixelRatio = window.devicePixelRatio || 1;\n  let backingStoreRatio = ctx.webkitBackingStorePixelRatio ||\n                          ctx.mozBackingStorePixelRatio ||\n                          ctx.msBackingStorePixelRatio ||\n                          ctx.oBackingStorePixelRatio ||\n                          ctx.backingStorePixelRatio || 1;\n  let pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1,\n  };\n}\n\n/**\n * Scrolls specified element into view of its parent.\n * @param {Object} element - The element to be visible.\n * @param {Object} spot - An object with optional top and left properties,\n *   specifying the offset from the top left edge.\n * @param {boolean} skipOverflowHiddenElements - Ignore elements that have\n *   the CSS rule `overflow: hidden;` set. The default is false.\n */\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  // Assuming offsetParent is available (it's not available when viewer is in\n  // hidden iframe or object). We have to scroll: if the offsetParent is not set\n  // producing the error. See also animationStarted.\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error('offsetParent is not set -- cannot scroll');\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight ||\n         (skipOverflowHiddenElements &&\n          getComputedStyle(parent).overflow === 'hidden')) {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return; // no need to scroll\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\n\n/**\n * Helper function to start monitoring the scroll event and converting them into\n * PDF.js friendly one: with scroll debounce and scroll direction.\n */\nfunction watchScroll(viewAreaElement, callback) {\n  let debounceScroll = function(evt) {\n    if (rAF) {\n      return;\n    }\n    // schedule an invocation of scroll for next animation frame.\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n\n      let currentY = viewAreaElement.scrollTop;\n      let lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  let state = {\n    down: true,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll,\n  };\n\n  let rAF = null;\n  viewAreaElement.addEventListener('scroll', debounceScroll, true);\n  return state;\n}\n\n/**\n * Helper function to parse query string (e.g. ?param1=value&parm2=...).\n */\nfunction parseQueryString(query) {\n  let parts = query.split('&');\n  let params = Object.create(null);\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    let param = parts[i].split('=');\n    let key = param[0].toLowerCase();\n    let value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n  return params;\n}\n\n/**\n * Use binary search to find the index of the first item in a given array which\n * passes a given condition. The items are expected to be sorted in the sense\n * that if the condition is true for one item in the array, then it is also true\n * for all following items.\n *\n * @returns {Number} Index of the first array element to pass the test,\n *                   or |items.length| if no such element exists.\n */\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    let currentIndex = (minIndex + maxIndex) >> 1;\n    let currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex; /* === maxIndex */\n}\n\n/**\n *  Approximates float number as a fraction using Farey sequence (max order\n *  of 8).\n *  @param {number} x - Positive float number.\n *  @returns {Array} Estimated fraction: the first array item is a numerator,\n *                   the second one is a denominator.\n */\nfunction approximateFraction(x) {\n  // Fast paths for int numbers or their inversions.\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  let xinv = 1 / x;\n  let limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  let x_ = x > 1 ? xinv : x;\n  // a/b and c/d are neighbours in Farey sequence.\n  let a = 0, b = 1, c = 1, d = 1;\n  // Limiting search to order 8.\n  while (true) {\n    // Generating next term in sequence (order of q).\n    let p = a + c, q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p; d = q;\n    } else {\n      a = p; b = q;\n    }\n  }\n  let result;\n  // Select closest of the neighbours to x.\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  let r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\n/**\n * Generic helper to find out what elements are visible within a scroll pane.\n */\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false) {\n  let top = scrollEl.scrollTop, bottom = top + scrollEl.clientHeight;\n  let left = scrollEl.scrollLeft, right = left + scrollEl.clientWidth;\n\n  function isElementBottomBelowViewTop(view) {\n    let element = view.div;\n    let elementBottom =\n      element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  let visible = [], view, element;\n  let currentHeight, viewHeight, hiddenHeight, percentHeight;\n  let currentWidth, viewWidth;\n  let firstVisibleElementInd = views.length === 0 ? 0 :\n    binarySearchFirstItem(views, isElementBottomBelowViewTop);\n\n  for (let i = firstVisibleElementInd, ii = views.length; i < ii; i++) {\n    view = views[i];\n    element = view.div;\n    currentHeight = element.offsetTop + element.clientTop;\n    viewHeight = element.clientHeight;\n\n    if (currentHeight > bottom) {\n      break;\n    }\n\n    currentWidth = element.offsetLeft + element.clientLeft;\n    viewWidth = element.clientWidth;\n    if (currentWidth + viewWidth < left || currentWidth > right) {\n      continue;\n    }\n    hiddenHeight = Math.max(0, top - currentHeight) +\n      Math.max(0, currentHeight + viewHeight - bottom);\n    percentHeight = ((viewHeight - hiddenHeight) * 100 / viewHeight) | 0;\n\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent: percentHeight,\n    });\n  }\n\n  let first = visible[0];\n  let last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function(a, b) {\n      let pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id; // ensure stability\n    });\n  }\n  return { first, last, views: visible, };\n}\n\n/**\n * Event handler to suppress context menu.\n */\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isFileSchema(url) {\n  let i = 0, ii = url.length;\n  while (i < ii && url[i].trim() === '') {\n    i++;\n  }\n  return url.substr(i, 7).toLowerCase() === 'file://';\n}\n\nfunction isDataSchema(url) {\n  let i = 0, ii = url.length;\n  while (i < ii && url[i].trim() === '') {\n    i++;\n  }\n  return url.substr(i, 5).toLowerCase() === 'data:';\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPDFFileNameFromURL(url, defaultFilename = 'document.pdf') {\n  if (isDataSchema(url)) {\n    console.warn('getPDFFileNameFromURL: ' +\n                 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  //            SCHEME        HOST         1.PATH  2.QUERY   3.REF\n  // Pattern to get last matching NAME.pdf\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  let splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) ||\n                          reFilename.exec(splitURI[2]) ||\n                          reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.indexOf('%') !== -1) {\n      // URL-encoded %2Fpath%2Fto%2Ffile.pdf should be file.pdf\n      try {\n        suggestedFilename =\n          reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) { // Possible (extremely rare) errors:\n        // URIError \"Malformed URI\", e.g. for \"%AA.pdf\"\n        // TypeError \"null has no properties\", e.g. for \"%2F.pdf\"\n      }\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  let angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    // All that is left-up oriented has to change the sign.\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  // Converts delta to per-page units\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction cloneObj(obj) {\n  let result = Object.create(null);\n  for (let i in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, i)) {\n      result[i] = obj[i];\n    }\n  }\n  return result;\n}\n\nconst WaitOnType = {\n  EVENT: 'event',\n  TIMEOUT: 'timeout',\n};\n\n/**\n * @typedef {Object} WaitOnEventOrTimeoutParameters\n * @property {Object} target - The event target, can for example be:\n *   `window`, `document`, a DOM element, or an {EventBus} instance.\n * @property {string} name - The name of the event.\n * @property {number} delay - The delay, in milliseconds, after which the\n *   timeout occurs (if the event wasn't already dispatched).\n */\n\n/**\n * Allows waiting for an event or a timeout, whichever occurs first.\n * Can be used to ensure that an action always occurs, even when an event\n * arrives late or not at all.\n *\n * @param {WaitOnEventOrTimeoutParameters}\n * @returns {Promise} A promise that is resolved with a {WaitOnType} value.\n */\nfunction waitOnEventOrTimeout({ target, name, delay = 0, }) {\n  if (typeof target !== 'object' || !(name && typeof name === 'string') ||\n      !(Number.isInteger(delay) && delay >= 0)) {\n    return Promise.reject(\n      new Error('waitOnEventOrTimeout - invalid paramaters.'));\n  }\n  let capability = createPromiseCapability();\n\n  function handler(type) {\n    if (target instanceof EventBus) {\n      target.off(name, eventHandler);\n    } else {\n      target.removeEventListener(name, eventHandler);\n    }\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    capability.resolve(type);\n  }\n\n  let eventHandler = handler.bind(null, WaitOnType.EVENT);\n  if (target instanceof EventBus) {\n    target.on(name, eventHandler);\n  } else {\n    target.addEventListener(name, eventHandler);\n  }\n\n  let timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n  let timeout = setTimeout(timeoutHandler, delay);\n\n  return capability.promise;\n}\n\n/**\n * Promise that is resolved when DOM window becomes visible.\n */\nlet animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\n\n/**\n * (deprecated) External localization service.\n */\nlet mozL10n;\n\n/**\n * (deprecated) Promise that is resolved when UI localization is finished.\n */\nlet localized = Promise.resolve();\n\n/**\n * Simple event bus for an application. Listeners are attached using the\n * `on` and `off` methods. To raise an event, the `dispatch` method shall be\n * used.\n */\nclass EventBus {\n  constructor() {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener) {\n    let eventListeners = this._listeners[eventName];\n    if (!eventListeners) {\n      eventListeners = [];\n      this._listeners[eventName] = eventListeners;\n    }\n    eventListeners.push(listener);\n  }\n\n  off(eventName, listener) {\n    let eventListeners = this._listeners[eventName];\n    let i;\n    if (!eventListeners || ((i = eventListeners.indexOf(listener)) < 0)) {\n      return;\n    }\n    eventListeners.splice(i, 1);\n  }\n\n  dispatch(eventName) {\n    let eventListeners = this._listeners[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    // Passing all arguments after the eventName to the listeners.\n    let args = Array.prototype.slice.call(arguments, 1);\n    // Making copy of the listeners array in case if it will be modified\n    // during dispatch.\n    eventListeners.slice(0).forEach(function (listener) {\n      listener.apply(null, args);\n    });\n  }\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, { height, width, units, } = {}) {\n    this.visible = true;\n\n    // Fetch the sub-elements for later.\n    this.div = document.querySelector(id + ' .progress');\n    // Get the loading bar element, so it can be resized to fit the viewer.\n    this.bar = this.div.parentNode;\n\n    // Get options, with sensible defaults.\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || '%';\n\n    // Initialize heights.\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add('indeterminate');\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove('indeterminate');\n    let progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    let container = viewer.parentNode;\n    let scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      this.bar.setAttribute('style', 'width: calc(100% - ' +\n                                     scrollbarWidth + 'px);');\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n    this.visible = false;\n    this.bar.classList.add('hidden');\n    document.body.classList.remove('loadingInProgress');\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n    this.visible = true;\n    document.body.classList.add('loadingInProgress');\n    this.bar.classList.remove('hidden');\n  }\n}\n\nexport {\n  CSS_UNITS,\n  DEFAULT_SCALE_VALUE,\n  DEFAULT_SCALE,\n  MIN_SCALE,\n  MAX_SCALE,\n  UNKNOWN_SCALE,\n  MAX_AUTO_SCALE,\n  SCROLLBAR_PADDING,\n  VERTICAL_PADDING,\n  isValidRotation,\n  isFileSchema,\n  cloneObj,\n  PresentationModeState,\n  RendererType,\n  mozL10n,\n  NullL10n,\n  EventBus,\n  ProgressBar,\n  getPDFFileNameFromURL,\n  noContextMenuHandler,\n  parseQueryString,\n  getVisibleElements,\n  roundToDivide,\n  approximateFraction,\n  getOutputScale,\n  scrollIntoView,\n  watchScroll,\n  binarySearchFirstItem,\n  normalizeWheelEventDelta,\n  animationStarted,\n  localized,\n  WaitOnType,\n  waitOnEventOrTimeout,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/ui_utils.js","/* Copyright 2016 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventBus } from './ui_utils';\n\n// Attaching to the application event bus to dispatch events to the DOM for\n// backwards viewer API compatibility.\nfunction attachDOMEventsToEventBus(eventBus) {\n  eventBus.on('documentload', function() {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('documentload', true, true, {});\n    window.dispatchEvent(event);\n  });\n  eventBus.on('pagerendered', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('pagerendered', true, true, {\n      pageNumber: evt.pageNumber,\n      cssTransform: evt.cssTransform,\n    });\n    evt.source.div.dispatchEvent(event);\n  });\n  eventBus.on('textlayerrendered', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('textlayerrendered', true, true, {\n      pageNumber: evt.pageNumber,\n    });\n    evt.source.textLayerDiv.dispatchEvent(event);\n  });\n  eventBus.on('pagechange', function(evt) {\n    let event = document.createEvent('UIEvents');\n    event.initUIEvent('pagechange', true, true, window, 0);\n    event.pageNumber = evt.pageNumber;\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('pagesinit', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('pagesinit', true, true, null);\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('pagesloaded', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('pagesloaded', true, true, {\n      pagesCount: evt.pagesCount,\n    });\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('scalechange', function(evt) {\n    let event = document.createEvent('UIEvents');\n    event.initUIEvent('scalechange', true, true, window, 0);\n    event.scale = evt.scale;\n    event.presetValue = evt.presetValue;\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('updateviewarea', function(evt) {\n    let event = document.createEvent('UIEvents');\n    event.initUIEvent('updateviewarea', true, true, window, 0);\n    event.location = evt.location;\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('find', function(evt) {\n    if (evt.source === window) {\n      return; // event comes from FirefoxCom, no need to replicate\n    }\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('find' + evt.type, true, true, {\n      query: evt.query,\n      phraseSearch: evt.phraseSearch,\n      caseSensitive: evt.caseSensitive,\n      highlightAll: evt.highlightAll,\n      findPrevious: evt.findPrevious,\n    });\n    window.dispatchEvent(event);\n  });\n  eventBus.on('attachmentsloaded', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('attachmentsloaded', true, true, {\n      attachmentsCount: evt.attachmentsCount,\n    });\n    evt.source.container.dispatchEvent(event);\n  });\n  eventBus.on('sidebarviewchanged', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('sidebarviewchanged', true, true, {\n      view: evt.view,\n    });\n    evt.source.outerContainer.dispatchEvent(event);\n  });\n  eventBus.on('pagemode', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('pagemode', true, true, {\n      mode: evt.mode,\n    });\n    evt.source.pdfViewer.container.dispatchEvent(event);\n  });\n  eventBus.on('namedaction', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('namedaction', true, true, {\n      action: evt.action,\n    });\n    evt.source.pdfViewer.container.dispatchEvent(event);\n  });\n  eventBus.on('presentationmodechanged', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('presentationmodechanged', true, true, {\n      active: evt.active,\n      switchInProgress: evt.switchInProgress,\n    });\n    window.dispatchEvent(event);\n  });\n  eventBus.on('outlineloaded', function(evt) {\n    let event = document.createEvent('CustomEvent');\n    event.initCustomEvent('outlineloaded', true, true, {\n      outlineCount: evt.outlineCount,\n    });\n    evt.source.container.dispatchEvent(event);\n  });\n}\n\nlet globalEventBus = null;\nfunction getGlobalEventBus() {\n  if (globalEventBus) {\n    return globalEventBus;\n  }\n  globalEventBus = new EventBus();\n  attachDOMEventsToEventBus(globalEventBus);\n  return globalEventBus;\n}\n\nexport {\n  attachDOMEventsToEventBus,\n  getGlobalEventBus,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/dom_events.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobalEventBus } from './dom_events';\nimport { parseQueryString } from './ui_utils';\n\n/**\n * @typedef {Object} PDFLinkServiceOptions\n * @property {EventBus} eventBus - The application event bus.\n */\n\n/**\n * Performs navigation functions inside PDF, such as opening specified page,\n * or destination.\n * @implements {IPDFLinkService}\n */\nclass PDFLinkService {\n  /**\n   * @param {PDFLinkServiceOptions} options\n   */\n  constructor({ eventBus, } = {}) {\n    this.eventBus = eventBus || getGlobalEventBus();\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n\n    this._pagesRefCache = null;\n  }\n\n  setDocument(pdfDocument, baseUrl) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n    this._pagesRefCache = Object.create(null);\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set page(value) {\n    this.pdfViewer.currentPageNumber = value;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get rotation() {\n    return this.pdfViewer.pagesRotation;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set rotation(value) {\n    this.pdfViewer.pagesRotation = value;\n  }\n\n  /**\n   * @param {string|Array} dest - The named, or explicit, PDF destination.\n   */\n  navigateTo(dest) {\n    let goToDestination = ({ namedDest, explicitDest, }) => {\n      // Dest array looks like that: <page-ref> </XYZ|/FitXXX> <args..>\n      let destRef = explicitDest[0], pageNumber;\n\n      if (destRef instanceof Object) {\n        pageNumber = this._cachedPageNumber(destRef);\n\n        if (pageNumber === null) {\n          // Fetch the page reference if it's not yet available. This could\n          // only occur during loading, before all pages have been resolved.\n          this.pdfDocument.getPageIndex(destRef).then((pageIndex) => {\n            this.cachePageRef(pageIndex + 1, destRef);\n            goToDestination({ namedDest, explicitDest, });\n          }).catch(() => {\n            console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` +\n                          `a valid page reference, for dest=\"${dest}\".`);\n          });\n          return;\n        }\n      } else if (Number.isInteger(destRef)) {\n        pageNumber = destRef + 1;\n      } else {\n        console.error(`PDFLinkService.navigateTo: \"${destRef}\" is not ` +\n                      `a valid destination reference, for dest=\"${dest}\".`);\n        return;\n      }\n      if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n        console.error(`PDFLinkService.navigateTo: \"${pageNumber}\" is not ` +\n                      `a valid page number, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (this.pdfHistory) {\n        // Update the browser history before scrolling the new destination into\n        // view, to be able to accurately capture the current document position.\n        this.pdfHistory.pushCurrentPosition();\n        this.pdfHistory.push({ namedDest, explicitDest, pageNumber, });\n      }\n\n      this.pdfViewer.scrollPageIntoView({\n        pageNumber,\n        destArray: explicitDest,\n      });\n    };\n\n    new Promise((resolve, reject) => {\n      if (typeof dest === 'string') {\n        this.pdfDocument.getDestination(dest).then((destArray) => {\n          resolve({\n            namedDest: dest,\n            explicitDest: destArray,\n          });\n        });\n        return;\n      }\n      resolve({\n        namedDest: '',\n        explicitDest: dest,\n      });\n    }).then((data) => {\n      if (!(data.explicitDest instanceof Array)) {\n        console.error(`PDFLinkService.navigateTo: \"${data.explicitDest}\" is` +\n                      ` not a valid destination array, for dest=\"${dest}\".`);\n        return;\n      }\n      goToDestination(data);\n    });\n  }\n\n  /**\n   * @param {string|Array} dest - The PDF destination object.\n   * @returns {string} The hyperlink to the PDF object.\n   */\n  getDestinationHash(dest) {\n    if (typeof dest === 'string') {\n      return this.getAnchorUrl('#' + escape(dest));\n    }\n    if (dest instanceof Array) {\n      let str = JSON.stringify(dest);\n      return this.getAnchorUrl('#' + escape(str));\n    }\n    return this.getAnchorUrl('');\n  }\n\n  /**\n   * Prefix the full url on anchor links to make sure that links are resolved\n   * relative to the current URL instead of the one defined in <base href>.\n   * @param {String} anchor The anchor hash, including the #.\n   * @returns {string} The hyperlink to the PDF object.\n   */\n  getAnchorUrl(anchor) {\n    return (this.baseUrl || '') + anchor;\n  }\n\n  /**\n   * @param {string} hash\n   */\n  setHash(hash) {\n    let pageNumber, dest;\n    if (hash.indexOf('=') >= 0) {\n      let params = parseQueryString(hash);\n      if ('search' in params) {\n        this.eventBus.dispatch('findfromurlhash', {\n          source: this,\n          query: params['search'].replace(/\"/g, ''),\n          phraseSearch: (params['phrase'] === 'true'),\n        });\n      }\n      // borrowing syntax from \"Parameters for Opening PDF Files\"\n      if ('nameddest' in params) {\n        this.navigateTo(params.nameddest);\n        return;\n      }\n      if ('page' in params) {\n        pageNumber = (params.page | 0) || 1;\n      }\n      if ('zoom' in params) {\n        // Build the destination array.\n        let zoomArgs = params.zoom.split(','); // scale,left,top\n        let zoomArg = zoomArgs[0];\n        let zoomArgNumber = parseFloat(zoomArg);\n\n        if (zoomArg.indexOf('Fit') === -1) {\n          // If the zoomArg is a number, it has to get divided by 100. If it's\n          // a string, it should stay as it is.\n          dest = [null, { name: 'XYZ', },\n                  zoomArgs.length > 1 ? (zoomArgs[1] | 0) : null,\n                  zoomArgs.length > 2 ? (zoomArgs[2] | 0) : null,\n                  (zoomArgNumber ? zoomArgNumber / 100 : zoomArg)];\n        } else {\n          if (zoomArg === 'Fit' || zoomArg === 'FitB') {\n            dest = [null, { name: zoomArg, }];\n          } else if ((zoomArg === 'FitH' || zoomArg === 'FitBH') ||\n                     (zoomArg === 'FitV' || zoomArg === 'FitBV')) {\n            dest = [null, { name: zoomArg, },\n                    zoomArgs.length > 1 ? (zoomArgs[1] | 0) : null];\n          } else if (zoomArg === 'FitR') {\n            if (zoomArgs.length !== 5) {\n              console.error(\n                'PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n            } else {\n              dest = [null, { name: zoomArg, },\n                      (zoomArgs[1] | 0), (zoomArgs[2] | 0),\n                      (zoomArgs[3] | 0), (zoomArgs[4] | 0)];\n            }\n          } else {\n            console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not ` +\n                          'a valid zoom value.');\n          }\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true,\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber; // simple page\n      }\n      if ('pagemode' in params) {\n        this.eventBus.dispatch('pagemode', {\n          source: this,\n          mode: params.pagemode,\n        });\n      }\n    } else { // Named (or explicit) destination.\n      dest = unescape(hash);\n      try {\n        dest = JSON.parse(dest);\n\n        if (!(dest instanceof Array)) {\n          // Avoid incorrectly rejecting a valid named destination, such as\n          // e.g. \"4.3\" or \"true\", because `JSON.parse` converted its type.\n          dest = dest.toString();\n        }\n      } catch (ex) {}\n\n      if (typeof dest === 'string' || isValidExplicitDestination(dest)) {\n        this.navigateTo(dest);\n        return;\n      }\n      console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not ` +\n                    'a valid destination.');\n    }\n  }\n\n  /**\n   * @param {string} action\n   */\n  executeNamedAction(action) {\n    // See PDF reference, table 8.45 - Named action\n    switch (action) {\n      case 'GoBack':\n        if (this.pdfHistory) {\n          this.pdfHistory.back();\n        }\n        break;\n\n      case 'GoForward':\n        if (this.pdfHistory) {\n          this.pdfHistory.forward();\n        }\n        break;\n\n      case 'NextPage':\n        if (this.page < this.pagesCount) {\n          this.page++;\n        }\n        break;\n\n      case 'PrevPage':\n        if (this.page > 1) {\n          this.page--;\n        }\n        break;\n\n      case 'LastPage':\n        this.page = this.pagesCount;\n        break;\n\n      case 'FirstPage':\n        this.page = 1;\n        break;\n\n      default:\n        break; // No action according to spec\n    }\n\n    this.eventBus.dispatch('namedaction', {\n      source: this,\n      action,\n    });\n  }\n\n  /**\n   * @param {Object} params\n   */\n  onFileAttachmentAnnotation({ id, filename, content, }) {\n    this.eventBus.dispatch('fileattachmentannotation', {\n      source: this,\n      id,\n      filename,\n      content,\n    });\n  }\n\n  /**\n   * @param {number} pageNum - page number.\n   * @param {Object} pageRef - reference to the page.\n   */\n  cachePageRef(pageNum, pageRef) {\n    let refStr = pageRef.num + ' ' + pageRef.gen + ' R';\n    this._pagesRefCache[refStr] = pageNum;\n  }\n\n  _cachedPageNumber(pageRef) {\n    let refStr = pageRef.num + ' ' + pageRef.gen + ' R';\n    return (this._pagesRefCache && this._pagesRefCache[refStr]) || null;\n  }\n}\n\nfunction isValidExplicitDestination(dest) {\n  if (!(dest instanceof Array)) {\n    return false;\n  }\n  let destLength = dest.length, allowNull = true;\n  if (destLength < 2) {\n    return false;\n  }\n  let page = dest[0];\n  if (!(typeof page === 'object' &&\n        Number.isInteger(page.num) && Number.isInteger(page.gen)) &&\n      !(Number.isInteger(page) && page >= 0)) {\n    return false;\n  }\n  let zoom = dest[1];\n  if (!(typeof zoom === 'object' && typeof zoom.name === 'string')) {\n    return false;\n  }\n  switch (zoom.name) {\n    case 'XYZ':\n      if (destLength !== 5) {\n        return false;\n      }\n      break;\n    case 'Fit':\n    case 'FitB':\n      return destLength === 2;\n    case 'FitH':\n    case 'FitBH':\n    case 'FitV':\n    case 'FitBV':\n      if (destLength !== 3) {\n        return false;\n      }\n      break;\n    case 'FitR':\n      if (destLength !== 6) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (let i = 2; i < destLength; i++) {\n    let param = dest[i];\n    if (!(typeof param === 'number' || (allowNull && param === null))) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass SimpleLinkService {\n  /**\n   * @returns {number}\n   */\n  get page() {\n    return 0;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set page(value) {}\n\n  /**\n   * @returns {number}\n   */\n  get rotation() {\n    return 0;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set rotation(value) {}\n\n  /**\n   * @param dest - The PDF destination object.\n   */\n  navigateTo(dest) {}\n\n  /**\n   * @param dest - The PDF destination object.\n   * @returns {string} The hyperlink to the PDF object.\n   */\n  getDestinationHash(dest) {\n    return '#';\n  }\n\n  /**\n   * @param hash - The PDF parameters/hash.\n   * @returns {string} The hyperlink to the PDF object.\n   */\n  getAnchorUrl(hash) {\n    return '#';\n  }\n\n  /**\n   * @param {string} hash\n   */\n  setHash(hash) {}\n\n  /**\n   * @param {string} action\n   */\n  executeNamedAction(action) {}\n\n  /**\n   * @param {Object} params\n   */\n  onFileAttachmentAnnotation({ id, filename, content, }) {}\n\n  /**\n   * @param {number} pageNum - page number.\n   * @param {Object} pageRef - reference to the page.\n   */\n  cachePageRef(pageNum, pageRef) {}\n}\n\nexport {\n  PDFLinkService,\n  SimpleLinkService,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_link_service.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationLayer } from 'pdfjs-lib';\nimport { NullL10n } from './ui_utils';\nimport { SimpleLinkService } from './pdf_link_service';\n\n/**\n * @typedef {Object} AnnotationLayerBuilderOptions\n * @property {HTMLDivElement} pageDiv\n * @property {PDFPage} pdfPage\n * @property {boolean} renderInteractiveForms\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {IL10n} l10n - Localization service.\n */\n\nclass AnnotationLayerBuilder {\n  /**\n   * @param {AnnotationLayerBuilderOptions} options\n   */\n  constructor({ pageDiv, pdfPage, linkService, downloadManager,\n                renderInteractiveForms = false, l10n = NullL10n, }) {\n    this.pageDiv = pageDiv;\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.renderInteractiveForms = renderInteractiveForms;\n    this.l10n = l10n;\n\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  /**\n   * @param {PageViewport} viewport\n   * @param {string} intent (default value is 'display')\n   */\n  render(viewport, intent = 'display') {\n    this.pdfPage.getAnnotations({ intent, }).then((annotations) => {\n      if (this._cancelled) {\n        return;\n      }\n\n      let parameters = {\n        viewport: viewport.clone({ dontFlip: true, }),\n        div: this.div,\n        annotations,\n        page: this.pdfPage,\n        renderInteractiveForms: this.renderInteractiveForms,\n        linkService: this.linkService,\n        downloadManager: this.downloadManager,\n      };\n\n      if (this.div) {\n        // If an annotationLayer already exists, refresh its children's\n        // transformation matrices.\n        AnnotationLayer.update(parameters);\n      } else {\n        // Create an annotation layer div and render the annotations\n        // if there is at least one annotation.\n        if (annotations.length === 0) {\n          return;\n        }\n        this.div = document.createElement('div');\n        this.div.className = 'annotationLayer';\n        this.pageDiv.appendChild(this.div);\n        parameters.div = this.div;\n\n        AnnotationLayer.render(parameters);\n        this.l10n.translate(this.div);\n      }\n    });\n  }\n\n  cancel() {\n    this._cancelled = true;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.setAttribute('hidden', 'true');\n  }\n}\n\n/**\n * @implements IPDFAnnotationLayerFactory\n */\nclass DefaultAnnotationLayerFactory {\n  /**\n   * @param {HTMLDivElement} pageDiv\n   * @param {PDFPage} pdfPage\n   * @param {boolean} renderInteractiveForms\n   * @param {IL10n} l10n\n   * @returns {AnnotationLayerBuilder}\n   */\n  createAnnotationLayerBuilder(pageDiv, pdfPage, renderInteractiveForms = false,\n                               l10n = NullL10n) {\n    return new AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      renderInteractiveForms,\n      linkService: new SimpleLinkService(),\n      l10n,\n    });\n  }\n}\n\nexport {\n  AnnotationLayerBuilder,\n  DefaultAnnotationLayerFactory,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/annotation_layer_builder.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobalEventBus } from './dom_events';\nimport { renderTextLayer } from 'pdfjs-lib';\n\nconst EXPAND_DIVS_TIMEOUT = 300; // ms\n\n/**\n * @typedef {Object} TextLayerBuilderOptions\n * @property {HTMLDivElement} textLayerDiv - The text layer container.\n * @property {EventBus} eventBus - The application event bus.\n * @property {number} pageIndex - The page index.\n * @property {PageViewport} viewport - The viewport of the text layer.\n * @property {PDFFindController} findController\n * @property {boolean} enhanceTextSelection - Option to turn on improved\n *   text selection.\n */\n\n/**\n * The text layer builder provides text selection functionality for the PDF.\n * It does this by creating overlay divs over the PDF's text. These divs\n * contain text that matches the PDF text they are overlaying. This object\n * also provides a way to highlight text that is being searched for.\n */\nclass TextLayerBuilder {\n  constructor({ textLayerDiv, eventBus, pageIndex, viewport,\n                findController = null, enhanceTextSelection = false, }) {\n    this.textLayerDiv = textLayerDiv;\n    this.eventBus = eventBus || getGlobalEventBus();\n    this.textContent = null;\n    this.textContentItemsStr = [];\n    this.textContentStream = null;\n    this.renderingDone = false;\n    this.pageIdx = pageIndex;\n    this.pageNumber = this.pageIdx + 1;\n    this.matches = [];\n    this.viewport = viewport;\n    this.textDivs = [];\n    this.findController = findController;\n    this.textLayerRenderTask = null;\n    this.enhanceTextSelection = enhanceTextSelection;\n\n    this._bindMouse();\n  }\n\n  /**\n   * @private\n   */\n  _finishRendering() {\n    this.renderingDone = true;\n\n    if (!this.enhanceTextSelection) {\n      let endOfContent = document.createElement('div');\n      endOfContent.className = 'endOfContent';\n      this.textLayerDiv.appendChild(endOfContent);\n    }\n\n    this.eventBus.dispatch('textlayerrendered', {\n      source: this,\n      pageNumber: this.pageNumber,\n      numTextDivs: this.textDivs.length,\n    });\n  }\n\n  /**\n   * Renders the text layer.\n   *\n   * @param {number} timeout - (optional) wait for a specified amount of\n   *                           milliseconds before rendering\n   */\n  render(timeout = 0) {\n    if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n      return;\n    }\n    this.cancel();\n\n    this.textDivs = [];\n    let textLayerFrag = document.createDocumentFragment();\n    this.textLayerRenderTask = renderTextLayer({\n      textContent: this.textContent,\n      textContentStream: this.textContentStream,\n      container: textLayerFrag,\n      viewport: this.viewport,\n      textDivs: this.textDivs,\n      textContentItemsStr: this.textContentItemsStr,\n      timeout,\n      enhanceTextSelection: this.enhanceTextSelection,\n    });\n    this.textLayerRenderTask.promise.then(() => {\n      this.textLayerDiv.appendChild(textLayerFrag);\n      this._finishRendering();\n      this.updateMatches();\n    }, function (reason) {\n      // Cancelled or failed to render text layer; skipping errors.\n    });\n  }\n\n  /**\n   * Cancel rendering of the text layer.\n   */\n  cancel() {\n    if (this.textLayerRenderTask) {\n      this.textLayerRenderTask.cancel();\n      this.textLayerRenderTask = null;\n    }\n  }\n\n  setTextContentStream(readableStream) {\n    this.cancel();\n    this.textContentStream = readableStream;\n  }\n\n  setTextContent(textContent) {\n    this.cancel();\n    this.textContent = textContent;\n  }\n\n  convertMatches(matches, matchesLength) {\n    let i = 0;\n    let iIndex = 0;\n    let textContentItemsStr = this.textContentItemsStr;\n    let end = textContentItemsStr.length - 1;\n    let queryLen = (this.findController === null ?\n                    0 : this.findController.state.query.length);\n    let ret = [];\n    if (!matches) {\n      return ret;\n    }\n    for (let m = 0, len = matches.length; m < len; m++) {\n      // Calculate the start position.\n      let matchIdx = matches[m];\n\n      // Loop over the divIdxs.\n      while (i !== end && matchIdx >=\n             (iIndex + textContentItemsStr[i].length)) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      if (i === textContentItemsStr.length) {\n        console.error('Could not find a matching mapping');\n      }\n\n      let match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex,\n        },\n      };\n\n      // Calculate the end position.\n      if (matchesLength) { // Multiterm search.\n        matchIdx += matchesLength[m];\n      } else { // Phrase search.\n        matchIdx += queryLen;\n      }\n\n      // Somewhat the same array as above, but use > instead of >= to get\n      // the end position right.\n      while (i !== end && matchIdx >\n             (iIndex + textContentItemsStr[i].length)) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex,\n      };\n      ret.push(match);\n    }\n\n    return ret;\n  }\n\n  renderMatches(matches) {\n    // Early exit if there is nothing to render.\n    if (matches.length === 0) {\n      return;\n    }\n\n    let textContentItemsStr = this.textContentItemsStr;\n    let textDivs = this.textDivs;\n    let prevEnd = null;\n    let pageIdx = this.pageIdx;\n    let isSelectedPage = (this.findController === null ?\n      false : (pageIdx === this.findController.selected.pageIdx));\n    let selectedMatchIdx = (this.findController === null ?\n                            -1 : this.findController.selected.matchIdx);\n    let highlightAll = (this.findController === null ?\n                        false : this.findController.state.highlightAll);\n    let infinity = {\n      divIdx: -1,\n      offset: undefined,\n    };\n\n    function beginText(begin, className) {\n      let divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = '';\n      appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      let content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      let node = document.createTextNode(content);\n      if (className) {\n        let span = document.createElement('span');\n        span.className = className;\n        span.appendChild(node);\n        div.appendChild(span);\n        return;\n      }\n      div.appendChild(node);\n    }\n\n    let i0 = selectedMatchIdx, i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      // Not highlighting all and this isn't the selected page, so do nothing.\n      return;\n    }\n\n    for (let i = i0; i < i1; i++) {\n      let match = matches[i];\n      let begin = match.begin;\n      let end = match.end;\n      let isSelected = (isSelectedPage && i === selectedMatchIdx);\n      let highlightSuffix = (isSelected ? ' selected' : '');\n\n      if (this.findController) {\n        this.findController.updateMatchPosition(pageIdx, i, textDivs,\n                                                begin.divIdx);\n      }\n\n      // Match inside new div.\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        // If there was a previous div, then add the text at the end.\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        // Clear the divs and set the content until the starting point.\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n\n      if (begin.divIdx === end.divIdx) {\n        appendTextToDiv(begin.divIdx, begin.offset, end.offset,\n                        'highlight' + highlightSuffix);\n      } else {\n        appendTextToDiv(begin.divIdx, begin.offset, infinity.offset,\n                        'highlight begin' + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = 'highlight middle' + highlightSuffix;\n        }\n        beginText(end, 'highlight end' + highlightSuffix);\n      }\n      prevEnd = end;\n    }\n\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n\n  updateMatches() {\n    // Only show matches when all rendering is done.\n    if (!this.renderingDone) {\n      return;\n    }\n\n    // Clear all matches.\n    let matches = this.matches;\n    let textDivs = this.textDivs;\n    let textContentItemsStr = this.textContentItemsStr;\n    let clearedUntilDivIdx = -1;\n\n    // Clear all current matches.\n    for (let i = 0, len = matches.length; i < len; i++) {\n      let match = matches[i];\n      let begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        let div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = '';\n      }\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n\n    if (this.findController === null || !this.findController.active) {\n      return;\n    }\n\n    // Convert the matches on the page controller into the match format\n    // used for the textLayer.\n    let pageMatches, pageMatchesLength;\n    if (this.findController !== null) {\n      pageMatches = this.findController.pageMatches[this.pageIdx] || null;\n      pageMatchesLength = (this.findController.pageMatchesLength) ?\n        this.findController.pageMatchesLength[this.pageIdx] || null : null;\n    }\n\n    this.matches = this.convertMatches(pageMatches, pageMatchesLength);\n    this.renderMatches(this.matches);\n  }\n\n  /**\n   * Improves text selection by adding an additional div where the mouse was\n   * clicked. This reduces flickering of the content if the mouse is slowly\n   * dragged up or down.\n   *\n   * @private\n   */\n  _bindMouse() {\n    let div = this.textLayerDiv;\n    let expandDivsTimer = null;\n\n    div.addEventListener('mousedown', (evt) => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        this.textLayerRenderTask.expandTextDivs(true);\n        if ((typeof PDFJSDev === 'undefined' ||\n             !PDFJSDev.test('FIREFOX || MOZCENTRAL')) &&\n            expandDivsTimer) {\n          clearTimeout(expandDivsTimer);\n          expandDivsTimer = null;\n        }\n        return;\n      }\n\n      let end = div.querySelector('.endOfContent');\n      if (!end) {\n        return;\n      }\n      if (typeof PDFJSDev === 'undefined' ||\n          !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n        // On non-Firefox browsers, the selection will feel better if the height\n        // of the `endOfContent` div is adjusted to start at mouse click\n        // location. This avoids flickering when the selection moves up.\n        // However it does not work when selection is started on empty space.\n        let adjustTop = evt.target !== div;\n        if (typeof PDFJSDev === 'undefined' || PDFJSDev.test('GENERIC')) {\n          adjustTop = adjustTop && window.getComputedStyle(end).\n            getPropertyValue('-moz-user-select') !== 'none';\n        }\n        if (adjustTop) {\n          let divBounds = div.getBoundingClientRect();\n          let r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n          end.style.top = (r * 100).toFixed(2) + '%';\n        }\n      }\n      end.classList.add('active');\n    });\n\n    div.addEventListener('mouseup', () => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        if (typeof PDFJSDev === 'undefined' ||\n            !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n          expandDivsTimer = setTimeout(() => {\n            if (this.textLayerRenderTask) {\n              this.textLayerRenderTask.expandTextDivs(false);\n            }\n            expandDivsTimer = null;\n          }, EXPAND_DIVS_TIMEOUT);\n        } else {\n          this.textLayerRenderTask.expandTextDivs(false);\n        }\n        return;\n      }\n\n      let end = div.querySelector('.endOfContent');\n      if (!end) {\n        return;\n      }\n      if (typeof PDFJSDev === 'undefined' ||\n          !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n        end.style.top = '';\n      }\n      end.classList.remove('active');\n    });\n  }\n}\n\n/**\n * @implements IPDFTextLayerFactory\n */\nclass DefaultTextLayerFactory {\n  /**\n   * @param {HTMLDivElement} textLayerDiv\n   * @param {number} pageIndex\n   * @param {PageViewport} viewport\n   * @param {boolean} enhanceTextSelection\n   * @returns {TextLayerBuilder}\n   */\n  createTextLayerBuilder(textLayerDiv, pageIndex, viewport,\n                         enhanceTextSelection = false) {\n    return new TextLayerBuilder({\n      textLayerDiv,\n      pageIndex,\n      viewport,\n      enhanceTextSelection,\n    });\n  }\n}\n\nexport {\n  TextLayerBuilder,\n  DefaultTextLayerFactory,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/text_layer_builder.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  approximateFraction, CSS_UNITS, DEFAULT_SCALE, getOutputScale, NullL10n,\n  RendererType, roundToDivide\n} from './ui_utils';\nimport {\n  createPromiseCapability, PDFJS, RenderingCancelledException, SVGGraphics\n} from 'pdfjs-lib';\nimport { getGlobalEventBus } from './dom_events';\nimport { RenderingStates } from './pdf_rendering_queue';\n\n/**\n * @typedef {Object} PDFPageViewOptions\n * @property {HTMLDivElement} container - The viewer element.\n * @property {EventBus} eventBus - The application event bus.\n * @property {number} id - The page unique ID (normally its number).\n * @property {number} scale - The page scale display.\n * @property {PageViewport} defaultViewport - The page viewport.\n * @property {PDFRenderingQueue} renderingQueue - The rendering queue object.\n * @property {IPDFTextLayerFactory} textLayerFactory\n * @property {IPDFAnnotationLayerFactory} annotationLayerFactory\n * @property {boolean} enhanceTextSelection - Turns on the text selection\n *   enhancement. The default is `false`.\n * @property {boolean} renderInteractiveForms - Turns on rendering of\n *   interactive form elements. The default is `false`.\n * @property {string} renderer - 'canvas' or 'svg'. The default is 'canvas'.\n * @property {IL10n} l10n - Localization service.\n */\n\n/**\n * @implements {IRenderableView}\n */\nclass PDFPageView {\n  /**\n   * @param {PDFPageViewOptions} options\n   */\n  constructor(options) {\n    let container = options.container;\n    let defaultViewport = options.defaultViewport;\n\n    this.id = options.id;\n    this.renderingId = 'page' + this.id;\n\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this.hasRestrictedScaling = false;\n    this.enhanceTextSelection = options.enhanceTextSelection || false;\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n\n    this.eventBus = options.eventBus || getGlobalEventBus();\n    this.renderingQueue = options.renderingQueue;\n    this.textLayerFactory = options.textLayerFactory;\n    this.annotationLayerFactory = options.annotationLayerFactory;\n    this.renderer = options.renderer || RendererType.CANVAS;\n    this.l10n = options.l10n || NullL10n;\n\n    this.paintTask = null;\n    this.paintedViewportMap = new WeakMap();\n    this.renderingState = RenderingStates.INITIAL;\n    this.resume = null;\n    this.error = null;\n\n    this.onBeforeDraw = null;\n    this.onAfterDraw = null;\n\n    this.annotationLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n\n    let div = document.createElement('div');\n    div.className = 'page';\n    div.style.width = Math.floor(this.viewport.width) + 'px';\n    div.style.height = Math.floor(this.viewport.height) + 'px';\n    div.setAttribute('data-page-number', this.id);\n    this.div = div;\n\n    container.appendChild(div);\n  }\n\n  setPdfPage(pdfPage) {\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n\n    let totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport(this.scale * CSS_UNITS,\n                                        totalRotation);\n    this.stats = pdfPage.stats;\n    this.reset();\n  }\n\n  destroy() {\n    this.reset();\n    if (this.pdfPage) {\n      this.pdfPage.cleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    let zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.paintedViewportMap.delete(zoomLayerCanvas);\n    // Zeroing the width and height causes Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n\n    if (removeFromDOM) {\n      // Note: `ChildNode.remove` doesn't throw if the parent node is undefined.\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n\n  reset(keepZoomLayer = false, keepAnnotations = false) {\n    this.cancelRendering(keepAnnotations);\n\n    let div = this.div;\n    div.style.width = Math.floor(this.viewport.width) + 'px';\n    div.style.height = Math.floor(this.viewport.height) + 'px';\n\n    let childNodes = div.childNodes;\n    let currentZoomLayerNode = (keepZoomLayer && this.zoomLayer) || null;\n    let currentAnnotationNode = (keepAnnotations && this.annotationLayer &&\n                                 this.annotationLayer.div) || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      let node = childNodes[i];\n      if (currentZoomLayerNode === node || currentAnnotationNode === node) {\n        continue;\n      }\n      div.removeChild(node);\n    }\n    div.removeAttribute('data-loaded');\n\n    if (currentAnnotationNode) {\n      // Hide the annotation layer until all elements are resized\n      // so they are not displayed on the already resized page.\n      this.annotationLayer.hide();\n    } else if (this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n\n    if (!currentZoomLayerNode) {\n      if (this.canvas) {\n        this.paintedViewportMap.delete(this.canvas);\n        // Zeroing the width and height causes Firefox to release graphics\n        // resources immediately, which can greatly reduce memory consumption.\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n    if (this.svg) {\n      this.paintedViewportMap.delete(this.svg);\n      delete this.svg;\n    }\n\n    this.loadingIconDiv = document.createElement('div');\n    this.loadingIconDiv.className = 'loadingIcon';\n    div.appendChild(this.loadingIconDiv);\n  }\n\n  update(scale, rotation) {\n    this.scale = scale || this.scale;\n    if (typeof rotation !== 'undefined') { // The rotation may be zero.\n      this.rotation = rotation;\n    }\n\n    let totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * CSS_UNITS,\n      rotation: totalRotation,\n    });\n\n    if (this.svg) {\n      this.cssTransform(this.svg, true);\n\n      this.eventBus.dispatch('pagerendered', {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: true,\n      });\n      return;\n    }\n\n    let isScalingRestricted = false;\n    if (this.canvas && PDFJS.maxCanvasPixels > 0) {\n      let outputScale = this.outputScale;\n      if (((Math.floor(this.viewport.width) * outputScale.sx) | 0) *\n          ((Math.floor(this.viewport.height) * outputScale.sy) | 0) >\n          PDFJS.maxCanvasPixels) {\n        isScalingRestricted = true;\n      }\n    }\n\n    if (this.canvas) {\n      if (PDFJS.useOnlyCssZoom ||\n          (this.hasRestrictedScaling && isScalingRestricted)) {\n        this.cssTransform(this.canvas, true);\n\n        this.eventBus.dispatch('pagerendered', {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hasAttribute('hidden')) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = 'absolute';\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform(this.zoomLayer.firstChild);\n    }\n    this.reset(/* keepZoomLayer = */ true, /* keepAnnotations = */ true);\n  }\n\n  cancelRendering(keepAnnotations = false) {\n    if (this.paintTask) {\n      this.paintTask.cancel();\n      this.paintTask = null;\n    }\n    this.renderingState = RenderingStates.INITIAL;\n    this.resume = null;\n\n    if (this.textLayer) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (!keepAnnotations && this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n  }\n\n  cssTransform(target, redrawAnnotations = false) {\n    // Scale target (canvas or svg), its wrapper and page container.\n    let width = this.viewport.width;\n    let height = this.viewport.height;\n    let div = this.div;\n    target.style.width = target.parentNode.style.width = div.style.width =\n      Math.floor(width) + 'px';\n    target.style.height = target.parentNode.style.height = div.style.height =\n      Math.floor(height) + 'px';\n    // The canvas may have been originally rotated; rotate relative to that.\n    let relativeRotation = this.viewport.rotation -\n                           this.paintedViewportMap.get(target).rotation;\n    let absRotation = Math.abs(relativeRotation);\n    let scaleX = 1, scaleY = 1;\n    if (absRotation === 90 || absRotation === 270) {\n      // Scale x and y because of the rotation.\n      scaleX = height / width;\n      scaleY = width / height;\n    }\n    let cssTransform = 'rotate(' + relativeRotation + 'deg) ' +\n      'scale(' + scaleX + ',' + scaleY + ')';\n    target.style.transform = cssTransform;\n\n    if (this.textLayer) {\n      // Rotating the text layer is more complicated since the divs inside the\n      // the text layer are rotated.\n      // TODO: This could probably be simplified by drawing the text layer in\n      // one orientation and then rotating overall.\n      let textLayerViewport = this.textLayer.viewport;\n      let textRelativeRotation = this.viewport.rotation -\n        textLayerViewport.rotation;\n      let textAbsRotation = Math.abs(textRelativeRotation);\n      let scale = width / textLayerViewport.width;\n      if (textAbsRotation === 90 || textAbsRotation === 270) {\n        scale = width / textLayerViewport.height;\n      }\n      let textLayerDiv = this.textLayer.textLayerDiv;\n      let transX, transY;\n      switch (textAbsRotation) {\n        case 0:\n          transX = transY = 0;\n          break;\n        case 90:\n          transX = 0;\n          transY = '-' + textLayerDiv.style.height;\n          break;\n        case 180:\n          transX = '-' + textLayerDiv.style.width;\n          transY = '-' + textLayerDiv.style.height;\n          break;\n        case 270:\n          transX = '-' + textLayerDiv.style.width;\n          transY = 0;\n          break;\n        default:\n          console.error('Bad rotation value.');\n          break;\n      }\n\n      textLayerDiv.style.transform =\n        'rotate(' + textAbsRotation + 'deg) ' +\n        'scale(' + scale + ', ' + scale + ') ' +\n        'translate(' + transX + ', ' + transY + ')';\n      textLayerDiv.style.transformOrigin = '0% 0%';\n    }\n\n    if (redrawAnnotations && this.annotationLayer) {\n      this.annotationLayer.render(this.viewport, 'display');\n    }\n  }\n\n  get width() {\n    return this.viewport.width;\n  }\n\n  get height() {\n    return this.viewport.height;\n  }\n\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n\n  draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error('Must be in new state before drawing');\n      this.reset(); // Ensure that we reset all state to prevent issues.\n    }\n\n    if (!this.pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      return Promise.reject(new Error('Page is not loaded'));\n    }\n\n    this.renderingState = RenderingStates.RUNNING;\n\n    let pdfPage = this.pdfPage;\n    let div = this.div;\n    // Wrap the canvas so that if it has a CSS transform for high DPI the\n    // overflow will be hidden in Firefox.\n    let canvasWrapper = document.createElement('div');\n    canvasWrapper.style.width = div.style.width;\n    canvasWrapper.style.height = div.style.height;\n    canvasWrapper.classList.add('canvasWrapper');\n\n    if (this.annotationLayer && this.annotationLayer.div) {\n      // The annotation layer needs to stay on top.\n      div.insertBefore(canvasWrapper, this.annotationLayer.div);\n    } else {\n      div.appendChild(canvasWrapper);\n    }\n\n    let textLayer = null;\n    if (this.textLayerFactory) {\n      let textLayerDiv = document.createElement('div');\n      textLayerDiv.className = 'textLayer';\n      textLayerDiv.style.width = canvasWrapper.style.width;\n      textLayerDiv.style.height = canvasWrapper.style.height;\n      if (this.annotationLayer && this.annotationLayer.div) {\n        // The annotation layer needs to stay on top.\n        div.insertBefore(textLayerDiv, this.annotationLayer.div);\n      } else {\n        div.appendChild(textLayerDiv);\n      }\n\n      textLayer = this.textLayerFactory.\n        createTextLayerBuilder(textLayerDiv, this.id - 1, this.viewport,\n                               this.enhanceTextSelection);\n    }\n    this.textLayer = textLayer;\n\n    let renderContinueCallback = null;\n    if (this.renderingQueue) {\n      renderContinueCallback = (cont) => {\n        if (!this.renderingQueue.isHighestPriority(this)) {\n          this.renderingState = RenderingStates.PAUSED;\n          this.resume = () => {\n            this.renderingState = RenderingStates.RUNNING;\n            cont();\n          };\n          return;\n        }\n        cont();\n      };\n    }\n\n    let finishPaintTask = (error) => {\n      // The paintTask may have been replaced by a new one, so only remove\n      // the reference to the paintTask if it matches the one that is\n      // triggering this callback.\n      if (paintTask === this.paintTask) {\n        this.paintTask = null;\n      }\n\n      if (error instanceof RenderingCancelledException) {\n        this.error = null;\n        return Promise.resolve(undefined);\n      }\n\n      this.renderingState = RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        div.removeChild(this.loadingIconDiv);\n        delete this.loadingIconDiv;\n      }\n      this._resetZoomLayer(/* removeFromDOM = */ true);\n\n      this.error = error;\n      this.stats = pdfPage.stats;\n      if (this.onAfterDraw) {\n        this.onAfterDraw();\n      }\n      this.eventBus.dispatch('pagerendered', {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: false,\n      });\n\n      if (error) {\n        return Promise.reject(error);\n      }\n      return Promise.resolve(undefined);\n    };\n\n    let paintTask = this.renderer === RendererType.SVG ?\n      this.paintOnSvg(canvasWrapper) :\n      this.paintOnCanvas(canvasWrapper);\n    paintTask.onRenderContinue = renderContinueCallback;\n    this.paintTask = paintTask;\n\n    let resultPromise = paintTask.promise.then(function() {\n      return finishPaintTask(null).then(function () {\n        if (textLayer) {\n          let readableStream = pdfPage.streamTextContent({\n            normalizeWhitespace: true,\n          });\n          textLayer.setTextContentStream(readableStream);\n          textLayer.render();\n        }\n      });\n    }, function(reason) {\n      return finishPaintTask(reason);\n    });\n\n    if (this.annotationLayerFactory) {\n      if (!this.annotationLayer) {\n        this.annotationLayer = this.annotationLayerFactory.\n          createAnnotationLayerBuilder(div, pdfPage,\n                                       this.renderInteractiveForms, this.l10n);\n      }\n      this.annotationLayer.render(this.viewport, 'display');\n    }\n    div.setAttribute('data-loaded', true);\n\n    if (this.onBeforeDraw) {\n      this.onBeforeDraw();\n    }\n    return resultPromise;\n  }\n\n  paintOnCanvas(canvasWrapper) {\n    let renderCapability = createPromiseCapability();\n    let result = {\n      promise: renderCapability.promise,\n      onRenderContinue(cont) {\n        cont();\n      },\n      cancel() {\n        renderTask.cancel();\n      },\n    };\n\n    let viewport = this.viewport;\n    let canvas = document.createElement('canvas');\n    canvas.id = this.renderingId;\n\n    // Keep the canvas hidden until the first draw callback, or until drawing\n    // is complete when `!this.renderingQueue`, to prevent black flickering.\n    canvas.setAttribute('hidden', 'hidden');\n    let isCanvasHidden = true;\n    let showCanvas = function () {\n      if (isCanvasHidden) {\n        canvas.removeAttribute('hidden');\n        isCanvasHidden = false;\n      }\n    };\n\n    canvasWrapper.appendChild(canvas);\n    this.canvas = canvas;\n\n    if (typeof PDFJSDev === 'undefined' ||\n        PDFJSDev.test('MOZCENTRAL || FIREFOX || GENERIC')) {\n      canvas.mozOpaque = true;\n    }\n\n    let ctx = canvas.getContext('2d', { alpha: false, });\n    let outputScale = getOutputScale(ctx);\n    this.outputScale = outputScale;\n\n    if (PDFJS.useOnlyCssZoom) {\n      let actualSizeViewport = viewport.clone({ scale: CSS_UNITS, });\n      // Use a scale that makes the canvas have the originally intended size\n      // of the page.\n      outputScale.sx *= actualSizeViewport.width / viewport.width;\n      outputScale.sy *= actualSizeViewport.height / viewport.height;\n      outputScale.scaled = true;\n    }\n\n    if (PDFJS.maxCanvasPixels > 0) {\n      let pixelsInViewport = viewport.width * viewport.height;\n      let maxScale = Math.sqrt(PDFJS.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        outputScale.scaled = true;\n        this.hasRestrictedScaling = true;\n      } else {\n        this.hasRestrictedScaling = false;\n      }\n    }\n\n    let sfx = approximateFraction(outputScale.sx);\n    let sfy = approximateFraction(outputScale.sy);\n    canvas.width = roundToDivide(viewport.width * outputScale.sx, sfx[0]);\n    canvas.height = roundToDivide(viewport.height * outputScale.sy, sfy[0]);\n    canvas.style.width = roundToDivide(viewport.width, sfx[1]) + 'px';\n    canvas.style.height = roundToDivide(viewport.height, sfy[1]) + 'px';\n    // Add the viewport so it's known what it was originally drawn with.\n    this.paintedViewportMap.set(canvas, viewport);\n\n    // Rendering area\n    let transform = !outputScale.scaled ? null :\n      [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n    let renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport: this.viewport,\n      renderInteractiveForms: this.renderInteractiveForms,\n    };\n    let renderTask = this.pdfPage.render(renderContext);\n    renderTask.onContinue = function (cont) {\n      showCanvas();\n      if (result.onRenderContinue) {\n        result.onRenderContinue(cont);\n      } else {\n        cont();\n      }\n    };\n\n    renderTask.promise.then(function() {\n      showCanvas();\n      renderCapability.resolve(undefined);\n    }, function(error) {\n      showCanvas();\n      renderCapability.reject(error);\n    });\n    return result;\n  }\n\n  paintOnSvg(wrapper) {\n    if (typeof PDFJSDev !== 'undefined' &&\n        PDFJSDev.test('FIREFOX || MOZCENTRAL || CHROME')) {\n      // Return a mock object, to prevent errors such as e.g.\n      // \"TypeError: paintTask.promise is undefined\".\n      return {\n        promise: Promise.reject(new Error('SVG rendering is not supported.')),\n        onRenderContinue(cont) { },\n        cancel() { },\n      };\n    }\n\n    let cancelled = false;\n    let ensureNotCancelled = () => {\n      if (cancelled) {\n        throw new RenderingCancelledException(\n          'Rendering cancelled, page ' + this.id, 'svg');\n      }\n    };\n\n    let pdfPage = this.pdfPage;\n    let actualSizeViewport = this.viewport.clone({ scale: CSS_UNITS, });\n    let promise = pdfPage.getOperatorList().then((opList) => {\n      ensureNotCancelled();\n      let svgGfx = new SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n      return svgGfx.getSVG(opList, actualSizeViewport).then((svg) => {\n        ensureNotCancelled();\n        this.svg = svg;\n        this.paintedViewportMap.set(svg, actualSizeViewport);\n\n        svg.style.width = wrapper.style.width;\n        svg.style.height = wrapper.style.height;\n        this.renderingState = RenderingStates.FINISHED;\n        wrapper.appendChild(svg);\n      });\n    });\n\n    return {\n      promise,\n      onRenderContinue(cont) {\n        cont();\n      },\n      cancel() {\n        cancelled = true;\n      },\n    };\n  }\n\n  /**\n   * @param {string|null} label\n   */\n  setPageLabel(label) {\n    this.pageLabel = (typeof label === 'string' ? label : null);\n\n    if (this.pageLabel !== null) {\n      this.div.setAttribute('data-page-label', this.pageLabel);\n    } else {\n      this.div.removeAttribute('data-page-label');\n    }\n  }\n}\n\nexport {\n  PDFPageView,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_page_view.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst CLEANUP_TIMEOUT = 30000;\n\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3,\n};\n\n/**\n * Controls rendering of the views for pages and thumbnails.\n */\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n  }\n\n  /**\n   * @param {PDFViewer} pdfViewer\n   */\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  /**\n   * @param {PDFThumbnailViewer} pdfThumbnailViewer\n   */\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n\n  /**\n   * @param {IRenderableView} view\n   * @returns {boolean}\n   */\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n\n  /**\n   * @param {Object} currentlyVisiblePages\n   */\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n\n    // Pages have a higher priority than thumbnails, so check them first.\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    // No pages needed rendering, so check thumbnails.\n    if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n      if (this.pdfThumbnailViewer.forceRendering()) {\n        return;\n      }\n    }\n\n    if (this.printing) {\n      // If printing is currently ongoing do not reschedule cleanup.\n      return;\n    }\n\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n\n  /**\n   * @param {Object} visible\n   * @param {Array} views\n   * @param {boolean} scrolledDown\n   */\n  getHighestPriority(visible, views, scrolledDown) {\n    /**\n     * The state has changed. Figure out which page has the highest priority to\n     * render next (if any).\n     *\n     * Priority:\n     * 1. visible pages\n     * 2. if last scrolled down, the page after the visible pages, or\n     *    if last scrolled up, the page before the visible pages\n     */\n    let visibleViews = visible.views;\n\n    let numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return false;\n    }\n    for (let i = 0; i < numVisible; ++i) {\n      let view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n\n    // All the visible views have rendered; try to render next/previous pages.\n    if (scrolledDown) {\n      let nextPageIndex = visible.last.id;\n      // IDs start at 1, so no need to add 1.\n      if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n        return views[nextPageIndex];\n      }\n    } else {\n      let previousPageIndex = visible.first.id - 2;\n      if (views[previousPageIndex] &&\n          !this.isViewFinished(views[previousPageIndex])) {\n        return views[previousPageIndex];\n      }\n    }\n    // Everything that needs to be rendered has been.\n    return null;\n  }\n\n  /**\n   * @param {IRenderableView} view\n   * @returns {boolean}\n   */\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n\n  /**\n   * Render a page or thumbnail view. This calls the appropriate function\n   * based on the views state. If the view is already rendered it will return\n   * `false`.\n   *\n   * @param {IRenderableView} view\n   */\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        let continueRendering = () => {\n          this.renderHighestPriority();\n        };\n        view.draw().then(continueRendering, continueRendering);\n        break;\n    }\n    return true;\n  }\n}\n\nexport {\n  RenderingStates,\n  PDFRenderingQueue,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_rendering_queue.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createPromiseCapability, PDFJS } from 'pdfjs-lib';\nimport {\n  CSS_UNITS, DEFAULT_SCALE, DEFAULT_SCALE_VALUE, isValidRotation,\n  MAX_AUTO_SCALE, NullL10n, PresentationModeState, RendererType,\n  SCROLLBAR_PADDING, UNKNOWN_SCALE, VERTICAL_PADDING, watchScroll\n} from './ui_utils';\nimport { PDFRenderingQueue, RenderingStates } from './pdf_rendering_queue';\nimport { AnnotationLayerBuilder } from './annotation_layer_builder';\nimport { getGlobalEventBus } from './dom_events';\nimport { PDFPageView } from './pdf_page_view';\nimport { SimpleLinkService } from './pdf_link_service';\nimport { TextLayerBuilder } from './text_layer_builder';\n\nconst DEFAULT_CACHE_SIZE = 10;\n\n/**\n * @typedef {Object} PDFViewerOptions\n * @property {HTMLDivElement} container - The container for the viewer element.\n * @property {HTMLDivElement} viewer - (optional) The viewer element.\n * @property {EventBus} eventBus - The application event bus.\n * @property {IPDFLinkService} linkService - The navigation/linking service.\n * @property {DownloadManager} downloadManager - (optional) The download\n *   manager component.\n * @property {PDFRenderingQueue} renderingQueue - (optional) The rendering\n *   queue object.\n * @property {boolean} removePageBorders - (optional) Removes the border shadow\n *   around the pages. The default is false.\n * @property {boolean} enhanceTextSelection - (optional) Enables the improved\n *   text selection behaviour. The default is `false`.\n * @property {boolean} renderInteractiveForms - (optional) Enables rendering of\n *   interactive form elements. The default is `false`.\n * @property {boolean} enablePrintAutoRotate - (optional) Enables automatic\n *   rotation of pages whose orientation differ from the first page upon\n *   printing. The default is `false`.\n * @property {string} renderer - 'canvas' or 'svg'. The default is 'canvas'.\n * @property {IL10n} l10n - Localization service.\n */\n\nfunction PDFPageViewBuffer(size) {\n  let data = [];\n  this.push = function(view) {\n    let i = data.indexOf(view);\n    if (i >= 0) {\n      data.splice(i, 1);\n    }\n    data.push(view);\n    if (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n  this.resize = function(newSize) {\n    size = newSize;\n    while (data.length > size) {\n      data.shift().destroy();\n    }\n  };\n}\n\nfunction isSameScale(oldScale, newScale) {\n  if (newScale === oldScale) {\n    return true;\n  }\n  if (Math.abs(newScale - oldScale) < 1e-15) {\n    // Prevent unnecessary re-rendering of all pages when the scale\n    // changes only because of limited numerical precision.\n    return true;\n  }\n  return false;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\n/**\n * Simple viewer control to display PDF content/pages.\n * @implements {IRenderableView}\n */\nclass BaseViewer {\n  /**\n   * @param {PDFViewerOptions} options\n   */\n  constructor(options) {\n    if (this.constructor === BaseViewer) {\n      throw new Error('Cannot initialize BaseViewer.');\n    }\n    this._name = this.constructor.name;\n\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    this.eventBus = options.eventBus || getGlobalEventBus();\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.removePageBorders = options.removePageBorders || false;\n    this.enhanceTextSelection = options.enhanceTextSelection || false;\n    this.renderInteractiveForms = options.renderInteractiveForms || false;\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.renderer = options.renderer || RendererType.CANVAS;\n    this.l10n = options.l10n || NullL10n;\n\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      // Custom rendering queue is not specified, using default one\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this));\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n\n    if (this.removePageBorders) {\n      this.viewer.classList.add('removePageBorders');\n    }\n  }\n\n  get pagesCount() {\n    return this._pages.length;\n  }\n\n  getPageView(index) {\n    return this._pages[index];\n  }\n\n  /**\n   * @returns {boolean} true if all {PDFPageView} objects are initialized.\n   */\n  get pageViewsReady() {\n    return this._pageViewsReady;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n\n  /**\n   * @param {number} val - The page number.\n   */\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error('Invalid page number.');\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    // The intent can be to just reset a scroll position and/or scale.\n    this._setCurrentPageNumber(val, /* resetCurrentPageView = */ true);\n  }\n\n  /**\n   * @private\n   */\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this._resetCurrentPageView();\n      }\n      return;\n    }\n\n    if (!(0 < val && val <= this.pagesCount)) {\n      console.error(\n        `${this._name}._setCurrentPageNumber: \"${val}\" is out of bounds.`);\n      return;\n    }\n\n    let arg = {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels && this._pageLabels[val - 1],\n    };\n    this._currentPageNumber = val;\n    this.eventBus.dispatch('pagechanging', arg);\n    this.eventBus.dispatch('pagechange', arg);\n\n    if (resetCurrentPageView) {\n      this._resetCurrentPageView();\n    }\n  }\n\n  /**\n   * @returns {string|null} Returns the current page label,\n   *                        or `null` if no page labels exist.\n   */\n  get currentPageLabel() {\n    return this._pageLabels && this._pageLabels[this._currentPageNumber - 1];\n  }\n\n  /**\n   * @param {string} val - The page label.\n   */\n  set currentPageLabel(val) {\n    let pageNumber = val | 0; // Fallback page number.\n    if (this._pageLabels) {\n      let i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        pageNumber = i + 1;\n      }\n    }\n    this.currentPageNumber = pageNumber;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale :\n                                                  DEFAULT_SCALE;\n  }\n\n  /**\n   * @param {number} val - Scale of the pages in percents.\n   */\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error('Invalid numeric scale');\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    this._setScale(val, false);\n  }\n\n  /**\n   * @returns {string}\n   */\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n\n  /**\n   * @param val - The scale of the pages (in percent or predefined value).\n   */\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    this._setScale(val, false);\n  }\n\n  /**\n   * @returns {number}\n   */\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n\n  /**\n   * @param {number} rotation - The rotation of the pages (0, 90, 180, 270).\n   */\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error('Invalid pages rotation angle.');\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (this._pagesRotation === rotation) {\n      return; // The rotation didn't change.\n    }\n    this._pagesRotation = rotation;\n\n    let pageNumber = this._currentPageNumber;\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      let pageView = this._pages[i];\n      pageView.update(pageView.scale, rotation);\n    }\n    // Prevent errors in case the rotation changes *before* the scale has been\n    // set to a non-default value.\n    if (this._currentScaleValue) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this.eventBus.dispatch('rotationchanging', {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber,\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  get _setDocumentViewerElement() {\n    throw new Error('Not implemented: _setDocumentViewerElement');\n  }\n\n  /**\n   * @param pdfDocument {PDFDocument}\n   */\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this._cancelRendering();\n      this._resetView();\n    }\n\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    let pagesCount = pdfDocument.numPages;\n\n    let pagesCapability = createPromiseCapability();\n    this.pagesPromise = pagesCapability.promise;\n\n    pagesCapability.promise.then(() => {\n      this._pageViewsReady = true;\n      this.eventBus.dispatch('pagesloaded', {\n        source: this,\n        pagesCount,\n      });\n    });\n\n    let isOnePageRenderedResolved = false;\n    let onePageRenderedCapability = createPromiseCapability();\n    this.onePageRendered = onePageRenderedCapability.promise;\n\n    let bindOnAfterAndBeforeDraw = (pageView) => {\n      pageView.onBeforeDraw = () => {\n        // Add the page to the buffer at the start of drawing. That way it can\n        // be evicted from the buffer and destroyed even if we pause its\n        // rendering.\n        this._buffer.push(pageView);\n      };\n      pageView.onAfterDraw = () => {\n        if (!isOnePageRenderedResolved) {\n          isOnePageRenderedResolved = true;\n          onePageRenderedCapability.resolve();\n        }\n      };\n    };\n\n    let firstPagePromise = pdfDocument.getPage(1);\n    this.firstPagePromise = firstPagePromise;\n\n    // Fetch a single page so we can get a viewport that will be the default\n    // viewport for all pages\n    firstPagePromise.then((pdfPage) => {\n      let scale = this.currentScale;\n      let viewport = pdfPage.getViewport(scale * CSS_UNITS);\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        let textLayerFactory = null;\n        if (!PDFJS.disableTextLayer) {\n          textLayerFactory = this;\n        }\n        let pageView = new PDFPageView({\n          container: this._setDocumentViewerElement,\n          eventBus: this.eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          renderingQueue: this.renderingQueue,\n          textLayerFactory,\n          annotationLayerFactory: this,\n          enhanceTextSelection: this.enhanceTextSelection,\n          renderInteractiveForms: this.renderInteractiveForms,\n          renderer: this.renderer,\n          l10n: this.l10n,\n        });\n        bindOnAfterAndBeforeDraw(pageView);\n        this._pages.push(pageView);\n      }\n\n      // Fetch all the pages since the viewport is needed before printing\n      // starts to create the correct size canvas. Wait until one page is\n      // rendered so we don't tie up too many resources early on.\n      onePageRenderedCapability.promise.then(() => {\n        if (PDFJS.disableAutoFetch) {\n          // XXX: Printing is semi-broken with auto fetch disabled.\n          pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount;\n        for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n          pdfDocument.getPage(pageNum).then((pdfPage) => {\n            let pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            this.linkService.cachePageRef(pageNum, pdfPage.ref);\n            if (--getPagesLeft === 0) {\n              pagesCapability.resolve();\n            }\n          }, (reason) => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`,\n                          reason);\n            if (--getPagesLeft === 0) {\n              pagesCapability.resolve();\n            }\n          });\n        }\n      });\n\n      this.eventBus.dispatch('pagesinit', { source: this, });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n\n      if (this.findController) {\n        this.findController.resolveFirstPage();\n      }\n    }).catch((reason) => {\n      console.error('Unable to initialize viewer', reason);\n    });\n  }\n\n  /**\n   * @param {Array|null} labels\n   */\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(labels instanceof Array &&\n                 this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`${this._name}.setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    // Update all the `PDFPageView` instances.\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      let pageView = this._pages[i];\n      let label = this._pageLabels && this._pageLabels[i];\n      pageView.setPageLabel(label);\n    }\n  }\n\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this._buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._pagesRequests = [];\n    this._pageViewsReady = false;\n\n    // Remove the pages from the DOM.\n    this.viewer.textContent = '';\n  }\n\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n\n  _scrollIntoView({ pageDiv, pageSpot = null, pageNumber = null, }) {\n    throw new Error('Not implemented: _scrollIntoView');\n  }\n\n  _setScaleDispatchEvent(newScale, newValue, preset = false) {\n    let arg = {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined,\n    };\n    this.eventBus.dispatch('scalechanging', arg);\n    this.eventBus.dispatch('scalechange', arg);\n  }\n\n  _setScaleUpdatePages(newScale, newValue, noScroll = false, preset = false) {\n    this._currentScaleValue = newValue.toString();\n\n    if (isSameScale(this._currentScale, newScale)) {\n      if (preset) {\n        this._setScaleDispatchEvent(newScale, newValue, true);\n      }\n      return;\n    }\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].update(newScale);\n    }\n    this._currentScale = newScale;\n\n    if (!noScroll) {\n      let page = this._currentPageNumber, dest;\n      if (this._location &&\n          !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, { name: 'XYZ', }, this._location.left,\n                this._location.top, null];\n      }\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true,\n      });\n    }\n\n    this._setScaleDispatchEvent(newScale, newValue, preset);\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  _setScale(value, noScroll = false) {\n    let scale = parseFloat(value);\n\n    if (scale > 0) {\n      this._setScaleUpdatePages(scale, value, noScroll, /* preset = */ false);\n    } else {\n      let currentPage = this._pages[this._currentPageNumber - 1];\n      if (!currentPage) {\n        return;\n      }\n      let hPadding = (this.isInPresentationMode || this.removePageBorders) ?\n        0 : SCROLLBAR_PADDING;\n      let vPadding = (this.isInPresentationMode || this.removePageBorders) ?\n        0 : VERTICAL_PADDING;\n      let pageWidthScale = (this.container.clientWidth - hPadding) /\n                           currentPage.width * currentPage.scale;\n      let pageHeightScale = (this.container.clientHeight - vPadding) /\n                            currentPage.height * currentPage.scale;\n      switch (value) {\n        case 'page-actual':\n          scale = 1;\n          break;\n        case 'page-width':\n          scale = pageWidthScale;\n          break;\n        case 'page-height':\n          scale = pageHeightScale;\n          break;\n        case 'page-fit':\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n        case 'auto':\n          let isLandscape = (currentPage.width > currentPage.height);\n          // For pages in landscape mode, fit the page height to the viewer\n          // *unless* the page would thus become too wide to fit horizontally.\n          let horizontalScale = isLandscape ?\n            Math.min(pageHeightScale, pageWidthScale) : pageWidthScale;\n          scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n          break;\n        default:\n          console.error(\n            `${this._name}._setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n      this._setScaleUpdatePages(scale, value, noScroll, /* preset = */ true);\n    }\n  }\n\n  /**\n   * Refreshes page view: scrolls to the current page and updates the scale.\n   * @private\n   */\n  _resetCurrentPageView() {\n    if (this.isInPresentationMode) {\n      // Fixes the case when PDF has different page sizes.\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    let pageView = this._pages[this._currentPageNumber - 1];\n    this._scrollIntoView({ pageDiv: pageView.div, });\n  }\n\n  /**\n   * @typedef ScrollPageIntoViewParameters\n   * @property {number} pageNumber - The page number.\n   * @property {Array} destArray - (optional) The original PDF destination\n   *   array, in the format: <page-ref> </XYZ|/FitXXX> <args..>\n   * @property {boolean} allowNegativeOffset - (optional) Allow negative page\n   *   offsets. The default value is `false`.\n   */\n\n  /**\n   * Scrolls page into view.\n   * @param {ScrollPageIntoViewParameters} params\n   */\n  scrollPageIntoView(params) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber = params.pageNumber || 0;\n    let dest = params.destArray || null;\n    let allowNegativeOffset = params.allowNegativeOffset || false;\n\n    if (this.isInPresentationMode || !dest) {\n      this._setCurrentPageNumber(pageNumber, /* resetCurrentPageView = */ true);\n      return;\n    }\n\n    let pageView = this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(\n        `${this._name}.scrollPageIntoView: Invalid \"pageNumber\" parameter.`);\n      return;\n    }\n    let x = 0, y = 0;\n    let width = 0, height = 0, widthScale, heightScale;\n    let changeOrientation = (pageView.rotation % 180 === 0 ? false : true);\n    let pageWidth = (changeOrientation ? pageView.height : pageView.width) /\n      pageView.scale / CSS_UNITS;\n    let pageHeight = (changeOrientation ? pageView.width : pageView.height) /\n      pageView.scale / CSS_UNITS;\n    let scale = 0;\n    switch (dest[1].name) {\n      case 'XYZ':\n        x = dest[2];\n        y = dest[3];\n        scale = dest[4];\n        // If x and/or y coordinates are not supplied, default to\n        // _top_ left of the page (not the obvious bottom left,\n        // since aligning the bottom of the intended page with the\n        // top of the window is rarely helpful).\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case 'Fit':\n      case 'FitB':\n        scale = 'page-fit';\n        break;\n      case 'FitH':\n      case 'FitBH':\n        y = dest[2];\n        scale = 'page-width';\n        // According to the PDF spec, section 12.3.2.2, a `null` value in the\n        // parameter should maintain the position relative to the new page.\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        }\n        break;\n      case 'FitV':\n      case 'FitBV':\n        x = dest[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = 'page-height';\n        break;\n      case 'FitR':\n        x = dest[2];\n        y = dest[3];\n        width = dest[4] - x;\n        height = dest[5] - y;\n        let hPadding = this.removePageBorders ? 0 : SCROLLBAR_PADDING;\n        let vPadding = this.removePageBorders ? 0 : VERTICAL_PADDING;\n\n        widthScale = (this.container.clientWidth - hPadding) /\n          width / CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) /\n          height / CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`${this._name}.scrollPageIntoView: \"${dest[1].name}\" ` +\n                      'is not a valid destination type.');\n        return;\n    }\n\n    if (scale && scale !== this._currentScale) {\n      this.currentScaleValue = scale;\n    } else if (this._currentScale === UNKNOWN_SCALE) {\n      this.currentScaleValue = DEFAULT_SCALE_VALUE;\n    }\n\n    if (scale === 'page-fit' && !dest[4]) {\n      this._scrollIntoView({\n        pageDiv: pageView.div,\n        pageNumber,\n      });\n      return;\n    }\n\n    let boundingRect = [\n      pageView.viewport.convertToViewportPoint(x, y),\n      pageView.viewport.convertToViewportPoint(x + width, y + height)\n    ];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n    if (!allowNegativeOffset) {\n      // Some bad PDF generators will create destinations with e.g. top values\n      // that exceeds the page height. Ensure that offsets are not negative,\n      // to prevent a previous page from becoming visible (fixes bug 874482).\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    this._scrollIntoView({\n      pageDiv: pageView.div,\n      pageSpot: { left, top, },\n      pageNumber,\n    });\n  }\n\n  _resizeBuffer(numVisiblePages) {\n    let suggestedCacheSize = Math.max(DEFAULT_CACHE_SIZE,\n                                      2 * numVisiblePages + 1);\n    this._buffer.resize(suggestedCacheSize);\n  }\n\n  _updateLocation(firstPage) {\n    let currentScale = this._currentScale;\n    let currentScaleValue = this._currentScaleValue;\n    let normalizedScaleValue =\n      parseFloat(currentScaleValue) === currentScale ?\n      Math.round(currentScale * 10000) / 100 : currentScaleValue;\n\n    let pageNumber = firstPage.id;\n    let pdfOpenParams = '#page=' + pageNumber;\n    pdfOpenParams += '&zoom=' + normalizedScaleValue;\n    let currentPageView = this._pages[pageNumber - 1];\n    let container = this.container;\n    let topLeft = currentPageView.getPagePoint(\n      (container.scrollLeft - firstPage.x),\n      (container.scrollTop - firstPage.y));\n    let intLeft = Math.round(topLeft[0]);\n    let intTop = Math.round(topLeft[1]);\n    pdfOpenParams += ',' + intLeft + ',' + intTop;\n\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams,\n    };\n  }\n\n  update() {\n    throw new Error('Not implemented: update');\n  }\n\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n\n  focus() {\n    this.container.focus();\n  }\n\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n\n  get isHorizontalScrollbarEnabled() {\n    return (this.isInPresentationMode ?\n      false : (this.container.scrollWidth > this.container.clientWidth));\n  }\n\n  _getVisiblePages() {\n    throw new Error('Not implemented: _getVisiblePages');\n  }\n\n  cleanup() {\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      if (this._pages[i] &&\n          this._pages[i].renderingState !== RenderingStates.FINISHED) {\n        this._pages[i].reset();\n      }\n    }\n  }\n\n  /**\n   * @private\n   */\n  _cancelRendering() {\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      if (this._pages[i]) {\n        this._pages[i].cancelRendering();\n      }\n    }\n  }\n\n  /**\n   * @param {PDFPageView} pageView\n   * @returns {Promise} Returns a promise containing a {PDFPageProxy} object.\n   * @private\n   */\n  _ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return Promise.resolve(pageView.pdfPage);\n    }\n    let pageNumber = pageView.id;\n    if (this._pagesRequests[pageNumber]) {\n      return this._pagesRequests[pageNumber];\n    }\n    let promise = this.pdfDocument.getPage(pageNumber).then((pdfPage) => {\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n      this._pagesRequests[pageNumber] = null;\n      return pdfPage;\n    }).catch((reason) => {\n      console.error('Unable to get page for page view', reason);\n      // Page error -- there is nothing can be done.\n      this._pagesRequests[pageNumber] = null;\n    });\n    this._pagesRequests[pageNumber] = promise;\n    return promise;\n  }\n\n  forceRendering(currentlyVisiblePages) {\n    let visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    let pageView = this.renderingQueue.getHighestPriority(visiblePages,\n                                                          this._pages,\n                                                          this.scroll.down);\n    if (pageView) {\n      this._ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n\n  getPageTextContent(pageIndex) {\n    return this.pdfDocument.getPage(pageIndex + 1).then(function(page) {\n      return page.getTextContent({\n        normalizeWhitespace: true,\n      });\n    });\n  }\n\n  /**\n   * @param {HTMLDivElement} textLayerDiv\n   * @param {number} pageIndex\n   * @param {PageViewport} viewport\n   * @returns {TextLayerBuilder}\n   */\n  createTextLayerBuilder(textLayerDiv, pageIndex, viewport,\n                         enhanceTextSelection = false) {\n    return new TextLayerBuilder({\n      textLayerDiv,\n      eventBus: this.eventBus,\n      pageIndex,\n      viewport,\n      findController: this.isInPresentationMode ? null : this.findController,\n      enhanceTextSelection: this.isInPresentationMode ? false :\n                                                        enhanceTextSelection,\n    });\n  }\n\n  /**\n   * @param {HTMLDivElement} pageDiv\n   * @param {PDFPage} pdfPage\n   * @param {boolean} renderInteractiveForms\n   * @param {IL10n} l10n\n   * @returns {AnnotationLayerBuilder}\n   */\n  createAnnotationLayerBuilder(pageDiv, pdfPage, renderInteractiveForms = false,\n                               l10n = NullL10n) {\n    return new AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      renderInteractiveForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      l10n,\n    });\n  }\n\n  setFindController(findController) {\n    this.findController = findController;\n  }\n\n  /**\n   * @returns {boolean} Whether all pages of the PDF document have identical\n   *                    widths and heights.\n   */\n  get hasEqualPageSizes() {\n    let firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      let pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width ||\n          pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Returns sizes of the pages.\n   * @returns {Array} Array of objects with width/height/rotation fields.\n   */\n  getPagesOverview() {\n    let pagesOverview = this._pages.map(function(pageView) {\n      let viewport = pageView.pdfPage.getViewport(1);\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation,\n      };\n    });\n    if (!this.enablePrintAutoRotate) {\n      return pagesOverview;\n    }\n    let isFirstPagePortrait = isPortraitOrientation(pagesOverview[0]);\n    return pagesOverview.map(function (size) {\n      if (isFirstPagePortrait === isPortraitOrientation(size)) {\n        return size;\n      }\n      return {\n        width: size.height,\n        height: size.width,\n        rotation: (size.rotation + 90) % 360,\n      };\n    });\n  }\n}\n\nexport {\n  BaseViewer,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/base_viewer.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationLayerBuilder, DefaultAnnotationLayerFactory\n} from './annotation_layer_builder.js';\nimport {\n  DefaultTextLayerFactory, TextLayerBuilder\n} from './text_layer_builder.js';\nimport { EventBus, NullL10n, ProgressBar } from './ui_utils.js';\nimport { PDFLinkService, SimpleLinkService } from './pdf_link_service.js';\nimport { DownloadManager } from './download_manager.js';\nimport { GenericL10n } from './genericl10n.js';\nimport { PDFFindController } from './pdf_find_controller.js';\nimport { PDFHistory } from './pdf_history.js';\nimport pdfjsLib from './pdfjs.js';\nimport { PDFPageView } from './pdf_page_view.js';\nimport { PDFSinglePageViewer } from './pdf_single_page_viewer';\nimport { PDFViewer } from './pdf_viewer.js';\n\nlet { PDFJS, } = pdfjsLib;\n\nPDFJS.PDFViewer = PDFViewer;\nPDFJS.PDFSinglePageViewer = PDFSinglePageViewer;\nPDFJS.PDFPageView = PDFPageView;\nPDFJS.PDFLinkService = PDFLinkService;\nPDFJS.SimpleLinkService = SimpleLinkService;\nPDFJS.TextLayerBuilder = TextLayerBuilder;\nPDFJS.DefaultTextLayerFactory = DefaultTextLayerFactory;\nPDFJS.AnnotationLayerBuilder = AnnotationLayerBuilder;\nPDFJS.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\nPDFJS.PDFHistory = PDFHistory;\nPDFJS.PDFFindController = PDFFindController;\nPDFJS.EventBus = EventBus;\n\nPDFJS.DownloadManager = DownloadManager;\nPDFJS.ProgressBar = ProgressBar;\nPDFJS.GenericL10n = GenericL10n;\nPDFJS.NullL10n = NullL10n;\n\nexport {\n  PDFJS,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_viewer.component.js","/* Copyright 2013 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createObjectURL, createValidAbsoluteUrl, PDFJS } from 'pdfjs-lib';\n\nif (typeof PDFJSDev !== 'undefined' && !PDFJSDev.test('CHROME || GENERIC')) {\n  throw new Error('Module \"pdfjs-web/download_manager\" shall not be used ' +\n                  'outside CHROME and GENERIC builds.');\n}\n\nfunction download(blobUrl, filename) {\n  let a = document.createElement('a');\n  if (a.click) {\n    // Use a.click() if available. Otherwise, Chrome might show\n    // \"Unsafe JavaScript attempt to initiate a navigation change\n    //  for frame with URL\" and not open the PDF at all.\n    // Supported by (not mentioned = untested):\n    // - Firefox 6 - 19 (4- does not support a.click, 5 ignores a.click)\n    // - Chrome 19 - 26 (18- does not support a.click)\n    // - Opera 9 - 12.15\n    // - Internet Explorer 6 - 10\n    // - Safari 6 (5.1- does not support a.click)\n    a.href = blobUrl;\n    a.target = '_parent';\n    // Use a.download if available. This increases the likelihood that\n    // the file is downloaded instead of opened by another PDF plugin.\n    if ('download' in a) {\n      a.download = filename;\n    }\n    // <a> must be in the document for IE and recent Firefox versions.\n    // (otherwise .click() is ignored)\n    (document.body || document.documentElement).appendChild(a);\n    a.click();\n    a.parentNode.removeChild(a);\n  } else {\n    if (window.top === window &&\n        blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n      // If _parent == self, then opening an identical URL with different\n      // location hash will only cause a navigation, not a download.\n      let padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n      blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n    }\n    window.open(blobUrl, '_parent');\n  }\n}\n\nclass DownloadManager {\n  downloadUrl(url, filename) {\n    if (!createValidAbsoluteUrl(url, 'http://example.com')) {\n      return; // restricted/invalid URL\n    }\n    download(url + '#pdfjs.action=download', filename);\n  }\n\n  downloadData(data, filename, contentType) {\n    if (navigator.msSaveBlob) { // IE10 and above\n      return navigator.msSaveBlob(new Blob([data], { type: contentType, }),\n                                  filename);\n    }\n    let blobUrl = createObjectURL(data, contentType,\n                                  PDFJS.disableCreateObjectURL);\n    download(blobUrl, filename);\n  }\n\n  download(blob, url, filename) {\n    if (navigator.msSaveBlob) {\n      // IE10 / IE11\n      if (!navigator.msSaveBlob(blob, filename)) {\n        this.downloadUrl(url, filename);\n      }\n      return;\n    }\n\n    if (PDFJS.disableCreateObjectURL) {\n      // URL.createObjectURL is not supported\n      this.downloadUrl(url, filename);\n      return;\n    }\n\n    let blobUrl = URL.createObjectURL(blob);\n    download(blobUrl, filename);\n  }\n}\n\nexport {\n  DownloadManager,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/download_manager.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport '../external/webL10n/l10n';\n\nlet webL10n = document.webL10n;\n\nclass GenericL10n {\n  constructor(lang) {\n    this._lang = lang;\n    this._ready = new Promise((resolve, reject) => {\n      webL10n.setLanguage(lang, () => {\n        resolve(webL10n);\n      });\n    });\n  }\n\n  getDirection() {\n    return this._ready.then((l10n) => {\n      return l10n.getDirection();\n    });\n  }\n\n  get(property, args, fallback) {\n    return this._ready.then((l10n) => {\n      return l10n.get(property, args, fallback);\n    });\n  }\n\n  translate(element) {\n    return this._ready.then((l10n) => {\n      return l10n.translate(element);\n    });\n  }\n}\n\nexport {\n  GenericL10n,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/genericl10n.js","/**\n * Copyright (c) 2011-2013 Fabien Cazenave, Mozilla.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n/*\n  Additional modifications for PDF.js project:\n    - Disables language initialization on page loading.\n    - Disables document translation on page loading.\n    - Removes consoleWarn and consoleLog and use console.log/warn directly.\n    - Removes window._ assignment.\n    - Remove compatibility code for OldIE.\n*/\n\n/*jshint browser: true, devel: true, es5: true, globalstrict: true */\n'use strict';\n\ndocument.webL10n = (function(window, document, undefined) {\n  var gL10nData = {};\n  var gTextData = '';\n  var gTextProp = 'textContent';\n  var gLanguage = '';\n  var gMacros = {};\n  var gReadyState = 'loading';\n\n\n  /**\n   * Synchronously loading l10n resources significantly minimizes flickering\n   * from displaying the app with non-localized strings and then updating the\n   * strings. Although this will block all script execution on this page, we\n   * expect that the l10n resources are available locally on flash-storage.\n   *\n   * As synchronous XHR is generally considered as a bad idea, we're still\n   * loading l10n resources asynchronously -- but we keep this in a setting,\n   * just in case... and applications using this library should hide their\n   * content until the `localized' event happens.\n   */\n\n  var gAsyncResourceLoading = true; // read-only\n\n\n  /**\n   * DOM helpers for the so-called \"HTML API\".\n   *\n   * These functions are written for modern browsers. For old versions of IE,\n   * they're overridden in the 'startup' section at the end of this file.\n   */\n\n  function getL10nResourceLinks() {\n    return document.querySelectorAll('link[type=\"application/l10n\"]');\n  }\n\n  function getL10nDictionary() {\n    var script = document.querySelector('script[type=\"application/l10n\"]');\n    // TODO: support multiple and external JSON dictionaries\n    return script ? JSON.parse(script.innerHTML) : null;\n  }\n\n  function getTranslatableChildren(element) {\n    return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n  }\n\n  function getL10nAttributes(element) {\n    if (!element)\n      return {};\n\n    var l10nId = element.getAttribute('data-l10n-id');\n    var l10nArgs = element.getAttribute('data-l10n-args');\n    var args = {};\n    if (l10nArgs) {\n      try {\n        args = JSON.parse(l10nArgs);\n      } catch (e) {\n        console.warn('could not parse arguments for #' + l10nId);\n      }\n    }\n    return { id: l10nId, args: args };\n  }\n\n  function fireL10nReadyEvent(lang) {\n    var evtObject = document.createEvent('Event');\n    evtObject.initEvent('localized', true, false);\n    evtObject.language = lang;\n    document.dispatchEvent(evtObject);\n  }\n\n  function xhrLoadText(url, onSuccess, onFailure) {\n    onSuccess = onSuccess || function _onSuccess(data) {};\n    onFailure = onFailure || function _onFailure() {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, gAsyncResourceLoading);\n    if (xhr.overrideMimeType) {\n      xhr.overrideMimeType('text/plain; charset=utf-8');\n    }\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200 || xhr.status === 0) {\n          onSuccess(xhr.responseText);\n        } else {\n          onFailure();\n        }\n      }\n    };\n    xhr.onerror = onFailure;\n    xhr.ontimeout = onFailure;\n\n    // in Firefox OS with the app:// protocol, trying to XHR a non-existing\n    // URL will raise an exception here -- hence this ugly try...catch.\n    try {\n      xhr.send(null);\n    } catch (e) {\n      onFailure();\n    }\n  }\n\n\n  /**\n   * l10n resource parser:\n   *  - reads (async XHR) the l10n resource matching `lang';\n   *  - imports linked resources (synchronously) when specified;\n   *  - parses the text data (fills `gL10nData' and `gTextData');\n   *  - triggers success/failure callbacks when done.\n   *\n   * @param {string} href\n   *    URL of the l10n resource to parse.\n   *\n   * @param {string} lang\n   *    locale (language) to parse. Must be a lowercase string.\n   *\n   * @param {Function} successCallback\n   *    triggered when the l10n resource has been successully parsed.\n   *\n   * @param {Function} failureCallback\n   *    triggered when the an error has occured.\n   *\n   * @return {void}\n   *    uses the following global variables: gL10nData, gTextData, gTextProp.\n   */\n\n  function parseResource(href, lang, successCallback, failureCallback) {\n    var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n    // handle escaped characters (backslashes) in a string\n    function evalString(text) {\n      if (text.lastIndexOf('\\\\') < 0)\n        return text;\n      return text.replace(/\\\\\\\\/g, '\\\\')\n                 .replace(/\\\\n/g, '\\n')\n                 .replace(/\\\\r/g, '\\r')\n                 .replace(/\\\\t/g, '\\t')\n                 .replace(/\\\\b/g, '\\b')\n                 .replace(/\\\\f/g, '\\f')\n                 .replace(/\\\\{/g, '{')\n                 .replace(/\\\\}/g, '}')\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/\\\\'/g, \"'\");\n    }\n\n    // parse *.properties text data into an l10n dictionary\n    // If gAsyncResourceLoading is false, then the callback will be called\n    // synchronously. Otherwise it is called asynchronously.\n    function parseProperties(text, parsedPropertiesCallback) {\n      var dictionary = {};\n\n      // token expressions\n      var reBlank = /^\\s*|\\s*$/;\n      var reComment = /^\\s*#|^\\s*$/;\n      var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n      var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n      var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/; // TODO: escape EOLs with '\\'\n\n      // parse the *.properties file into an associative array\n      function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n        var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n        var currentLang = '*';\n        var genericLang = lang.split('-', 1)[0];\n        var skipLang = false;\n        var match = '';\n\n        function nextEntry() {\n          // Use infinite loop instead of recursion to avoid reaching the\n          // maximum recursion limit for content with many lines.\n          while (true) {\n            if (!entries.length) {\n              parsedRawLinesCallback();\n              return;\n            }\n            var line = entries.shift();\n\n            // comment or blank line?\n            if (reComment.test(line))\n              continue;\n\n            // the extended syntax supports [lang] sections and @import rules\n            if (extendedSyntax) {\n              match = reSection.exec(line);\n              if (match) { // section start?\n                // RFC 4646, section 4.4, \"All comparisons MUST be performed\n                // in a case-insensitive manner.\"\n\n                currentLang = match[1].toLowerCase();\n                skipLang = (currentLang !== '*') &&\n                    (currentLang !== lang) && (currentLang !== genericLang);\n                continue;\n              } else if (skipLang) {\n                continue;\n              }\n              match = reImport.exec(line);\n              if (match) { // @import rule?\n                loadImport(baseURL + match[1], nextEntry);\n                return;\n              }\n            }\n\n            // key-value pair\n            var tmp = line.match(reSplit);\n            if (tmp && tmp.length == 3) {\n              dictionary[tmp[1]] = evalString(tmp[2]);\n            }\n          }\n        }\n        nextEntry();\n      }\n\n      // import another *.properties file\n      function loadImport(url, callback) {\n        xhrLoadText(url, function(content) {\n          parseRawLines(content, false, callback); // don't allow recursive imports\n        }, function () {\n          console.warn(url + ' not found.');\n          callback();\n        });\n      }\n\n      // fill the dictionary\n      parseRawLines(text, true, function() {\n        parsedPropertiesCallback(dictionary);\n      });\n    }\n\n    // load and parse l10n data (warning: global variables are used here)\n    xhrLoadText(href, function(response) {\n      gTextData += response; // mostly for debug\n\n      // parse *.properties text data into an l10n dictionary\n      parseProperties(response, function(data) {\n\n        // find attribute descriptions, if any\n        for (var key in data) {\n          var id, prop, index = key.lastIndexOf('.');\n          if (index > 0) { // an attribute has been specified\n            id = key.substring(0, index);\n            prop = key.substr(index + 1);\n          } else { // no attribute: assuming text content by default\n            id = key;\n            prop = gTextProp;\n          }\n          if (!gL10nData[id]) {\n            gL10nData[id] = {};\n          }\n          gL10nData[id][prop] = data[key];\n        }\n\n        // trigger callback\n        if (successCallback) {\n          successCallback();\n        }\n      });\n    }, failureCallback);\n  }\n\n  // load and parse all resources for the specified locale\n  function loadLocale(lang, callback) {\n    // RFC 4646, section 2.1 states that language tags have to be treated as\n    // case-insensitive. Convert to lowercase for case-insensitive comparisons.\n    if (lang) {\n      lang = lang.toLowerCase();\n    }\n\n    callback = callback || function _callback() {};\n\n    clear();\n    gLanguage = lang;\n\n    // check all <link type=\"application/l10n\" href=\"...\" /> nodes\n    // and load the resource files\n    var langLinks = getL10nResourceLinks();\n    var langCount = langLinks.length;\n    if (langCount === 0) {\n      // we might have a pre-compiled dictionary instead\n      var dict = getL10nDictionary();\n      if (dict && dict.locales && dict.default_locale) {\n        console.log('using the embedded JSON directory, early way out');\n        gL10nData = dict.locales[lang];\n        if (!gL10nData) {\n          var defaultLocale = dict.default_locale.toLowerCase();\n          for (var anyCaseLang in dict.locales) {\n            anyCaseLang = anyCaseLang.toLowerCase();\n            if (anyCaseLang === lang) {\n              gL10nData = dict.locales[lang];\n              break;\n            } else if (anyCaseLang === defaultLocale) {\n              gL10nData = dict.locales[defaultLocale];\n            }\n          }\n        }\n        callback();\n      } else {\n        console.log('no resource to load, early way out');\n      }\n      // early way out\n      fireL10nReadyEvent(lang);\n      gReadyState = 'complete';\n      return;\n    }\n\n    // start the callback when all resources are loaded\n    var onResourceLoaded = null;\n    var gResourceCount = 0;\n    onResourceLoaded = function() {\n      gResourceCount++;\n      if (gResourceCount >= langCount) {\n        callback();\n        fireL10nReadyEvent(lang);\n        gReadyState = 'complete';\n      }\n    };\n\n    // load all resource files\n    function L10nResourceLink(link) {\n      var href = link.href;\n      // Note: If |gAsyncResourceLoading| is false, then the following callbacks\n      // are synchronously called.\n      this.load = function(lang, callback) {\n        parseResource(href, lang, callback, function() {\n          console.warn(href + ' not found.');\n          // lang not found, used default resource instead\n          console.warn('\"' + lang + '\" resource not found');\n          gLanguage = '';\n          // Resource not loaded, but we still need to call the callback.\n          callback();\n        });\n      };\n    }\n\n    for (var i = 0; i < langCount; i++) {\n      var resource = new L10nResourceLink(langLinks[i]);\n      resource.load(lang, onResourceLoaded);\n    }\n  }\n\n  // clear all l10n data\n  function clear() {\n    gL10nData = {};\n    gTextData = '';\n    gLanguage = '';\n    // TODO: clear all non predefined macros.\n    // There's no such macro /yet/ but we're planning to have some...\n  }\n\n\n  /**\n   * Get rules for plural forms (shared with JetPack), see:\n   * http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html\n   * https://github.com/mozilla/addon-sdk/blob/master/python-lib/plural-rules-generator.p\n   *\n   * @param {string} lang\n   *    locale (language) used.\n   *\n   * @return {Function}\n   *    returns a function that gives the plural form name for a given integer:\n   *       var fun = getPluralRules('en');\n   *       fun(1)    -> 'one'\n   *       fun(0)    -> 'other'\n   *       fun(1000) -> 'other'.\n   */\n\n  function getPluralRules(lang) {\n    var locales2rules = {\n      'af': 3,\n      'ak': 4,\n      'am': 4,\n      'ar': 1,\n      'asa': 3,\n      'az': 0,\n      'be': 11,\n      'bem': 3,\n      'bez': 3,\n      'bg': 3,\n      'bh': 4,\n      'bm': 0,\n      'bn': 3,\n      'bo': 0,\n      'br': 20,\n      'brx': 3,\n      'bs': 11,\n      'ca': 3,\n      'cgg': 3,\n      'chr': 3,\n      'cs': 12,\n      'cy': 17,\n      'da': 3,\n      'de': 3,\n      'dv': 3,\n      'dz': 0,\n      'ee': 3,\n      'el': 3,\n      'en': 3,\n      'eo': 3,\n      'es': 3,\n      'et': 3,\n      'eu': 3,\n      'fa': 0,\n      'ff': 5,\n      'fi': 3,\n      'fil': 4,\n      'fo': 3,\n      'fr': 5,\n      'fur': 3,\n      'fy': 3,\n      'ga': 8,\n      'gd': 24,\n      'gl': 3,\n      'gsw': 3,\n      'gu': 3,\n      'guw': 4,\n      'gv': 23,\n      'ha': 3,\n      'haw': 3,\n      'he': 2,\n      'hi': 4,\n      'hr': 11,\n      'hu': 0,\n      'id': 0,\n      'ig': 0,\n      'ii': 0,\n      'is': 3,\n      'it': 3,\n      'iu': 7,\n      'ja': 0,\n      'jmc': 3,\n      'jv': 0,\n      'ka': 0,\n      'kab': 5,\n      'kaj': 3,\n      'kcg': 3,\n      'kde': 0,\n      'kea': 0,\n      'kk': 3,\n      'kl': 3,\n      'km': 0,\n      'kn': 0,\n      'ko': 0,\n      'ksb': 3,\n      'ksh': 21,\n      'ku': 3,\n      'kw': 7,\n      'lag': 18,\n      'lb': 3,\n      'lg': 3,\n      'ln': 4,\n      'lo': 0,\n      'lt': 10,\n      'lv': 6,\n      'mas': 3,\n      'mg': 4,\n      'mk': 16,\n      'ml': 3,\n      'mn': 3,\n      'mo': 9,\n      'mr': 3,\n      'ms': 0,\n      'mt': 15,\n      'my': 0,\n      'nah': 3,\n      'naq': 7,\n      'nb': 3,\n      'nd': 3,\n      'ne': 3,\n      'nl': 3,\n      'nn': 3,\n      'no': 3,\n      'nr': 3,\n      'nso': 4,\n      'ny': 3,\n      'nyn': 3,\n      'om': 3,\n      'or': 3,\n      'pa': 3,\n      'pap': 3,\n      'pl': 13,\n      'ps': 3,\n      'pt': 3,\n      'rm': 3,\n      'ro': 9,\n      'rof': 3,\n      'ru': 11,\n      'rwk': 3,\n      'sah': 0,\n      'saq': 3,\n      'se': 7,\n      'seh': 3,\n      'ses': 0,\n      'sg': 0,\n      'sh': 11,\n      'shi': 19,\n      'sk': 12,\n      'sl': 14,\n      'sma': 7,\n      'smi': 7,\n      'smj': 7,\n      'smn': 7,\n      'sms': 7,\n      'sn': 3,\n      'so': 3,\n      'sq': 3,\n      'sr': 11,\n      'ss': 3,\n      'ssy': 3,\n      'st': 3,\n      'sv': 3,\n      'sw': 3,\n      'syr': 3,\n      'ta': 3,\n      'te': 3,\n      'teo': 3,\n      'th': 0,\n      'ti': 4,\n      'tig': 3,\n      'tk': 3,\n      'tl': 4,\n      'tn': 3,\n      'to': 0,\n      'tr': 0,\n      'ts': 3,\n      'tzm': 22,\n      'uk': 11,\n      'ur': 3,\n      've': 3,\n      'vi': 0,\n      'vun': 3,\n      'wa': 4,\n      'wae': 3,\n      'wo': 0,\n      'xh': 3,\n      'xog': 3,\n      'yo': 0,\n      'zh': 0,\n      'zu': 3\n    };\n\n    // utility functions for plural rules methods\n    function isIn(n, list) {\n      return list.indexOf(n) !== -1;\n    }\n    function isBetween(n, start, end) {\n      return start <= n && n <= end;\n    }\n\n    // list of all plural rules methods:\n    // map an integer to the plural form name to use\n    var pluralRules = {\n      '0': function(n) {\n        return 'other';\n      },\n      '1': function(n) {\n        if ((isBetween((n % 100), 3, 10)))\n          return 'few';\n        if (n === 0)\n          return 'zero';\n        if ((isBetween((n % 100), 11, 99)))\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '2': function(n) {\n        if (n !== 0 && (n % 10) === 0)\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '3': function(n) {\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '4': function(n) {\n        if ((isBetween(n, 0, 1)))\n          return 'one';\n        return 'other';\n      },\n      '5': function(n) {\n        if ((isBetween(n, 0, 2)) && n != 2)\n          return 'one';\n        return 'other';\n      },\n      '6': function(n) {\n        if (n === 0)\n          return 'zero';\n        if ((n % 10) == 1 && (n % 100) != 11)\n          return 'one';\n        return 'other';\n      },\n      '7': function(n) {\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '8': function(n) {\n        if ((isBetween(n, 3, 6)))\n          return 'few';\n        if ((isBetween(n, 7, 10)))\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '9': function(n) {\n        if (n === 0 || n != 1 && (isBetween((n % 100), 1, 19)))\n          return 'few';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '10': function(n) {\n        if ((isBetween((n % 10), 2, 9)) && !(isBetween((n % 100), 11, 19)))\n          return 'few';\n        if ((n % 10) == 1 && !(isBetween((n % 100), 11, 19)))\n          return 'one';\n        return 'other';\n      },\n      '11': function(n) {\n        if ((isBetween((n % 10), 2, 4)) && !(isBetween((n % 100), 12, 14)))\n          return 'few';\n        if ((n % 10) === 0 ||\n            (isBetween((n % 10), 5, 9)) ||\n            (isBetween((n % 100), 11, 14)))\n          return 'many';\n        if ((n % 10) == 1 && (n % 100) != 11)\n          return 'one';\n        return 'other';\n      },\n      '12': function(n) {\n        if ((isBetween(n, 2, 4)))\n          return 'few';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '13': function(n) {\n        if ((isBetween((n % 10), 2, 4)) && !(isBetween((n % 100), 12, 14)))\n          return 'few';\n        if (n != 1 && (isBetween((n % 10), 0, 1)) ||\n            (isBetween((n % 10), 5, 9)) ||\n            (isBetween((n % 100), 12, 14)))\n          return 'many';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '14': function(n) {\n        if ((isBetween((n % 100), 3, 4)))\n          return 'few';\n        if ((n % 100) == 2)\n          return 'two';\n        if ((n % 100) == 1)\n          return 'one';\n        return 'other';\n      },\n      '15': function(n) {\n        if (n === 0 || (isBetween((n % 100), 2, 10)))\n          return 'few';\n        if ((isBetween((n % 100), 11, 19)))\n          return 'many';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '16': function(n) {\n        if ((n % 10) == 1 && n != 11)\n          return 'one';\n        return 'other';\n      },\n      '17': function(n) {\n        if (n == 3)\n          return 'few';\n        if (n === 0)\n          return 'zero';\n        if (n == 6)\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '18': function(n) {\n        if (n === 0)\n          return 'zero';\n        if ((isBetween(n, 0, 2)) && n !== 0 && n != 2)\n          return 'one';\n        return 'other';\n      },\n      '19': function(n) {\n        if ((isBetween(n, 2, 10)))\n          return 'few';\n        if ((isBetween(n, 0, 1)))\n          return 'one';\n        return 'other';\n      },\n      '20': function(n) {\n        if ((isBetween((n % 10), 3, 4) || ((n % 10) == 9)) && !(\n            isBetween((n % 100), 10, 19) ||\n            isBetween((n % 100), 70, 79) ||\n            isBetween((n % 100), 90, 99)\n            ))\n          return 'few';\n        if ((n % 1000000) === 0 && n !== 0)\n          return 'many';\n        if ((n % 10) == 2 && !isIn((n % 100), [12, 72, 92]))\n          return 'two';\n        if ((n % 10) == 1 && !isIn((n % 100), [11, 71, 91]))\n          return 'one';\n        return 'other';\n      },\n      '21': function(n) {\n        if (n === 0)\n          return 'zero';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '22': function(n) {\n        if ((isBetween(n, 0, 1)) || (isBetween(n, 11, 99)))\n          return 'one';\n        return 'other';\n      },\n      '23': function(n) {\n        if ((isBetween((n % 10), 1, 2)) || (n % 20) === 0)\n          return 'one';\n        return 'other';\n      },\n      '24': function(n) {\n        if ((isBetween(n, 3, 10) || isBetween(n, 13, 19)))\n          return 'few';\n        if (isIn(n, [2, 12]))\n          return 'two';\n        if (isIn(n, [1, 11]))\n          return 'one';\n        return 'other';\n      }\n    };\n\n    // return a function that gives the plural form name for a given integer\n    var index = locales2rules[lang.replace(/-.*$/, '')];\n    if (!(index in pluralRules)) {\n      console.warn('plural form unknown for [' + lang + ']');\n      return function() { return 'other'; };\n    }\n    return pluralRules[index];\n  }\n\n  // pre-defined 'plural' macro\n  gMacros.plural = function(str, param, key, prop) {\n    var n = parseFloat(param);\n    if (isNaN(n))\n      return str;\n\n    // TODO: support other properties (l20n still doesn't...)\n    if (prop != gTextProp)\n      return str;\n\n    // initialize _pluralRules\n    if (!gMacros._pluralRules) {\n      gMacros._pluralRules = getPluralRules(gLanguage);\n    }\n    var index = '[' + gMacros._pluralRules(n) + ']';\n\n    // try to find a [zero|one|two] key if it's defined\n    if (n === 0 && (key + '[zero]') in gL10nData) {\n      str = gL10nData[key + '[zero]'][prop];\n    } else if (n == 1 && (key + '[one]') in gL10nData) {\n      str = gL10nData[key + '[one]'][prop];\n    } else if (n == 2 && (key + '[two]') in gL10nData) {\n      str = gL10nData[key + '[two]'][prop];\n    } else if ((key + index) in gL10nData) {\n      str = gL10nData[key + index][prop];\n    } else if ((key + '[other]') in gL10nData) {\n      str = gL10nData[key + '[other]'][prop];\n    }\n\n    return str;\n  };\n\n\n  /**\n   * l10n dictionary functions\n   */\n\n  // fetch an l10n object, warn if not found, apply `args' if possible\n  function getL10nData(key, args, fallback) {\n    var data = gL10nData[key];\n    if (!data) {\n      console.warn('#' + key + ' is undefined.');\n      if (!fallback) {\n        return null;\n      }\n      data = fallback;\n    }\n\n    /** This is where l10n expressions should be processed.\n      * The plan is to support C-style expressions from the l20n project;\n      * until then, only two kinds of simple expressions are supported:\n      *   {[ index ]} and {{ arguments }}.\n      */\n    var rv = {};\n    for (var prop in data) {\n      var str = data[prop];\n      str = substIndexes(str, args, key, prop);\n      str = substArguments(str, args, key);\n      rv[prop] = str;\n    }\n    return rv;\n  }\n\n  // replace {[macros]} with their values\n  function substIndexes(str, args, key, prop) {\n    var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n    var reMatch = reIndex.exec(str);\n    if (!reMatch || !reMatch.length)\n      return str;\n\n    // an index/macro has been found\n    // Note: at the moment, only one parameter is supported\n    var macroName = reMatch[1];\n    var paramName = reMatch[2];\n    var param;\n    if (args && paramName in args) {\n      param = args[paramName];\n    } else if (paramName in gL10nData) {\n      param = gL10nData[paramName];\n    }\n\n    // there's no macro parser yet: it has to be defined in gMacros\n    if (macroName in gMacros) {\n      var macro = gMacros[macroName];\n      str = macro(str, param, key, prop);\n    }\n    return str;\n  }\n\n  // replace {{arguments}} with their values\n  function substArguments(str, args, key) {\n    var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return str.replace(reArgs, function(matched_text, arg) {\n      if (args && arg in args) {\n        return args[arg];\n      }\n      if (arg in gL10nData) {\n        return gL10nData[arg];\n      }\n      console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n      return matched_text;\n    });\n  }\n\n  // translate an HTML element\n  function translateElement(element) {\n    var l10n = getL10nAttributes(element);\n    if (!l10n.id)\n      return;\n\n    // get the related l10n object\n    var data = getL10nData(l10n.id, l10n.args);\n    if (!data) {\n      console.warn('#' + l10n.id + ' is undefined.');\n      return;\n    }\n\n    // translate element (TODO: security checks?)\n    if (data[gTextProp]) { // XXX\n      if (getChildElementCount(element) === 0) {\n        element[gTextProp] = data[gTextProp];\n      } else {\n        // this element has element children: replace the content of the first\n        // (non-empty) child textNode and clear other child textNodes\n        var children = element.childNodes;\n        var found = false;\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n            if (found) {\n              children[i].nodeValue = '';\n            } else {\n              children[i].nodeValue = data[gTextProp];\n              found = true;\n            }\n          }\n        }\n        // if no (non-empty) textNode is found, insert a textNode before the\n        // first element child.\n        if (!found) {\n          var textNode = document.createTextNode(data[gTextProp]);\n          element.insertBefore(textNode, element.firstChild);\n        }\n      }\n      delete data[gTextProp];\n    }\n\n    for (var k in data) {\n      element[k] = data[k];\n    }\n  }\n\n  // webkit browsers don't currently support 'children' on SVG elements...\n  function getChildElementCount(element) {\n    if (element.children) {\n      return element.children.length;\n    }\n    if (typeof element.childElementCount !== 'undefined') {\n      return element.childElementCount;\n    }\n    var count = 0;\n    for (var i = 0; i < element.childNodes.length; i++) {\n      count += element.nodeType === 1 ? 1 : 0;\n    }\n    return count;\n  }\n\n  // translate an HTML subtree\n  function translateFragment(element) {\n    element = element || document.documentElement;\n\n    // check all translatable children (= w/ a `data-l10n-id' attribute)\n    var children = getTranslatableChildren(element);\n    var elementCount = children.length;\n    for (var i = 0; i < elementCount; i++) {\n      translateElement(children[i]);\n    }\n\n    // translate element itself if necessary\n    translateElement(element);\n  }\n\n  return {\n    // get a localized string\n    get: function(key, args, fallbackString) {\n      var index = key.lastIndexOf('.');\n      var prop = gTextProp;\n      if (index > 0) { // An attribute has been specified\n        prop = key.substr(index + 1);\n        key = key.substring(0, index);\n      }\n      var fallback;\n      if (fallbackString) {\n        fallback = {};\n        fallback[prop] = fallbackString;\n      }\n      var data = getL10nData(key, args, fallback);\n      if (data && prop in data) {\n        return data[prop];\n      }\n      return '{{' + key + '}}';\n    },\n\n    // debug\n    getData: function() { return gL10nData; },\n    getText: function() { return gTextData; },\n\n    // get|set the document language\n    getLanguage: function() { return gLanguage; },\n    setLanguage: function(lang, callback) {\n      loadLocale(lang, function() {\n        if (callback)\n          callback();\n      });\n    },\n\n    // get the direction (ltr|rtl) of the current language\n    getDirection: function() {\n      // http://www.w3.org/International/questions/qa-scripts\n      // Arabic, Hebrew, Farsi, Pashto, Urdu\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      var shortCode = gLanguage.split('-', 1)[0];\n      return (rtlList.indexOf(shortCode) >= 0) ? 'rtl' : 'ltr';\n    },\n\n    // translate an element or document fragment\n    translate: translateFragment,\n\n    // this can be used to prevent race conditions\n    getReadyState: function() { return gReadyState; },\n    ready: function(callback) {\n      if (!callback) {\n        return;\n      } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n        window.setTimeout(function() {\n          callback();\n        });\n      } else if (document.addEventListener) {\n        document.addEventListener('localized', function once() {\n          document.removeEventListener('localized', once);\n          callback();\n        });\n      }\n    }\n  };\n}) (window, document);\n\n\n\n// WEBPACK FOOTER //\n// external/webL10n/l10n.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createPromiseCapability } from 'pdfjs-lib';\nimport { scrollIntoView } from './ui_utils';\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3,\n};\n\nconst FIND_SCROLL_OFFSET_TOP = -50;\nconst FIND_SCROLL_OFFSET_LEFT = -400;\nconst FIND_TIMEOUT = 250; // ms\n\nconst CHARACTERS_TO_NORMALIZE = {\n  '\\u2018': '\\'', // Left single quotation mark\n  '\\u2019': '\\'', // Right single quotation mark\n  '\\u201A': '\\'', // Single low-9 quotation mark\n  '\\u201B': '\\'', // Single high-reversed-9 quotation mark\n  '\\u201C': '\"', // Left double quotation mark\n  '\\u201D': '\"', // Right double quotation mark\n  '\\u201E': '\"', // Double low-9 quotation mark\n  '\\u201F': '\"', // Double high-reversed-9 quotation mark\n  '\\u00BC': '1/4', // Vulgar fraction one quarter\n  '\\u00BD': '1/2', // Vulgar fraction one half\n  '\\u00BE': '3/4', // Vulgar fraction three quarters\n};\n\n/**\n * Provides search functionality to find a given string in a PDF document.\n */\nclass PDFFindController {\n  constructor({ pdfViewer, }) {\n    this.pdfViewer = pdfViewer;\n\n    this.onUpdateResultsCount = null;\n    this.onUpdateState = null;\n\n    this.reset();\n\n    // Compile the regular expression for text normalization once.\n    let replace = Object.keys(CHARACTERS_TO_NORMALIZE).join('');\n    this.normalizationRegex = new RegExp('[' + replace + ']', 'g');\n  }\n\n  reset() {\n    this.startedTextExtraction = false;\n    this.extractTextPromises = [];\n    this.pendingFindMatches = Object.create(null);\n    this.active = false; // If active, find results will be highlighted.\n    this.pageContents = []; // Stores the text for each page.\n    this.pageMatches = [];\n    this.pageMatchesLength = null;\n    this.matchCount = 0;\n    this.selected = { // Currently selected match.\n      pageIdx: -1,\n      matchIdx: -1,\n    };\n    this.offset = { // Where the find algorithm currently is in the document.\n      pageIdx: null,\n      matchIdx: null,\n    };\n    this.pagesToSearch = null;\n    this.resumePageIdx = null;\n    this.state = null;\n    this.dirtyMatch = false;\n    this.findTimeout = null;\n\n    this._firstPagePromise = new Promise((resolve) => {\n      this.resolveFirstPage = resolve;\n    });\n  }\n\n  normalize(text) {\n    return text.replace(this.normalizationRegex, function (ch) {\n      return CHARACTERS_TO_NORMALIZE[ch];\n    });\n  }\n\n  /**\n   * Helper for multi-term search that fills the `matchesWithLength` array\n   * and handles cases where one search term includes another search term (for\n   * example, \"tamed tame\" or \"this is\"). It looks for intersecting terms in\n   * the `matches` and keeps elements with a longer match length.\n   */\n  _prepareMatches(matchesWithLength, matches, matchesLength) {\n    function isSubTerm(matchesWithLength, currentIndex) {\n      let currentElem = matchesWithLength[currentIndex];\n      let nextElem = matchesWithLength[currentIndex + 1];\n\n      // Check for cases like \"TAMEd TAME\".\n      if (currentIndex < matchesWithLength.length - 1 &&\n          currentElem.match === nextElem.match) {\n        currentElem.skipped = true;\n        return true;\n      }\n\n      // Check for cases like \"thIS IS\".\n      for (let i = currentIndex - 1; i >= 0; i--) {\n        let prevElem = matchesWithLength[i];\n        if (prevElem.skipped) {\n          continue;\n        }\n        if (prevElem.match + prevElem.matchLength < currentElem.match) {\n          break;\n        }\n        if (prevElem.match + prevElem.matchLength >=\n            currentElem.match + currentElem.matchLength) {\n          currentElem.skipped = true;\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Sort the array of `{ match: <match>, matchLength: <matchLength> }`\n    // objects on increasing index first and on the length otherwise.\n    matchesWithLength.sort(function(a, b) {\n      return a.match === b.match ? a.matchLength - b.matchLength :\n                                   a.match - b.match;\n    });\n    for (let i = 0, len = matchesWithLength.length; i < len; i++) {\n      if (isSubTerm(matchesWithLength, i)) {\n        continue;\n      }\n      matches.push(matchesWithLength[i].match);\n      matchesLength.push(matchesWithLength[i].matchLength);\n    }\n  }\n\n  calcFindPhraseMatch(query, pageIndex, pageContent) {\n    let matches = [];\n    let queryLen = query.length;\n    let matchIdx = -queryLen;\n    while (true) {\n      matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n      if (matchIdx === -1) {\n        break;\n      }\n      matches.push(matchIdx);\n    }\n    this.pageMatches[pageIndex] = matches;\n  }\n\n  calcFindWordMatch(query, pageIndex, pageContent) {\n    let matchesWithLength = [];\n    // Divide the query into pieces and search for text in each piece.\n    let queryArray = query.match(/\\S+/g);\n    for (let i = 0, len = queryArray.length; i < len; i++) {\n      let subquery = queryArray[i];\n      let subqueryLen = subquery.length;\n      let matchIdx = -subqueryLen;\n      while (true) {\n        matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n        if (matchIdx === -1) {\n          break;\n        }\n        // Other searches do not, so we store the length.\n        matchesWithLength.push({\n          match: matchIdx,\n          matchLength: subqueryLen,\n          skipped: false,\n        });\n      }\n    }\n\n    // Prepare arrays for storing the matches.\n    if (!this.pageMatchesLength) {\n      this.pageMatchesLength = [];\n    }\n    this.pageMatchesLength[pageIndex] = [];\n    this.pageMatches[pageIndex] = [];\n\n    // Sort `matchesWithLength`, remove intersecting terms and put the result\n    // into the two arrays.\n    this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex],\n      this.pageMatchesLength[pageIndex]);\n  }\n\n  calcFindMatch(pageIndex) {\n    let pageContent = this.normalize(this.pageContents[pageIndex]);\n    let query = this.normalize(this.state.query);\n    let caseSensitive = this.state.caseSensitive;\n    let phraseSearch = this.state.phraseSearch;\n    let queryLen = query.length;\n\n    if (queryLen === 0) {\n      // Do nothing: the matches should be wiped out already.\n      return;\n    }\n\n    if (!caseSensitive) {\n      pageContent = pageContent.toLowerCase();\n      query = query.toLowerCase();\n    }\n\n    if (phraseSearch) {\n      this.calcFindPhraseMatch(query, pageIndex, pageContent);\n    } else {\n      this.calcFindWordMatch(query, pageIndex, pageContent);\n    }\n\n    this.updatePage(pageIndex);\n    if (this.resumePageIdx === pageIndex) {\n      this.resumePageIdx = null;\n      this.nextPageMatch();\n    }\n\n    // Update the match count.\n    if (this.pageMatches[pageIndex].length > 0) {\n      this.matchCount += this.pageMatches[pageIndex].length;\n      this.updateUIResultsCount();\n    }\n  }\n\n  extractText() {\n    if (this.startedTextExtraction) {\n      return;\n    }\n    this.startedTextExtraction = true;\n    this.pageContents.length = 0;\n\n    let promise = Promise.resolve();\n    for (let i = 0, ii = this.pdfViewer.pagesCount; i < ii; i++) {\n      let extractTextCapability = createPromiseCapability();\n      this.extractTextPromises[i] = extractTextCapability.promise;\n\n      promise = promise.then(() => {\n        return this.pdfViewer.getPageTextContent(i).then((textContent) => {\n          let textItems = textContent.items;\n          let strBuf = [];\n\n          for (let j = 0, jj = textItems.length; j < jj; j++) {\n            strBuf.push(textItems[j].str);\n          }\n          // Store the pageContent as a string.\n          this.pageContents[i] = strBuf.join('');\n          extractTextCapability.resolve(i);\n        }, (reason) => {\n          console.error(`Unable to get page ${i + 1} text content`, reason);\n          // Page error -- assuming no text content.\n          this.pageContents[i] = '';\n          extractTextCapability.resolve(i);\n        });\n      });\n    }\n  }\n\n  executeCommand(cmd, state) {\n    if (this.state === null || cmd !== 'findagain') {\n      this.dirtyMatch = true;\n    }\n    this.state = state;\n    this.updateUIState(FindState.PENDING);\n\n    this._firstPagePromise.then(() => {\n      this.extractText();\n\n      clearTimeout(this.findTimeout);\n      if (cmd === 'find') {\n        // Trigger the find action with a small delay to avoid starting the\n        // search when the user is still typing (saving resources).\n        this.findTimeout = setTimeout(this.nextMatch.bind(this), FIND_TIMEOUT);\n      } else {\n        this.nextMatch();\n      }\n    });\n  }\n\n  updatePage(index) {\n    if (this.selected.pageIdx === index) {\n      // If the page is selected, scroll the page into view, which triggers\n      // rendering the page, which adds the textLayer. Once the textLayer is\n      // build, it will scroll onto the selected match.\n      this.pdfViewer.currentPageNumber = index + 1;\n    }\n\n    let page = this.pdfViewer.getPageView(index);\n    if (page.textLayer) {\n      page.textLayer.updateMatches();\n    }\n  }\n\n  nextMatch() {\n    let previous = this.state.findPrevious;\n    let currentPageIndex = this.pdfViewer.currentPageNumber - 1;\n    let numPages = this.pdfViewer.pagesCount;\n\n    this.active = true;\n\n    if (this.dirtyMatch) {\n      // Need to recalculate the matches, reset everything.\n      this.dirtyMatch = false;\n      this.selected.pageIdx = this.selected.matchIdx = -1;\n      this.offset.pageIdx = currentPageIndex;\n      this.offset.matchIdx = null;\n      this.hadMatch = false;\n      this.resumePageIdx = null;\n      this.pageMatches = [];\n      this.matchCount = 0;\n      this.pageMatchesLength = null;\n\n      for (let i = 0; i < numPages; i++) {\n        // Wipe out any previously highlighted matches.\n        this.updatePage(i);\n\n        // Start finding the matches as soon as the text is extracted.\n        if (!(i in this.pendingFindMatches)) {\n          this.pendingFindMatches[i] = true;\n          this.extractTextPromises[i].then((pageIdx) => {\n            delete this.pendingFindMatches[pageIdx];\n            this.calcFindMatch(pageIdx);\n          });\n        }\n      }\n    }\n\n    // If there's no query there's no point in searching.\n    if (this.state.query === '') {\n      this.updateUIState(FindState.FOUND);\n      return;\n    }\n\n    // If we're waiting on a page, we return since we can't do anything else.\n    if (this.resumePageIdx) {\n      return;\n    }\n\n    let offset = this.offset;\n    // Keep track of how many pages we should maximally iterate through.\n    this.pagesToSearch = numPages;\n    // If there's already a `matchIdx` that means we are iterating through a\n    // page's matches.\n    if (offset.matchIdx !== null) {\n      let numPageMatches = this.pageMatches[offset.pageIdx].length;\n      if ((!previous && offset.matchIdx + 1 < numPageMatches) ||\n          (previous && offset.matchIdx > 0)) {\n        // The simple case; we just have advance the matchIdx to select\n        // the next match on the page.\n        this.hadMatch = true;\n        offset.matchIdx = (previous ? offset.matchIdx - 1 :\n                                      offset.matchIdx + 1);\n        this.updateMatch(true);\n        return;\n      }\n      // We went beyond the current page's matches, so we advance to\n      // the next page.\n      this.advanceOffsetPage(previous);\n    }\n    // Start searching through the page.\n    this.nextPageMatch();\n  }\n\n  matchesReady(matches) {\n    let offset = this.offset;\n    let numMatches = matches.length;\n    let previous = this.state.findPrevious;\n\n    if (numMatches) {\n      // There were matches for the page, so initialize `matchIdx`.\n      this.hadMatch = true;\n      offset.matchIdx = (previous ? numMatches - 1 : 0);\n      this.updateMatch(true);\n      return true;\n    }\n    // No matches, so attempt to search the next page.\n    this.advanceOffsetPage(previous);\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n      if (this.pagesToSearch < 0) {\n        // No point in wrapping again, there were no matches.\n        this.updateMatch(false);\n        // While matches were not found, searching for a page\n        // with matches should nevertheless halt.\n        return true;\n      }\n    }\n    // Matches were not found (and searching is not done).\n    return false;\n  }\n\n  /**\n   * Called from the text layer when match presentation is updated.\n   *\n   * @param {number} pageIndex - The index of the page.\n   * @param {number} matchIndex - The index of the match.\n   * @param {Array} elements - Text layer `div` elements.\n   * @param {number} beginIdx - Start index of the `div` array for the match.\n   */\n  updateMatchPosition(pageIndex, matchIndex, elements, beginIdx) {\n    if (this.selected.matchIdx === matchIndex &&\n        this.selected.pageIdx === pageIndex) {\n      let spot = {\n        top: FIND_SCROLL_OFFSET_TOP,\n        left: FIND_SCROLL_OFFSET_LEFT,\n      };\n      scrollIntoView(elements[beginIdx], spot,\n                     /* skipOverflowHiddenElements = */ true);\n    }\n  }\n\n  nextPageMatch() {\n    if (this.resumePageIdx !== null) {\n      console.error('There can only be one pending page.');\n    }\n\n    let matches = null;\n    do {\n      let pageIdx = this.offset.pageIdx;\n      matches = this.pageMatches[pageIdx];\n      if (!matches) {\n        // The matches don't exist yet for processing by `matchesReady`,\n        // so set a resume point for when they do exist.\n        this.resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.matchesReady(matches));\n  }\n\n  advanceOffsetPage(previous) {\n    let offset = this.offset;\n    let numPages = this.extractTextPromises.length;\n    offset.pageIdx = (previous ? offset.pageIdx - 1 : offset.pageIdx + 1);\n    offset.matchIdx = null;\n\n    this.pagesToSearch--;\n\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = (previous ? numPages - 1 : 0);\n      offset.wrapped = true;\n    }\n  }\n\n  updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    let wrapped = this.offset.wrapped;\n    this.offset.wrapped = false;\n\n    if (found) {\n      let previousPage = this.selected.pageIdx;\n      this.selected.pageIdx = this.offset.pageIdx;\n      this.selected.matchIdx = this.offset.matchIdx;\n      state = (wrapped ? FindState.WRAPPED : FindState.FOUND);\n\n      // Update the currently selected page to wipe out any selected matches.\n      if (previousPage !== -1 && previousPage !== this.selected.pageIdx) {\n        this.updatePage(previousPage);\n      }\n    }\n\n    this.updateUIState(state, this.state.findPrevious);\n    if (this.selected.pageIdx !== -1) {\n      this.updatePage(this.selected.pageIdx);\n    }\n  }\n\n  updateUIResultsCount() {\n    if (this.onUpdateResultsCount) {\n      this.onUpdateResultsCount(this.matchCount);\n    }\n  }\n\n  updateUIState(state, previous) {\n    if (this.onUpdateState) {\n      this.onUpdateState(state, previous, this.matchCount);\n    }\n  }\n}\n\nexport {\n  FindState,\n  PDFFindController,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_find_controller.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  cloneObj, isValidRotation, parseQueryString, waitOnEventOrTimeout\n} from './ui_utils';\nimport { getGlobalEventBus } from './dom_events';\n\n// Heuristic value used when force-resetting `this._blockHashChange`.\nconst HASH_CHANGE_TIMEOUT = 1000; // milliseconds\n// Heuristic value used when adding the current position to the browser history.\nconst POSITION_UPDATED_THRESHOLD = 50;\n// Heuristic value used when adding a temporary position to the browser history.\nconst UPDATE_VIEWAREA_TIMEOUT = 1000; // milliseconds\n\n/**\n * @typedef {Object} PDFHistoryOptions\n * @property {IPDFLinkService} linkService - The navigation/linking service.\n * @property {EventBus} eventBus - The application event bus.\n */\n\n/**\n * @typedef {Object} PushParameters\n * @property {string} namedDest - (optional) The named destination. If absent,\n *   a stringified version of `explicitDest` is used.\n * @property {Array} explicitDest - The explicit destination array.\n * @property {number} pageNumber - The page to which the destination points.\n */\n\nfunction getCurrentHash() {\n  return document.location.hash;\n}\n\nfunction parseCurrentHash(linkService) {\n  let hash = unescape(getCurrentHash()).substring(1);\n  let params = parseQueryString(hash);\n\n  let page = params.page | 0;\n  if (!(Number.isInteger(page) && page > 0 && page <= linkService.pagesCount)) {\n    page = null;\n  }\n  return { hash, page, rotation: linkService.rotation, };\n}\n\nclass PDFHistory {\n  /**\n   * @param {PDFHistoryOptions} options\n   */\n  constructor({ linkService, eventBus, }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus || getGlobalEventBus();\n\n    this.initialized = false;\n    this.initialBookmark = null;\n    this.initialRotation = null;\n\n    this._boundEvents = Object.create(null);\n    this._isViewerInPresentationMode = false;\n    this._isPagesLoaded = false;\n\n    // Ensure that we don't miss either a 'presentationmodechanged' or a\n    // 'pagesloaded' event, by registering the listeners immediately.\n    this.eventBus.on('presentationmodechanged', (evt) => {\n      this._isViewerInPresentationMode = evt.active || evt.switchInProgress;\n    });\n    this.eventBus.on('pagesloaded', (evt) => {\n      this._isPagesLoaded = !!evt.pagesCount;\n    });\n  }\n\n  /**\n   * Initialize the history for the PDF document, using either the current\n   * browser history entry or the document hash, whichever is present.\n   * @param {string} fingerprint - The PDF document's unique fingerprint.\n   * @param {boolean} resetHistory - (optional) Reset the browsing history.\n   */\n  initialize(fingerprint, resetHistory = false) {\n    if (!fingerprint || typeof fingerprint !== 'string') {\n      console.error(\n        'PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    let reInitialized = this.initialized && this.fingerprint !== fingerprint;\n    this.fingerprint = fingerprint;\n\n    if (!this.initialized) {\n      this._bindEvents();\n    }\n    let state = window.history.state;\n\n    this.initialized = true;\n    this.initialBookmark = null;\n    this.initialRotation = null;\n\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n\n    if (!this._isValidState(state) || resetHistory) {\n      let { hash, page, rotation, } = parseCurrentHash(this.linkService);\n\n      if (!hash || reInitialized || resetHistory) {\n        // Ensure that the browser history is reset on PDF document load.\n        this._pushOrReplaceState(null, /* forceReplace = */ true);\n        return;\n      }\n      // Ensure that the browser history is initialized correctly when\n      // the document hash is present on PDF document load.\n      this._pushOrReplaceState({ hash, page, rotation, },\n                               /* forceReplace = */ true);\n      return;\n    }\n\n    // The browser history contains a valid entry, ensure that the history is\n    // initialized correctly on PDF document load.\n    let destination = state.destination;\n    this._updateInternalState(destination, state.uid,\n                              /* removeTemporary = */ true);\n    if (this._uid > this._maxUid) {\n      this._maxUid = this._uid;\n    }\n\n    if (destination.rotation !== undefined) {\n      this.initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this.initialBookmark = JSON.stringify(destination.dest);\n\n      // If the history is updated, e.g. through the user changing the hash,\n      // before the initial destination has become visible, then we do *not*\n      // want to potentially add `this._position` to the browser history.\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this.initialBookmark = destination.hash;\n    } else if (destination.page) {\n      // Fallback case; shouldn't be necessary, but better safe than sorry.\n      this.initialBookmark = `page=${destination.page}`;\n    }\n  }\n\n  /**\n   * Push an internal destination to the browser history.\n   * @param {PushParameters}\n   */\n  push({ namedDest, explicitDest, pageNumber, }) {\n    if (!this.initialized) {\n      return;\n    }\n    if ((namedDest && typeof namedDest !== 'string') ||\n        !(explicitDest instanceof Array) ||\n        !(Number.isInteger(pageNumber) &&\n          pageNumber > 0 && pageNumber <= this.linkService.pagesCount)) {\n      console.error('PDFHistory.push: Invalid parameters.');\n      return;\n    }\n\n    let hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      // The hash *should* never be undefined, but if that were to occur,\n      // avoid any possible issues by not updating the browser history.\n      return;\n    }\n\n    let forceReplace = false;\n    if (this._destination &&\n        (isDestHashesEqual(this._destination.hash, hash) ||\n         isDestArraysEqual(this._destination.dest, explicitDest))) {\n      // When the new destination is identical to `this._destination`, and\n      // its `page` is undefined, replace the current browser history entry.\n      // NOTE: This can only occur if `this._destination` was set either:\n      //  - through the document hash being specified on load.\n      //  - through the user changing the hash of the document.\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n\n    this._pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation,\n    }, forceReplace);\n\n    if (!this._popStateInProgress) {\n      // Prevent the browser history from updating while the new destination is\n      // being scrolled into view, to avoid potentially inconsistent state.\n      this._popStateInProgress = true;\n      // We defer the resetting of `this._popStateInProgress`, to account for\n      // e.g. zooming occuring when the new destination is being navigated to.\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  /**\n   * Push the current position to the browser history.\n   */\n  pushCurrentPosition() {\n    if (!this.initialized || this._popStateInProgress) {\n      return;\n    }\n    this._tryPushCurrentPosition();\n  }\n\n  /**\n   * Go back one step in the browser history.\n   * NOTE: Avoids navigating away from the document, useful for \"named actions\".\n   */\n  back() {\n    if (!this.initialized || this._popStateInProgress) {\n      return;\n    }\n    let state = window.history.state;\n    if (this._isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n\n  /**\n   * Go forward one step in the browser history.\n   * NOTE: Avoids navigating away from the document, useful for \"named actions\".\n   */\n  forward() {\n    if (!this.initialized || this._popStateInProgress) {\n      return;\n    }\n    let state = window.history.state;\n    if (this._isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n\n  /**\n   * @returns {boolean} Indicating if the user is currently moving through the\n   *   browser history, useful e.g. for skipping the next 'hashchange' event.\n   */\n  get popStateInProgress() {\n    return this.initialized &&\n           (this._popStateInProgress || this._blockHashChange > 0);\n  }\n\n  /**\n   * @private\n   */\n  _pushOrReplaceState(destination, forceReplace = false) {\n    let shouldReplace = forceReplace || !this._destination;\n    let newState = {\n      fingerprint: this.fingerprint,\n      uid: shouldReplace ? this._uid : (this._uid + 1),\n      destination,\n    };\n\n    if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME') &&\n        window.history.state && window.history.state.chromecomState) {\n      // history.state.chromecomState is managed by chromecom.js.\n      newState.chromecomState = window.history.state.chromecomState;\n    }\n    this._updateInternalState(destination, newState.uid);\n\n    if (shouldReplace) {\n      window.history.replaceState(newState, '');\n    } else {\n      this._maxUid = this._uid;\n      window.history.pushState(newState, '');\n    }\n\n    if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME') &&\n        top === window) {\n      // eslint-disable-next-line no-undef\n      chrome.runtime.sendMessage('showPageAction');\n    }\n  }\n\n  /**\n   * @private\n   */\n  _tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n    let position = this._position;\n    if (temporary) {\n      position = cloneObj(this._position);\n      position.temporary = true;\n    }\n\n    if (!this._destination) {\n      this._pushOrReplaceState(position);\n      return;\n    }\n    if (this._destination.temporary) {\n      // Always replace a previous *temporary* position.\n      this._pushOrReplaceState(position, /* forceReplace = */ true);\n      return;\n    }\n    if (this._destination.hash === position.hash) {\n      return; // The current document position has not changed.\n    }\n    if (!this._destination.page &&\n        (POSITION_UPDATED_THRESHOLD <= 0 ||\n         this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      // `this._destination` was set through the user changing the hash of\n      // the document. Do not add `this._position` to the browser history,\n      // to avoid \"flooding\" it with lots of (nearly) identical entries,\n      // since we cannot ensure that the document position has changed.\n      return;\n    }\n\n    let forceReplace = false;\n    if (this._destination.page === position.first ||\n        this._destination.page === position.page) {\n      // When the `page` of `this._destination` is still visible, do not\n      // update the browsing history when `this._destination` either:\n      //  - contains an internal destination, since in this case we\n      //    cannot ensure that the document position has actually changed.\n      //  - was set through the user changing the hash of the document.\n      if (this._destination.dest || !this._destination.first) {\n        return;\n      }\n      // To avoid \"flooding\" the browser history, replace the current entry.\n      forceReplace = true;\n    }\n    this._pushOrReplaceState(position, forceReplace);\n  }\n\n  /**\n   * @private\n   */\n  _isValidState(state) {\n    if (!state) {\n      return false;\n    }\n    if (state.fingerprint !== this.fingerprint) {\n      // This should only occur in viewers with support for opening more than\n      // one PDF document, e.g. the GENERIC viewer.\n      return false;\n    }\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n    if (state.destination === null || typeof state.destination !== 'object') {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      // When updating `this._destination`, make sure that we always wait for\n      // the next 'updateviewarea' event before (potentially) attempting to\n      // push the current position to the browser history.\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    if (removeTemporary && destination && destination.temporary) {\n      // When the `destination` comes from the browser history,\n      // we no longer treat it as a *temporary* position.\n      delete destination.temporary;\n    }\n    this._destination = destination;\n    this._uid = uid;\n    // This should always be reset when `this._destination` is updated.\n    this._numPositionUpdates = 0;\n  }\n\n  /**\n   * @private\n   */\n  _updateViewarea({ location, }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._position = {\n      hash: this._isViewerInPresentationMode ?\n        `page=${location.pageNumber}` : location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation,\n    };\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded &&\n        this._destination && !this._destination.page) {\n      // If the current destination was set through the user changing the hash\n      // of the document, we will usually not try to push the current position\n      // to the browser history; see `this._tryPushCurrentPosition()`.\n      //\n      // To prevent `this._tryPushCurrentPosition()` from effectively being\n      // reduced to a no-op in this case, we will assume that the position\n      // *did* in fact change if the 'updateviewarea' event was dispatched\n      // more than `POSITION_UPDATED_THRESHOLD` times.\n      this._numPositionUpdates++;\n    }\n\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      // When closing the browser, a 'pagehide' event will be dispatched which\n      // *should* allow us to push the current position to the browser history.\n      // In practice, it seems that the event is arriving too late in order for\n      // the session history to be successfully updated.\n      // (For additional details, please refer to the discussion in\n      //  https://bugzilla.mozilla.org/show_bug.cgi?id=1153393.)\n      //\n      // To workaround this we attempt to *temporarily* add the current position\n      // to the browser history only when the viewer is *idle*,\n      // i.e. when scrolling and/or zooming does not occur.\n      //\n      // PLEASE NOTE: It's absolutely imperative that the browser history is\n      // *not* updated too often, since that would render the viewer more or\n      // less unusable. Hence the use of a timeout to delay the update until\n      // the viewer has been idle for `UPDATE_VIEWAREA_TIMEOUT` milliseconds.\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this._tryPushCurrentPosition(/* temporary = */ true);\n        }\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _popState({ state, }) {\n    let newHash = getCurrentHash(), hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n\n    if (!state ||\n        (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME') &&\n         state.chromecomState && !this._isValidState(state))) {\n      // This case corresponds to the user changing the hash of the document.\n      this._uid++;\n\n      let { hash, page, rotation, } = parseCurrentHash(this.linkService);\n      this._pushOrReplaceState({ hash, page, rotation, },\n                               /* forceReplace = */ true);\n      return;\n    }\n    if (!this._isValidState(state)) {\n      // This should only occur in viewers with support for opening more than\n      // one PDF document, e.g. the GENERIC viewer.\n      return;\n    }\n\n    // Prevent the browser history from updating until the new destination,\n    // as stored in the browser history, has been scrolled into view.\n    this._popStateInProgress = true;\n\n    if (hashChanged) {\n      // When the hash changed, implying that the 'popstate' event will be\n      // followed by a 'hashchange' event, then we do *not* want to update the\n      // browser history when handling the 'hashchange' event (in web/app.js)\n      // since that would *overwrite* the new destination navigated to below.\n      //\n      // To avoid accidentally disabling all future user-initiated hash changes,\n      // if there's e.g. another 'hashchange' listener that stops the event\n      // propagation, we make sure to always force-reset `this._blockHashChange`\n      // after `HASH_CHANGE_TIMEOUT` milliseconds have passed.\n      this._blockHashChange++;\n      waitOnEventOrTimeout({\n        target: window,\n        name: 'hashchange',\n        delay: HASH_CHANGE_TIMEOUT,\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n\n    // Navigate to the new destination.\n    let destination = state.destination;\n    this._updateInternalState(destination, state.uid,\n                              /* removeTemporary = */ true);\n    if (this._uid > this._maxUid) {\n      this._maxUid = this._uid;\n    }\n\n    if (isValidRotation(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this.linkService.navigateTo(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      // Fallback case; shouldn't be necessary, but better safe than sorry.\n      this.linkService.page = destination.page;\n    }\n\n    // Since `PDFLinkService.navigateTo` is asynchronous, we thus defer the\n    // resetting of `this._popStateInProgress` slightly.\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n\n  /**\n   * @private\n   */\n  _bindEvents() {\n    let { _boundEvents, eventBus, } = this;\n\n    _boundEvents.updateViewarea = this._updateViewarea.bind(this);\n    _boundEvents.popState = this._popState.bind(this);\n    _boundEvents.pageHide = (evt) => {\n      // Attempt to push the `this._position` into the browser history when\n      // navigating away from the document. This is *only* done if the history\n      // is empty/temporary, since otherwise an existing browser history entry\n      // will end up being overwritten (given that new entries cannot be pushed\n      // into the browser history when the 'unload' event has already fired).\n      if (!this._destination || this._destination.temporary) {\n        this._tryPushCurrentPosition();\n      }\n    };\n\n    eventBus.on('updateviewarea', _boundEvents.updateViewarea);\n    window.addEventListener('popstate', _boundEvents.popState);\n    window.addEventListener('pagehide', _boundEvents.pageHide);\n  }\n}\n\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== 'string' || typeof pushHash !== 'string') {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  let { nameddest, } = parseQueryString(destHash);\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\n\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (first instanceof Array || second instanceof Array) {\n      return false;\n    }\n    if (first !== null && typeof first === 'object' && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (let key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || (Number.isNaN(first) && Number.isNaN(second));\n  }\n\n  if (!(firstDest instanceof Array && secondDest instanceof Array)) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport {\n  PDFHistory,\n  isDestHashesEqual,\n  isDestArraysEqual,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_history.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseViewer } from './base_viewer';\nimport { scrollIntoView } from './ui_utils';\nimport { shadow } from 'pdfjs-lib';\n\nclass PDFSinglePageViewer extends BaseViewer {\n  constructor(options) {\n    super(options);\n\n    this.eventBus.on('pagesinit', (evt) => {\n      // Since the pages are placed in a `DocumentFragment`, make sure that\n      // the current page becomes visible upon loading of the document.\n      this._ensurePageViewVisible();\n    });\n  }\n\n  get _setDocumentViewerElement() {\n    // Since we only want to display *one* page at a time when using the\n    // `PDFSinglePageViewer`, we cannot append them to the `viewer` DOM element.\n    // Instead, they are placed in a `DocumentFragment`, and only the current\n    // page is displayed in the viewer (refer to `this._ensurePageViewVisible`).\n    return shadow(this, '_setDocumentViewerElement', this._shadowViewer);\n  }\n\n  _resetView() {\n    super._resetView();\n    this._previousPageNumber = 1;\n    this._shadowViewer = document.createDocumentFragment();\n  }\n\n  _ensurePageViewVisible() {\n    let pageView = this._pages[this._currentPageNumber - 1];\n    let previousPageView = this._pages[this._previousPageNumber - 1];\n\n    let viewerNodes = this.viewer.childNodes;\n    switch (viewerNodes.length) {\n      case 0: // Should *only* occur on initial loading.\n        this.viewer.appendChild(pageView.div);\n        break;\n      case 1: // The normal page-switching case.\n        if (viewerNodes[0] !== previousPageView.div) {\n          throw new Error(\n            '_ensurePageViewVisible: Unexpected previously visible page.');\n        }\n        if (pageView === previousPageView) {\n          break; // The correct page is already visible.\n        }\n        // Switch visible pages, and reset the viewerContainer scroll position.\n        this._shadowViewer.appendChild(previousPageView.div);\n        this.viewer.appendChild(pageView.div);\n\n        this.container.scrollTop = 0;\n        break;\n      default:\n        throw new Error(\n          '_ensurePageViewVisible: Only one page should be visible at a time.');\n    }\n    this._previousPageNumber = this._currentPageNumber;\n  }\n\n  _scrollUpdate() {\n    if (this._updateScrollDown) {\n      this._updateScrollDown();\n    }\n    super._scrollUpdate();\n  }\n\n  _scrollIntoView({ pageDiv, pageSpot = null, pageNumber = null, }) {\n    if (pageNumber) { // Ensure that `this._currentPageNumber` is correct.\n      this._setCurrentPageNumber(pageNumber);\n    }\n    let scrolledDown = this._currentPageNumber >= this._previousPageNumber;\n    let previousLocation = this._location;\n    this._ensurePageViewVisible();\n\n    scrollIntoView(pageDiv, pageSpot);\n\n    // Since scrolling is tracked using `requestAnimationFrame`, update the\n    // scroll direction during the next `this._scrollUpdate` invocation.\n    this._updateScrollDown = () => {\n      this.scroll.down = scrolledDown;\n      delete this._updateScrollDown;\n    };\n    // If the scroll position doesn't change as a result of the `scrollIntoView`\n    // call, ensure that rendering always occurs to avoid showing a blank page.\n    setTimeout(() => {\n      if (this._location === previousLocation) {\n        if (this._updateScrollDown) {\n          this._updateScrollDown();\n        }\n        this.update();\n      }\n    }, 0);\n  }\n\n  _getVisiblePages() {\n    if (!this.pagesCount) {\n      return { views: [], };\n    }\n    let pageView = this._pages[this._currentPageNumber - 1];\n    // NOTE: Compute the `x` and `y` properties of the current view,\n    // since `this._updateLocation` depends of them being available.\n    let element = pageView.div;\n\n    let view = {\n      id: pageView.id,\n      x: element.offsetLeft + element.clientLeft,\n      y: element.offsetTop + element.clientTop,\n      view: pageView,\n    };\n    return { first: view, last: view, views: [view], };\n  }\n\n  update() {\n    let visible = this._getVisiblePages();\n    let visiblePages = visible.views, numVisiblePages = visiblePages.length;\n\n    if (numVisiblePages === 0) {\n      return;\n    }\n    this._resizeBuffer(numVisiblePages);\n\n    this.renderingQueue.renderHighestPriority(visible);\n\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch('updateviewarea', {\n      source: this,\n      location: this._location,\n    });\n  }\n}\n\nexport {\n  PDFSinglePageViewer,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_single_page_viewer.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getVisibleElements, scrollIntoView } from './ui_utils';\nimport { BaseViewer } from './base_viewer';\nimport { shadow } from 'pdfjs-lib';\n\nclass PDFViewer extends BaseViewer {\n  get _setDocumentViewerElement() {\n    return shadow(this, '_setDocumentViewerElement', this.viewer);\n  }\n\n  _scrollIntoView({ pageDiv, pageSpot = null, }) {\n    scrollIntoView(pageDiv, pageSpot);\n  }\n\n  _getVisiblePages() {\n    if (!this.isInPresentationMode) {\n      return getVisibleElements(this.container, this._pages, true);\n    }\n    // The algorithm in getVisibleElements doesn't work in all browsers and\n    // configurations when presentation mode is active.\n    let currentPage = this._pages[this._currentPageNumber - 1];\n    let visible = [{ id: currentPage.id, view: currentPage, }];\n    return { first: currentPage, last: currentPage, views: visible, };\n  }\n\n  update() {\n    let visible = this._getVisiblePages();\n    let visiblePages = visible.views, numVisiblePages = visiblePages.length;\n\n    if (numVisiblePages === 0) {\n      return;\n    }\n    this._resizeBuffer(numVisiblePages);\n\n    this.renderingQueue.renderHighestPriority(visible);\n\n    let currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n\n    for (let i = 0; i < numVisiblePages; ++i) {\n      let page = visiblePages[i];\n\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n\n    if (!stillFullyVisible) {\n      currentId = visiblePages[0].id;\n    }\n    if (!this.isInPresentationMode) {\n      this._setCurrentPageNumber(currentId);\n    }\n\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch('updateviewarea', {\n      source: this,\n      location: this._location,\n    });\n  }\n}\n\nexport {\n  PDFViewer,\n};\n\n\n\n// WEBPACK FOOTER //\n// web/pdf_viewer.js"],"sourceRoot":""},"metadata":{},"sourceType":"script"}