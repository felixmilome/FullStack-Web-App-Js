{"ast":null,"code":"var _jsxFileName = \"/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Modals/PostoptionsModal.jsx\",\n    _s = $RefreshSig$();\n\nimport PostOptionsRow from \"./PostOptionsRow.jsx\";\nimport { BookmarkIcon, ExclamationIcon, TagIcon, TrashIcon } from '@heroicons/react/outline'; //import EditDiaryModal from \"./EditDiaryModal.jsx\"\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteDiariesAction } from \"../Midwares/rdx/actions/diariesAction.js\";\nimport { saveDiariesAction } from \"../Midwares/rdx/actions/savedDiariesAction.js\";\nimport { getTagsAction } from \"../Midwares/rdx/actions/tagsAction.js\";\nimport { AiOutlineEdit } from \"react-icons/ai\";\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport PostEdit from \"../Body/PostEdit.jsx\";\nimport { DeliveryPop } from \"./DeliveryPop.jsx\";\nimport { PostTagRow } from \"./PostTagRow.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostoptionsModal({\n  diary,\n  userId,\n  diaryId,\n  setpopOptions,\n  setDiaryId\n}) {\n  _s();\n\n  const [popDeleted, setPopDeleted] = useState(false);\n  const [popSaved, setPopSaved] = useState(false);\n  const [saver, setSaver] = useState(true);\n  const [popEdit, setPopEdit] = useState(false);\n  const [popDelete, setPopDelete] = useState(false);\n  const [popTagger, setPopTagger] = useState(false);\n  const [postId, setPostId] = useState(false);\n  const [savedDiaryData, setSavedDiaryData] = useState({\n    diaryId: diary._id\n  });\n  const dispatch = useDispatch();\n\n  function deleter() {\n    try {\n      dispatch(deleteDiariesAction(diary._id));\n      setPopDeleted(true);\n      setTimeout(function () {\n        setpopOptions(false);\n      }, 2000);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function saveDiary() {\n    try {\n      dispatch(saveDiariesAction(savedDiaryData, setPopSaved, setpopOptions));\n      setSaver(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const tagHandler = () => {\n    if (diary.tags.length > 0) {\n      setPopTagger(true);\n      dispatch(getTagsAction(diary.tags));\n    }\n  };\n\n  const tags = useSelector(state => state.tagsReducer);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [popDeleted && /*#__PURE__*/_jsxDEV(DeliveryPop, {\n      message: \"Post Deleted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }, this), popSaved && /*#__PURE__*/_jsxDEV(DeliveryPop, {\n      message: \"Post Saved\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute z-40 right-4 sm:right-12 top-20 opacity-90 rounded-b-xl bg-gray-100\",\n      children: [saver && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: saveDiary,\n        children: /*#__PURE__*/_jsxDEV(PostOptionsRow, {\n          Icon: BookmarkIcon,\n          title: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        onClick: tagHandler,\n        children: [/*#__PURE__*/_jsxDEV(PostOptionsRow, {\n          Icon: TagIcon,\n          title: \"Tags\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: diary.tags.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setPopDelete(true),\n        children: /*#__PURE__*/_jsxDEV(PostOptionsRow, {\n          Icon: TrashIcon,\n          title: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(PostOptionsRow, {\n          Icon: ExclamationIcon,\n          title: \"Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setPopEdit(true),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setPostId(diary._id),\n          children: /*#__PURE__*/_jsxDEV(PostOptionsRow, {\n            Icon: AiOutlineEdit,\n            title: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), popDelete && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" fixed left-0 top-0 flex justify-center items-center z-40 w-full h-screen  bg-transparent text-base font-light text-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"z-40 bg-gray-100 rounded-xl p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: [\"Delete the post: \", diary.title, \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-around items-center pt-4 m-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: deleter,\n            className: \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setpopOptions(false),\n            className: \"bg-gray-400 text-white p-2 rounded-md cursor-pointer hover:bg-gray-500\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed opacity-70 top-0 z-10 left-0 w-full h-screen bg-gray-800\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }, this), popTagger && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed left-0 top-0 flex justify-center items-center  z-40 flex w-full h-screen  bg-transparent text-base font-light text-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-96 z-40 bg-gray-100 rounded-xl p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: [\"Tags on \", diary.title, \": \", diary.tags.length, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-around items-center p-4 m-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setPopTagger(false),\n            className: \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setPopTagger(false),\n          className: \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\",\n          children: tags.length > 0 && tags.map(tag => /*#__PURE__*/_jsxDEV(PostTagRow, {\n            tag: tag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed opacity-70  z-10 left-0 w-full h-screen bg-gray-800\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-200 absolute top-20 left-0 z-40 w-full\",\n      children: popEdit && /*#__PURE__*/_jsxDEV(PostEdit, {\n        diary: diary,\n        postId: postId,\n        setPostId: setPostId,\n        setpopOptions: setpopOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 8\n  }, this);\n}\n\n_s(PostoptionsModal, \"puq+oVIL3AaOlmMwL548dSZOYmY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = PostoptionsModal;\nexport default PostoptionsModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostoptionsModal\");","map":{"version":3,"sources":["/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Modals/PostoptionsModal.jsx"],"names":["PostOptionsRow","BookmarkIcon","ExclamationIcon","TagIcon","TrashIcon","useDispatch","useSelector","deleteDiariesAction","saveDiariesAction","getTagsAction","AiOutlineEdit","Link","useState","useEffect","PostEdit","DeliveryPop","PostTagRow","PostoptionsModal","diary","userId","diaryId","setpopOptions","setDiaryId","popDeleted","setPopDeleted","popSaved","setPopSaved","saver","setSaver","popEdit","setPopEdit","popDelete","setPopDelete","popTagger","setPopTagger","postId","setPostId","savedDiaryData","setSavedDiaryData","_id","dispatch","deleter","setTimeout","err","console","log","saveDiary","tagHandler","tags","length","state","tagsReducer","title","map","tag"],"mappings":"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","sourcesContent":["import PostOptionsRow from \"./PostOptionsRow.jsx\";\nimport { BookmarkIcon, ExclamationIcon, TagIcon, TrashIcon } from '@heroicons/react/outline';\n//import EditDiaryModal from \"./EditDiaryModal.jsx\"\nimport {useDispatch, useSelector} from 'react-redux';\nimport { deleteDiariesAction} from \"../Midwares/rdx/actions/diariesAction.js\";\nimport{ saveDiariesAction } from \"../Midwares/rdx/actions/savedDiariesAction.js\";\nimport{ getTagsAction } from \"../Midwares/rdx/actions/tagsAction.js\";\nimport{AiOutlineEdit} from \"react-icons/ai\";\nimport {Link} from 'react-router-dom';\nimport { useState, useEffect} from \"react\";  \nimport PostEdit from \"../Body/PostEdit.jsx\";\nimport { DeliveryPop } from \"./DeliveryPop.jsx\";\nimport { PostTagRow } from \"./PostTagRow.jsx\";\n\nfunction PostoptionsModal({diary, userId, diaryId, setpopOptions, setDiaryId}) {\n\n    const[popDeleted, setPopDeleted] = useState(false);\n    const[popSaved, setPopSaved] = useState(false);\n    const[saver, setSaver] = useState(true);\n    const[popEdit, setPopEdit] = useState(false);\n    const[popDelete, setPopDelete] = useState(false);\n    const[popTagger, setPopTagger] = useState(false);\n    const[postId, setPostId] = useState(false);\n    const[savedDiaryData, setSavedDiaryData] = useState({diaryId:diary._id});\n\n\n\n    const dispatch = useDispatch();\n\n    \n\n   \n\n   \n\n\n\n\n    function deleter(){\n        \n        try{\n\n            dispatch(deleteDiariesAction(diary._id));\n            \n            setPopDeleted(true);\n            setTimeout( function() {setpopOptions(false)}, 2000);\n\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n     function saveDiary(){\n        \n        try{\n            \n            dispatch(saveDiariesAction(savedDiaryData, setPopSaved, setpopOptions));\n            setSaver(false);\n            \n\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    const tagHandler =()=>{\n       \n\n        if(diary.tags.length>0) {\n            setPopTagger(true);\n            dispatch(getTagsAction(diary.tags));  \n        }\n\n    }\n\n    const tags = useSelector((state) => state.tagsReducer);\n\n    return (\n       <div>\n               { popDeleted &&\n               <DeliveryPop message='Post Deleted'/>\n             } \n             { popSaved &&\n               <DeliveryPop message='Post Saved'/>\n             } \n        <div className=\"absolute z-40 right-4 sm:right-12 top-20 opacity-90 rounded-b-xl bg-gray-100\">\n\n          \n            {saver && <div onClick= {saveDiary}>\n            <PostOptionsRow Icon = {BookmarkIcon} title =\"Save\"/>\n            </div>}\n            <div className='flex items-center' onClick = {tagHandler}>\n            <PostOptionsRow Icon = {TagIcon} title =\"Tags\" />\n            <p>{diary.tags.length}</p>\n            </div>\n\n            <div onClick = {()=> setPopDelete(true)} >\n            <PostOptionsRow \n             Icon = {TrashIcon} title =\"Delete\"/>\n            </div>\n            <div>  \n            <PostOptionsRow Icon = {ExclamationIcon}  title =\"Report\"/>\n            </div>\n            <div onClick = {()=> setPopEdit(true)}>\n                <div onClick = {()=> setPostId(diary._id)}>  \n                <PostOptionsRow Icon = {AiOutlineEdit} title =\"Edit\"/>\n                </div>\n            </div>\n           \n\n            {/* </Link> */}\n            {/* <EditDiaryModal diary={diary} setDiaryId={setDiaryId}/> */}\n        </div>\n\n        {/* ====DELETER ========*/}\n\n        { popDelete &&  <div className=\" fixed left-0 top-0 flex justify-center items-center z-40 w-full h-screen  bg-transparent text-base font-light text-gray-700\">\n               <div className= \"z-40 bg-gray-100 rounded-xl p-8 text-center\">\n              \n                    <p> <span className=\"font-bold\">Delete the post: {diary.title}?</span></p>\n                    <div className=\"flex justify-around items-center pt-4 m-auto\">\n                        \n                        <div onClick = {deleter} className= \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\">\n                            Delete\n                        </div>\n                       \n                        <div onClick = {()=> setpopOptions(false)} className= \"bg-gray-400 text-white p-2 rounded-md cursor-pointer hover:bg-gray-500\">\n                            Cancel\n                        </div>\n                    </div>\n                             \n                    \n                </div>\n                <div className=\"fixed opacity-70 top-0 z-10 left-0 w-full h-screen bg-gray-800\"></div>\n        </div> }\n\n             {/* ====TAGGER ========*/}\n        { popTagger &&  <div className=\"fixed left-0 top-0 flex justify-center items-center  z-40 flex w-full h-screen  bg-transparent text-base font-light text-gray-700\">\n               <div className= \"h-96 z-40 bg-gray-100 rounded-xl p-8 text-center\">\n              \n                    <p> <span className=\"font-bold\">Tags on {diary.title}: {diary.tags.length} </span> </p>\n                    <div className=\"flex justify-around items-center p-4 m-auto\">\n                        \n                        <div onClick = {()=>setPopTagger(false)} className= \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\">\n                            Delete\n                        </div>\n                       \n                  \n                    </div>\n                    <div onClick = {()=>setPopTagger(false)} className= \"bg-red-400 text-white p-2 rounded-md cursor-pointer hover:bg-red-500\">\n                    \n                    \n                        {tags.length > 0 &&\n                            tags.map((tag) =>(\n                                <PostTagRow tag={tag}/>\n                            ))\n                        }\n                            \n                    </div>        \n                    \n                </div>\n                <div className=\"fixed opacity-70  z-10 left-0 w-full h-screen bg-gray-800\"></div>\n        </div> }\n        \n        <div className=\"bg-gray-200 absolute top-20 left-0 z-40 w-full\">\n           {popEdit && <PostEdit diary={diary} postId={postId} setPostId={setPostId} setpopOptions ={setpopOptions}/>}\n           </div>\n        </div>\n        \n       \n    )\n}\n\nexport default PostoptionsModal;\n"]},"metadata":{},"sourceType":"module"}