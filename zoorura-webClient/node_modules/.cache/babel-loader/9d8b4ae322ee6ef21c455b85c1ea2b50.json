{"ast":null,"code":"var _jsxFileName = \"/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Sidebars/RightbarMob.jsx\",\n    _s = $RefreshSig$();\n\nimport RightbarmobRow from './RightbarmobRow.jsx';\nimport ContactMod from '../Modals/ContactMod.jsx';\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { MdOutlineCancel } from 'react-icons/md'; //import { UserIcon } from '@heroicons/react/outline';\n\nimport { BeatLoader } from \"react-spinners\";\nimport { getMessagesAction } from \"../Midwares/rdx/actions/messagesAction.js\";\nimport { Spring, animated } from 'react-spring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RightbarMob({\n  user,\n  setpopContacts,\n  unreadMessages\n}) {\n  _s();\n\n  const [popChatBox, setpopChatBox] = useState(false);\n  const [displayed, setDisplayed] = useState(null);\n  const [viewer, setViewer] = useState(null);\n  const [convoId, setConvoId] = useState(null);\n  const convos = useSelector(state => state.convosReducer);\n  const convoState = useSelector(state => state.convoStateReducer);\n  const dispatch = useDispatch(); // useEffect(() => {\n  //     dispatch({type:\"SEARCHING_CONVO\"});\n  // }, [dispatch]);\n\n  console.log(convoState);\n  console.log(convos);\n\n  const chatSetterDirect = (guestData, hostData, idConvo) => {\n    setDisplayed(guestData);\n    setViewer(hostData);\n    setConvoId(idConvo); // getMessagesAction(idConvo);\n    // readConvoNotificationsAction(idConvo);\n  };\n\n  const chatSetterInverse = (guestData, hostData, idConvo) => {\n    setDisplayed(hostData);\n    setViewer(guestData);\n    setConvoId(idConvo); // getMessagesAction(idConvo);\n    // readConvoNotificationsAction(idConvo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Spring, {\n    from: {\n      opacity: 0\n    },\n    to: [{\n      opacity: 1\n    }],\n    children: styles => /*#__PURE__*/_jsxDEV(animated.div, {\n      style: styles,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" p-7 sm:w-1/3 xl:w-1/4 w-2/3 m-x-4 bg-gray-100 dark:bg-gray-800 z-10 fixed right-0 sm:right-1.5 top-0 sm:top-20 rounded-md h-screen overflow-y-auto overflow-x-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-scroll\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between p-3 items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-1 font-bold text-gray-500 dark:text-gray-300 p-1\",\n              children: \"Contacts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => setpopContacts(false),\n              className: \"ml-1 hover:bg-gray-400 dark:hover:text-gray-900 rounded-full font-bold text-gray-400 p-1 cursor-pointer group\",\n              children: /*#__PURE__*/_jsxDEV(MdOutlineCancel, {\n                size: 20,\n                className: \"group-hover:text-gray-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-60\",\n            children: [popChatBox && /*#__PURE__*/_jsxDEV(ContactMod, {\n              setpopChatBox: setpopChatBox,\n              convoId: convoId,\n              displayed: displayed,\n              viewer: viewer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this), convoState === \"YesConvo\" && (convos === null || convos === void 0 ? void 0 : convos.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: convos === null || convos === void 0 ? void 0 : convos.map(convo => {\n                var _convo$host, _convo$host2;\n\n                // const unreadConvoMessage = unreadMessages.filter(unreadMessage? => unreadMessage?.read === false && (unreadMessage?.receiver?._id === user.result._id || unreadMessage?.receiver? === user.result._id ));\n                // console.log(unreadConvoMessage);\n                if ((convo === null || convo === void 0 ? void 0 : (_convo$host = convo.host) === null || _convo$host === void 0 ? void 0 : _convo$host._id) === user.result._id) {\n                  var _convo$guest2, _convo$guest3, _convo$guest4;\n\n                  const unreadConvoMessage = unreadMessages.filter(unreadMessage => {\n                    var _unreadMessage$sender, _convo$guest, _unreadMessage$receiv;\n\n                    return (unreadMessage === null || unreadMessage === void 0 ? void 0 : unreadMessage.read) === false && (unreadMessage === null || unreadMessage === void 0 ? void 0 : (_unreadMessage$sender = unreadMessage.sender) === null || _unreadMessage$sender === void 0 ? void 0 : _unreadMessage$sender._id) === (convo === null || convo === void 0 ? void 0 : (_convo$guest = convo.guest) === null || _convo$guest === void 0 ? void 0 : _convo$guest._id) && ((unreadMessage === null || unreadMessage === void 0 ? void 0 : (_unreadMessage$receiv = unreadMessage.receiver) === null || _unreadMessage$receiv === void 0 ? void 0 : _unreadMessage$receiv._id) === user.result._id || (unreadMessage === null || unreadMessage === void 0 ? void 0 : unreadMessage.receiver) === user.result._id);\n                  });\n                  return (\n                    /*#__PURE__*/\n                    //X--DISPLAY (THEM)GUEST: THEY ARE GUEST \n                    _jsxDEV(\"div\", {\n                      onClick: () => {\n                        chatSetterDirect(convo === null || convo === void 0 ? void 0 : convo.guest, convo === null || convo === void 0 ? void 0 : convo.host, convo === null || convo === void 0 ? void 0 : convo._id);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                        popChatBox: popChatBox,\n                        setpopChatBox: setpopChatBox,\n                        Src: convo === null || convo === void 0 ? void 0 : (_convo$guest2 = convo.guest) === null || _convo$guest2 === void 0 ? void 0 : _convo$guest2.dpUrl,\n                        guestId: convo === null || convo === void 0 ? void 0 : (_convo$guest3 = convo.guest) === null || _convo$guest3 === void 0 ? void 0 : _convo$guest3._id,\n                        title: unreadConvoMessage === null || unreadConvoMessage === void 0 ? void 0 : unreadConvoMessage.length,\n                        GuestName: convo === null || convo === void 0 ? void 0 : (_convo$guest4 = convo.guest) === null || _convo$guest4 === void 0 ? void 0 : _convo$guest4.userName,\n                        Points: convo === null || convo === void 0 ? void 0 : convo.tip\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 53\n                      }, this)\n                    }, convo === null || convo === void 0 ? void 0 : convo._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 49\n                    }, this)\n                  );\n                }\n\n                if ((convo === null || convo === void 0 ? void 0 : (_convo$host2 = convo.host) === null || _convo$host2 === void 0 ? void 0 : _convo$host2._id) !== user.result._id) {\n                  var _convo$host4, _convo$host5, _convo$host6, _convo$host7, _convo$host8, _convo$host9;\n\n                  const unreadConvoMessage = unreadMessages.filter(unreadMessage => {\n                    var _unreadMessage$sender2, _convo$host3, _unreadMessage$receiv2, _convo$guest5, _convo$guest6;\n\n                    return (unreadMessage === null || unreadMessage === void 0 ? void 0 : unreadMessage.read) === false && (unreadMessage === null || unreadMessage === void 0 ? void 0 : (_unreadMessage$sender2 = unreadMessage.sender) === null || _unreadMessage$sender2 === void 0 ? void 0 : _unreadMessage$sender2._id) === (convo === null || convo === void 0 ? void 0 : (_convo$host3 = convo.host) === null || _convo$host3 === void 0 ? void 0 : _convo$host3._id) && ((unreadMessage === null || unreadMessage === void 0 ? void 0 : (_unreadMessage$receiv2 = unreadMessage.receiver) === null || _unreadMessage$receiv2 === void 0 ? void 0 : _unreadMessage$receiv2._id) === (convo === null || convo === void 0 ? void 0 : (_convo$guest5 = convo.guest) === null || _convo$guest5 === void 0 ? void 0 : _convo$guest5._id) || (unreadMessage === null || unreadMessage === void 0 ? void 0 : unreadMessage.receiver) === (convo === null || convo === void 0 ? void 0 : (_convo$guest6 = convo.guest) === null || _convo$guest6 === void 0 ? void 0 : _convo$guest6._id));\n                  }); // const guest? = JSON.stringify(convo?.host?);\n                  // const host? = JSON.stringify(convo?.guest?);\n                  // const guest? = convo?.guest?;\n\n                  return (\n                    /*#__PURE__*/\n                    //Y--DISPLAY (THEM)HOST: THEY ARE HOST \n                    _jsxDEV(\"div\", {\n                      onClick: () => {\n                        chatSetterInverse(convo === null || convo === void 0 ? void 0 : convo.guest, convo === null || convo === void 0 ? void 0 : convo.host, convo === null || convo === void 0 ? void 0 : convo._id);\n                      },\n                      children: [(unreadConvoMessage === null || unreadConvoMessage === void 0 ? void 0 : unreadConvoMessage.length) > 0 && /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                        popChatBox: popChatBox,\n                        setpopChatBox: setpopChatBox,\n                        Src: convo === null || convo === void 0 ? void 0 : (_convo$host4 = convo.host) === null || _convo$host4 === void 0 ? void 0 : _convo$host4.dpUrl,\n                        guestId: convo === null || convo === void 0 ? void 0 : (_convo$host5 = convo.host) === null || _convo$host5 === void 0 ? void 0 : _convo$host5._id,\n                        title: unreadConvoMessage === null || unreadConvoMessage === void 0 ? void 0 : unreadConvoMessage.length,\n                        GuestName: convo === null || convo === void 0 ? void 0 : (_convo$host6 = convo.host) === null || _convo$host6 === void 0 ? void 0 : _convo$host6.userName,\n                        Points: convo === null || convo === void 0 ? void 0 : convo.tip\n                      }, convo === null || convo === void 0 ? void 0 : convo._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 65\n                      }, this), (unreadConvoMessage === null || unreadConvoMessage === void 0 ? void 0 : unreadConvoMessage.length) === 0 && /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                        popChatBox: popChatBox,\n                        setpopChatBox: setpopChatBox,\n                        Src: convo === null || convo === void 0 ? void 0 : (_convo$host7 = convo.host) === null || _convo$host7 === void 0 ? void 0 : _convo$host7.dpUrl,\n                        guestId: convo === null || convo === void 0 ? void 0 : (_convo$host8 = convo.host) === null || _convo$host8 === void 0 ? void 0 : _convo$host8._id,\n                        title: unreadConvoMessage === null || unreadConvoMessage === void 0 ? void 0 : unreadConvoMessage.length,\n                        GuestName: convo === null || convo === void 0 ? void 0 : (_convo$host9 = convo.host) === null || _convo$host9 === void 0 ? void 0 : _convo$host9.userName,\n                        Points: convo === null || convo === void 0 ? void 0 : convo.tip\n                      }, convo === null || convo === void 0 ? void 0 : convo._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 65\n                      }, this)]\n                    }, convo === null || convo === void 0 ? void 0 : convo._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, this)\n                  );\n                }\n              })\n            }, void 0, false), convoState === \"NoConvo\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Relative items-center space-x-2 mt-0.5 p-2 text-gray-500  rounded-l-full rounded-tr-full shadow-xl cursor-pointer  text-xs \",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"inline-flex font-bold  text-gray-500\",\n                    children: \"No Convos Yet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this)\n            }, void 0, false), convoState === \"SearchingConvo\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Relative items-center space-x-2 mt-0.5 p-2 text-gray-500  rounded-l-full rounded-tr-full shadow-xl cursor-pointer  text-xs \",\n                  children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n                    size: 22,\n                    color: \"white\",\n                    loading: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RightbarMob, \"5j4GPfyGnU2bCQPiQx2CybnfVds=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = RightbarMob;\nexport default RightbarMob;\n\nvar _c;\n\n$RefreshReg$(_c, \"RightbarMob\");","map":{"version":3,"sources":["/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Sidebars/RightbarMob.jsx"],"names":["RightbarmobRow","ContactMod","useState","useEffect","useSelector","useDispatch","MdOutlineCancel","BeatLoader","getMessagesAction","Spring","animated","RightbarMob","user","setpopContacts","unreadMessages","popChatBox","setpopChatBox","displayed","setDisplayed","viewer","setViewer","convoId","setConvoId","convos","state","convosReducer","convoState","convoStateReducer","dispatch","console","log","chatSetterDirect","guestData","hostData","idConvo","chatSetterInverse","opacity","styles","length","map","convo","host","_id","result","unreadConvoMessage","filter","unreadMessage","read","sender","guest","receiver","dpUrl","userName","tip"],"mappings":"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","sourcesContent":["import RightbarmobRow from './RightbarmobRow.jsx';\nimport ContactMod from '../Modals/ContactMod.jsx';\nimport { useState, useEffect } from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport{MdOutlineCancel} from 'react-icons/md';\n//import { UserIcon } from '@heroicons/react/outline';\nimport {BeatLoader} from \"react-spinners\";\nimport{getMessagesAction} from \"../Midwares/rdx/actions/messagesAction.js\";\nimport { Spring, animated } from 'react-spring';\n\n\n\nfunction RightbarMob({user, setpopContacts, unreadMessages}){\n\n    const[popChatBox, setpopChatBox] = useState(false);\n    const[displayed, setDisplayed] = useState(null);\n    const[viewer, setViewer] = useState(null);\n    \n    const[convoId, setConvoId] = useState(null); \n    const convos = useSelector((state) => state.convosReducer); \n    const convoState = useSelector((state) => state.convoStateReducer);\n\n    const dispatch = useDispatch();\n\n    // useEffect(() => {\n\n    //     dispatch({type:\"SEARCHING_CONVO\"});\n       \n\n    // }, [dispatch]);\n\n  \n\n    console.log(convoState);\n    console.log(convos); \n\n    \n\n\nconst chatSetterDirect = (guestData, hostData, idConvo) =>{\n    setDisplayed(guestData);\n    setViewer(hostData);\n    setConvoId(idConvo);\n    // getMessagesAction(idConvo);\n    // readConvoNotificationsAction(idConvo);\n  \n}\nconst chatSetterInverse = (guestData, hostData, idConvo) =>{\n    setDisplayed(hostData);\n    setViewer(guestData);\n    setConvoId(idConvo);\n    // getMessagesAction(idConvo);\n    // readConvoNotificationsAction(idConvo);\n  \n}\n\n\n\nreturn (\n    <Spring\n            \n        from={\n            { opacity: 0}\n        }\n        \n        to={[\n        { opacity: 1},\n        ]}>\n        {styles => (\n        <animated.div style={styles}>\n        \n            <div className=\" p-7 sm:w-1/3 xl:w-1/4 w-2/3 m-x-4 bg-gray-100 dark:bg-gray-800 z-10 fixed right-0 sm:right-1.5 top-0 sm:top-20 rounded-md h-screen overflow-y-auto overflow-x-hidden\">\n                <div className=\"overflow-scroll\">\n                <div className='flex justify-between p-3 items-center'>\n                        <div className=\"ml-1 font-bold text-gray-500 dark:text-gray-300 p-1\">\n                        Contacts \n                        </div>\n                        <div onClick={()=>setpopContacts(false)} className=\"ml-1 hover:bg-gray-400 dark:hover:text-gray-900 rounded-full font-bold text-gray-400 p-1 cursor-pointer group\">\n                        <MdOutlineCancel size={20} className='group-hover:text-gray-100'/>\n                        </div>\n                </div>\n                \n                    {/* Contacts People */}\n                    <div className=\"mb-60\">\n\n                    {popChatBox && \n                        <ContactMod setpopChatBox={setpopChatBox} convoId={convoId} displayed={displayed} viewer={viewer}/>\n                    }  \n                    \n                    {convoState === \"YesConvo\" && convos?.length >0 &&\n                        <>\n                            {\n                                convos?.map((convo) => {\n                                    \n\n                                // const unreadConvoMessage = unreadMessages.filter(unreadMessage? => unreadMessage?.read === false && (unreadMessage?.receiver?._id === user.result._id || unreadMessage?.receiver? === user.result._id ));\n                                // console.log(unreadConvoMessage);\n                                    if (convo?.host?._id === user.result._id){\n\n                                        const unreadConvoMessage = unreadMessages.filter(unreadMessage =>\n                                            (unreadMessage?.read === false)\n                                            && (unreadMessage?.sender?._id === convo?.guest?._id)\n                                            && (unreadMessage?.receiver?._id === user.result._id\n                                                || unreadMessage?.receiver === user.result._id ));\n                                    \n                                            return (    //X--DISPLAY (THEM)GUEST: THEY ARE GUEST \n                                                <div key={convo?._id}\n\n                                                    onClick ={()=>{\n                                                    chatSetterDirect(convo?.guest, convo?.host, convo?._id)\n                                                    }} >\n\n                                                    <RightbarmobRow popChatBox={popChatBox}  setpopChatBox={setpopChatBox} \n                                                    Src = {convo?.guest?.dpUrl} guestId={convo?.guest?._id} title ={unreadConvoMessage?.length} GuestName= {convo?.guest?.userName} Points= {convo?.tip} /> \n                                                \n                                                    {/* {popChatBox && \n                                                        <ContactMod setpopChatBox={setpopChatBox} convoId={convo?._id} guest?={JSON.parse(guest?)} host?={JSON.parse(host?)}/>\n                                                    }   */} \n                                                </div> \n                                            )\n                                        }\n                                        \n                                        \n                                    if (convo?.host?._id !== user.result._id) {\n\n                                        const unreadConvoMessage = unreadMessages.filter(unreadMessage => \n                                            (unreadMessage?.read === false)\n                                            && (unreadMessage?.sender?._id === convo?.host?._id)\n                                            && (unreadMessage?.receiver?._id === convo?.guest?._id\n                                                || unreadMessage?.receiver === convo?.guest?._id ));\n                                        \n                                        // const guest? = JSON.stringify(convo?.host?);\n                                        // const host? = JSON.stringify(convo?.guest?);\n                                        // const guest? = convo?.guest?;\n\n                                            return ( //Y--DISPLAY (THEM)HOST: THEY ARE HOST \n                                                <div key={convo?._id} \n                                                \n                                                    onClick ={()=>{\n                                                        chatSetterInverse(convo?.guest, convo?.host, convo?._id)\n                                                    } \n                                                    }>\n                                                        {unreadConvoMessage?.length > 0 &&\n                                                                <RightbarmobRow key={convo?._id} popChatBox={popChatBox} setpopChatBox={setpopChatBox} \n                                                                Src = {convo?.host?.dpUrl} guestId={convo?.host?._id} title ={unreadConvoMessage?.length} GuestName= {convo?.host?.userName} Points= {convo?.tip} />\n                                                        }\n                                                        {unreadConvoMessage?.length === 0 && \n                                                                <RightbarmobRow key={convo?._id} popChatBox={popChatBox} setpopChatBox={setpopChatBox} \n                                                                Src = {convo?.host?.dpUrl} guestId={convo?.host?._id} title ={unreadConvoMessage?.length} GuestName= {convo?.host?.userName} Points= {convo?.tip} />\n                                                        }\n                                                    {/* {popChatBox && \n                                                        <ContactMod setpopChatBox={setpopChatBox} convoId={convo?._id} guest?={host?} host?={guest?}/>\n                                                    }   */}\n                                                </div> \n                                            )\n                                        \n                                    }\n                                \n                                }\n                            )\n                            }\n                            </> \n                        }\n                        {convoState === \"NoConvo\" &&\n                        <>\n                        \n                                <div> \n                                        <div className=\"Relative items-center space-x-2 mt-0.5 p-2 text-gray-500  rounded-l-full rounded-tr-full shadow-xl cursor-pointer  text-xs \">\n                                            <p className= \"inline-flex font-bold  text-gray-500\">No Convos Yet</p>\n                                        </div>\n                                </div>\n                        \n                        </> \n                        }\n                        {convoState === \"SearchingConvo\" &&\n                        <>\n                        \n                                    \n                                    <div> \n                                        <div className=\"Relative items-center space-x-2 mt-0.5 p-2 text-gray-500  rounded-l-full rounded-tr-full shadow-xl cursor-pointer  text-xs \">\n                                            {/* <p className= \"inline-flex font-bold  text-gray-500\">Fetching</p> */}\n                                            <BeatLoader size={22} color='white' loading/>\n                                        </div>\n                                </div>\n\n                        </> \n                        }\n\n                    </div> \n            </div>\n        </div>\n    </animated.div>\n            )}\n    </Spring>\n);\n}\nexport default RightbarMob;"]},"metadata":{},"sourceType":"module"}