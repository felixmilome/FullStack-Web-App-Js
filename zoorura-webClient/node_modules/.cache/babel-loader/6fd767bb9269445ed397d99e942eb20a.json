{"ast":null,"code":"var _jsxFileName = \"/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Sidebars/RightbarMob.jsx\",\n    _s = $RefreshSig$();\n\nimport RightbarmobRow from './RightbarmobRow.jsx';\nimport ContactMod from '../Modals/ContactMod.jsx';\nimport { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux'; //import { UserIcon } from '@heroicons/react/outline';\n\nimport { BeatLoader } from \"react-spinners\";\nimport { getMessagesAction } from \"../Midwares/rdx/actions/messagesAction.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RightbarMob({\n  user,\n  setpopContacts\n}) {\n  _s();\n\n  const [popChatBox, setpopChatBox] = useState(false);\n  const [displayed, setDisplayed] = useState(null);\n  const [viewer, setViewer] = useState(null);\n  const [convoId, setConvoId] = useState(null);\n  const convos = useSelector(state => state.convosReducer);\n\n  const chatSetterDirect = (guestData, hostData, idConvo) => {\n    setDisplayed(guestData);\n    setViewer(hostData);\n    setConvoId(idConvo);\n    getMessagesAction(idConvo);\n  };\n\n  const chatSetterInverse = (guestData, hostData, idConvo) => {\n    setDisplayed(hostData);\n    setViewer(guestData);\n    setConvoId(idConvo);\n    getMessagesAction(idConvo);\n  };\n\n  const notifications = useSelector(state => state.notificationsReducer);\n  const unreadMessages = notifications.filter(notification => notification.read === false && notification.type === 'message');\n  console.log(unreadMessages);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" p-7 w-full sm:w-1/4 m-x-4 bg-gray-200 z-10 fixed right-0 top-24 sm:top-20 h-screen overflow-y-auto overflow-x-hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-scroll\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-1 font-bold text-gray-500 p-1\",\n        children: \"Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-60\",\n        children: [popChatBox && /*#__PURE__*/_jsxDEV(ContactMod, {\n          setpopChatBox: setpopChatBox,\n          convoId: convoId,\n          displayed: displayed,\n          viewer: viewer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), convos.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: convos.map(convo => {\n            const unreadConvoMessage = unreadMessages.filter(unreadMessage => unreadMessage.receiver._id === user.result._id);\n            console.log(unreadConvoMessage);\n\n            if (convo.host._id === user.result._id) {\n              return (\n                /*#__PURE__*/\n                //X--DISPLAY (THEM)GUEST: THEY ARE GUEST \n                _jsxDEV(\"div\", {\n                  onClick: () => {\n                    chatSetterDirect(convo.guest, convo.host, convo._id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                    popChatBox: popChatBox,\n                    setpopChatBox: setpopChatBox,\n                    Src: convo.guest.dpUrl,\n                    title: unreadConvoMessage.length,\n                    GuestName: convo.guest.userName,\n                    Points: convo.tip\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 45\n                  }, this)\n                }, convo._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 41\n                }, this)\n              );\n            }\n\n            if (convo.host._id !== user.result._id) {\n              // const guest = JSON.stringify(convo.host);\n              // const host = JSON.stringify(convo.guest);\n              // const guest = convo.guest;\n              return (\n                /*#__PURE__*/\n                //Y--DISPLAY (THEM)HOST: THEY ARE HOST \n                _jsxDEV(\"div\", {\n                  onClick: () => {\n                    chatSetterInverse(convo.guest, convo.host, convo._id);\n                  },\n                  children: [unreadConvoMessage.length && /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                    popChatBox: popChatBox,\n                    setpopChatBox: setpopChatBox,\n                    Src: convo.host.dpUrl,\n                    title: `${unreadConvoMessage.length} Unread`,\n                    GuestName: convo.host.userName,\n                    Points: convo.tip\n                  }, convo._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 57\n                  }, this), unreadConvoMessage.length === 0 && /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n                    popChatBox: popChatBox,\n                    setpopChatBox: setpopChatBox,\n                    Src: convo.host.dpUrl,\n                    GuestName: convo.host.userName,\n                    Points: convo.tip\n                  }, convo._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 57\n                  }, this)]\n                }, convo._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 41\n                }, this)\n              );\n            }\n          })\n        }, void 0, false), convos == \"NO_CONVO\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n            popChatBox: popChatBox,\n            setpopChatBox: setpopChatBox,\n            title: \"NO CONVOS FOUND\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this)\n        }, void 0, false), !convos.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(BeatLoader, {\n            size: 24,\n            color: \"white\",\n            loading: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(RightbarmobRow, {\n            popChatBox: popChatBox,\n            setpopChatBox: setpopChatBox,\n            title: \"Fetchincg Convos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RightbarMob, \"d4m8g0V0V58xd9Jo7rWHy2gxvnM=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = RightbarMob;\nexport default RightbarMob;\n\nvar _c;\n\n$RefreshReg$(_c, \"RightbarMob\");","map":{"version":3,"sources":["/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Sidebars/RightbarMob.jsx"],"names":["RightbarmobRow","ContactMod","useState","useEffect","useSelector","BeatLoader","getMessagesAction","RightbarMob","user","setpopContacts","popChatBox","setpopChatBox","displayed","setDisplayed","viewer","setViewer","convoId","setConvoId","convos","state","convosReducer","chatSetterDirect","guestData","hostData","idConvo","chatSetterInverse","notifications","notificationsReducer","unreadMessages","filter","notification","read","type","console","log","length","map","convo","unreadConvoMessage","unreadMessage","receiver","_id","result","host","guest","dpUrl","userName","tip"],"mappings":"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","sourcesContent":["import RightbarmobRow from './RightbarmobRow.jsx';\nimport ContactMod from '../Modals/ContactMod.jsx';\nimport { useState, useEffect } from 'react';\nimport {useSelector} from 'react-redux';\n//import { UserIcon } from '@heroicons/react/outline';\nimport {BeatLoader} from \"react-spinners\";\nimport{getMessagesAction} from \"../Midwares/rdx/actions/messagesAction.js\"\n\n\nfunction RightbarMob({user, setpopContacts}){\n\n    const[popChatBox, setpopChatBox] = useState(false);\n    const[displayed, setDisplayed] = useState(null);\n    const[viewer, setViewer] = useState(null);\n    const[convoId, setConvoId] = useState(null);\n    const convos = useSelector((state) => state.convosReducer);\n\n\nconst chatSetterDirect = (guestData, hostData, idConvo) =>{\n    setDisplayed(guestData);\n    setViewer(hostData);\n    setConvoId(idConvo);\n    getMessagesAction(idConvo);\n  \n}\nconst chatSetterInverse = (guestData, hostData, idConvo) =>{\n    setDisplayed(hostData);\n    setViewer(guestData);\n    setConvoId(idConvo);\n    getMessagesAction(idConvo);\n  \n}\n\nconst notifications = useSelector((state) => state.notificationsReducer);\nconst unreadMessages = notifications.filter(notification => notification.read === false && notification.type ==='message');\nconsole.log(unreadMessages);\n\nreturn (\n    \n    <div className=\" p-7 w-full sm:w-1/4 m-x-4 bg-gray-200 z-10 fixed right-0 top-24 sm:top-20 h-screen overflow-y-auto overflow-x-hidden\">\n        <div className=\"overflow-scroll\">\n\n        <div className=\"ml-1 font-bold text-gray-500 p-1\">\n        Contacts\n        </div>\n          \n            {/* Contacts People */}\n            <div className=\"mb-60\">\n\n            {popChatBox && \n                <ContactMod setpopChatBox={setpopChatBox} convoId={convoId} displayed={displayed} viewer={viewer}/>\n            }  \n              \n               {convos.length &&\n                <>\n                    {\n                        convos.map((convo) => {\n\n                            const unreadConvoMessage = unreadMessages.filter(unreadMessage => unreadMessage.receiver._id === user.result._id);\n                            console.log(unreadConvoMessage);\n                            if (convo.host._id === user.result._id){\n                              \n                                    return (    //X--DISPLAY (THEM)GUEST: THEY ARE GUEST \n                                        <div key={convo._id}\n\n                                            onClick ={()=>{\n                                            chatSetterDirect(convo.guest, convo.host, convo._id)\n                                            }} >\n\n                                            <RightbarmobRow popChatBox={popChatBox}  setpopChatBox={setpopChatBox} \n                                            Src = {convo.guest.dpUrl} title ={unreadConvoMessage.length}  GuestName= {convo.guest.userName} Points= {convo.tip} /> \n                                           \n                                            {/* {popChatBox && \n                                                <ContactMod setpopChatBox={setpopChatBox} convoId={convo._id} guest={JSON.parse(guest)} host={JSON.parse(host)}/>\n                                            }   */}\n                                        </div> \n                                    )\n                                }\n                                \n                                \n                            if (convo.host._id !== user.result._id) {\n                                \n                                // const guest = JSON.stringify(convo.host);\n                                // const host = JSON.stringify(convo.guest);\n                                // const guest = convo.guest;\n\n                                    return ( //Y--DISPLAY (THEM)HOST: THEY ARE HOST \n                                        <div key={convo._id} \n                                        \n                                            onClick ={()=>{\n                                                chatSetterInverse(convo.guest, convo.host, convo._id)\n                                            }\n                                            }>\n                                                {unreadConvoMessage.length &&\n                                                        <RightbarmobRow key={convo._id} popChatBox={popChatBox} setpopChatBox={setpopChatBox} \n                                                         Src = {convo.host.dpUrl} title ={`${unreadConvoMessage.length} Unread`}  GuestName= {convo.host.userName} Points= {convo.tip} />\n                                                }\n                                                {unreadConvoMessage.length === 0 &&\n                                                        <RightbarmobRow key={convo._id} popChatBox={popChatBox} setpopChatBox={setpopChatBox} \n                                                        Src = {convo.host.dpUrl}  GuestName= {convo.host.userName} Points= {convo.tip} />\n                                                }\n                                            {/* {popChatBox && \n                                                <ContactMod setpopChatBox={setpopChatBox} convoId={convo._id} guest={host} host={guest}/>\n                                            }   */}\n                                        </div> \n                                    )\n                                \n                            }\n                        }\n                    )\n                    }\n                    </> \n                }\n                {convos == \"NO_CONVO\" &&\n                <>\n                  \n                            <RightbarmobRow popChatBox={popChatBox}   setpopChatBox={setpopChatBox} title =\"NO CONVOS FOUND\"/>\n                 \n                </> \n                }\n                {!convos.length &&\n                <>\n                  \n                            <BeatLoader size={24} color='white' loading/>\n                            <RightbarmobRow  popChatBox={popChatBox}  setpopChatBox={setpopChatBox}  title =\"Fetchincg Convos\" />\n\n                </> \n                }\n\n            </div> \n    </div>\n</div>\n);\n}\nexport default RightbarMob;"]},"metadata":{},"sourceType":"module"}