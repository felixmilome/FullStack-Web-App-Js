{"ast":null,"code":"var _jsxFileName = \"/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Modals/ContactMod.jsx\",\n    _s = $RefreshSig$();\n\nimport { PhoneIcon, VideoCameraIcon, XCircleIcon } from \"@heroicons/react/outline\";\nimport ReceivedBubble from \"./ReceivedBubble.jsx\";\nimport SentBubble from \"./SentBubble.jsx\";\nimport { BeatLoader } from \"react-spinners\";\nimport { BsFileEarmarkImageFill } from 'react-icons/bs';\nimport { MdLibraryMusic, MdVideoLibrary } from 'react-icons/md';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { MdSend } from \"react-icons/md\";\nimport { useState, useRef, useEffect } from 'react';\nimport { postMessagesAction, getMessagesAction } from '../Midwares/rdx/actions/messagesAction.js';\nimport { postNotificationsAction } from '../Midwares/rdx/actions/notificationsAction.js';\nimport { BsFillEmojiLaughingFill } from 'react-icons/bs';\nimport { PicForm, AudioForm, VideoForm } from \"../Body/PostForms/Previews.jsx\";\nimport { storage } from \"../Midwares/firebase/config\";\nimport { ref, getDownloadURL, uploadBytesResumable } from '@firebase/storage';\nimport { SurePop } from \"../Body/SurePop.jsx\";\nimport { readConvoNotificationsAction } from \"../Midwares/rdx/actions/notificationsAction.js\";\nimport Picker from 'emoji-picker-react';\nimport { Link } from 'react-router-dom';\nimport { Spring, animated } from 'react-spring';\nimport Peer from 'simple-peer';\nimport { CallPair } from './CallPair'; //Search Area: textarea delete\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ContactMod({\n  setpopChatBox,\n  convoId,\n  displayed,\n  viewer\n}) {\n  _s();\n\n  const [messageData, setmessageData] = useState({\n    convoId: convoId,\n    senderId: viewer._id,\n    receiverId: displayed._id,\n    body: '',\n    file: '',\n    type: ''\n  });\n  const [online, setOnline] = useState(false);\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [checkData, setCheckData] = useState({\n    checkedId: displayed._id,\n    checkerId: viewer._id\n  });\n  const [typingMessageData, setTypingMessageData] = useState({\n    convoId: convoId,\n    senderId: viewer._id,\n    receiverId: displayed._id\n  });\n  const [notificationData, setnotificationData] = useState({\n    sender: viewer._id,\n    receiver: displayed._id,\n    body: '',\n    postId: convoId,\n    type: ''\n  });\n  const [socketNotificationData, setsocketNotificationData] = useState({\n    sender: {\n      _id: viewer._id,\n      dpUrl: viewer.dpUrl,\n      userName: viewer.userName\n    },\n    receiver: displayed._id,\n    body: '',\n    postId: convoId,\n    type: ''\n  });\n  const [typingNotifier, setTypingNotifier] = useState(false);\n  const [fileData, setFileData] = useState('');\n  const [imageBlob, setImageBlob] = useState('');\n  const [contactViewed, setContactViewed] = useState(false);\n  const [chosenEmoji, setChosenEmoji] = useState(null);\n  const [emojiBox, setEmojiBox] = useState(false);\n  const [callAccepted, setCallAccepted] = useState(false); // const[socketCallerData, setsocketCallerData] = useState({sender:{_id:viewer._id, dpUrl:viewer.dpUrl, userName:viewer.userName}, receiver:displayed._id, signal:'',postId:convoId, type: ''});\n\n  const [stream, setStream] = useState();\n  const [receivingCall, setReceivingCall] = useState(false);\n  const [caller, setCaller] = useState('');\n  const [callerSignal, setCallerSignal] = useState();\n  const [idToCall, setIdToCall] = useState('');\n  const [callEnded, setCallEnded] = useState(false);\n  const [name, setCaName] = useState('');\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n  const dispatch = useDispatch();\n  console.log(displayed);\n  const socket = useSelector(state => state.socketReducer);\n  const messagesAll = useSelector(state => state.messagesReducer);\n  const openedChats = useSelector(state => state.messagesOpenedReducer);\n  const thisOpenedChat = openedChats.filter(openedChat => (openedChat === null || openedChat === void 0 ? void 0 : openedChat.id) === convoId && openedChat.opened === true);\n  console.log(openedChats);\n  const allNotifications = useSelector(state => state.notificationsReducer);\n  const unreadConvoNotifications = allNotifications.filter(notification => notification.postId === convoId);\n  console.log(unreadConvoNotifications);\n  useEffect(() => {\n    if (!thisOpenedChat.length) {\n      dispatch(getMessagesAction(convoId));\n      const thisOpenedObj = {\n        id: convoId,\n        opened: true\n      };\n      dispatch({\n        type: 'MESSAGES_OPENED',\n        payload: thisOpenedObj\n      }); // for getting messages  \n    }\n  }, []);\n\n  const onEmojiClick = (event, emojiObject) => {\n    setChosenEmoji(emojiObject);\n    setmessageData({ ...messageData,\n      body: messageData.body + emojiObject.emoji + ' '\n    });\n  };\n\n  useEffect(() => {\n    if (unreadConvoNotifications.length > 0) {\n      dispatch(readConvoNotificationsAction(convoId));\n    }\n  }, [unreadConvoNotifications]);\n  console.log(user.result.blockers); //const messages = useSelector((state) => state.messagesReducer);\n\n  const messages = messagesAll.filter(message => message.convoId === convoId);\n  console.log(messages);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView();\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]); // useEffect(() => {\n  //     socket.current.on(\"getMessage\", messageData =>{\n  //         console.log(messageData);\n  //         console.log(\"Message Gotten\");\n  //         dispatch ({type: 'SOCKET_GOT_MESSAGE', payload: messageData});\n  //         console.log(messages);\n  //     })\n  // }, []);\n  //Calls\n  // const SocketObjConstructor \n  // Use Header to call so that one can multitask. Eg let redux send an initiator\n  // const callUser =() => {\n  //     console.log('userCalled')\n  //     const peer = new Peer ({\n  //         initiator: true,\n  //         trickle: false,\n  //         stream: stream\n  //     }) \n  //     peer.on(\"signal\", (data) => {\n  //         const socketCallerData = {sender:{_id:viewer._id, dpUrl:viewer.dpUrl, userName:viewer.userName}, receiverId:displayed._id, signal:data, postId:'', type: ''}\n  //         socket.current.emit (\"callUser\", {\n  //             socketCallerData\n  //         })\n  //     })\n  //     peer.on(\"stream\", (stream) => {\n  //       userVideo.current.srcObject = stream\n  //     })\n  //     peer.on(\"callAccepted\", (signal) => {\n  //        setCallAccepted(true)\n  //        peer.signal(signal)\n  //       }) \n  //     connectionRef.current = peer\n  // }\n\n  const callUser = () => {\n    const payloadObj = {\n      state: 'calling',\n      calledId: displayed\n    };\n    dispatch({\n      type: 'CALLING_SOMEONE',\n      payload: payloadObj\n    });\n  };\n\n  const leaveCall = () => {\n    setCallEnded(true);\n    connectionRef.current.destroy();\n  }; //Check online Socket\n\n\n  useEffect(() => {\n    socket.current.emit(\"checkUserOnline\", {\n      checkData\n    });\n  }, []); //   var intervalId = \n\n  setInterval(function () {\n    socket.current.emit(\"checkUserOnline\", {\n      checkData\n    });\n  }, 120000);\n  useEffect(() => {\n    socket.current.on(\"checkedUserOnline\", checkDataResponse => {\n      console.log(checkDataResponse);\n      console.log(\"User Online\");\n\n      if (checkDataResponse.checkedId === displayed._id) {\n        setOnline(true);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    socket.current.on(\"checkedUserOffline\", checkDataResponse => {\n      console.log(checkDataResponse);\n      console.log(\"User Offline\");\n\n      if (checkDataResponse.checkedId === displayed._id) {\n        setOnline(false);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    socket.current.on(\"getTypingMessage\", typingMessageData => {\n      console.log(typingMessageData);\n      console.log(\"Typing Message Gotten\");\n\n      if (typingMessageData.convoId === convoId && typingNotifier == false) {\n        setTypingNotifier(true);\n        setTimeout(function () {\n          setTypingNotifier(false);\n        }, 5000);\n      }\n    });\n  }, []);\n\n  function readFile(file, type) {\n    // //BLOB------\n    setFileData(file);\n    setmessageData({ ...messageData,\n      type: type\n    });\n\n    if (file) {\n      setImageBlob(URL.createObjectURL(file));\n    }\n\n    console.log(imageBlob);\n  }\n\n  function getCodec() {\n    // return Math.floor(Math.random() * 969696);\n    return Math.floor(Math.random() * 1e9).toString(32);\n  }\n\n  ;\n\n  const uploadFile = async image => {\n    setLoading(true);\n    if (!image) return;\n    const uploadDate = Date.now();\n    const fileOwner = viewer._id;\n    const fileType = messageData.type;\n    const codec = getCodec();\n    const storageRef = ref(storage, `/chatFiles/${fileType}-${uploadDate}-${fileOwner}`);\n    const uploadTask = uploadBytesResumable(storageRef, image);\n    uploadTask.on(\"state-changed\", snapshot => {\n      const prog = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      setProgress(prog);\n    }, err => console.log(err), () => {\n      getDownloadURL(uploadTask.snapshot.ref).then(url => {\n        //setmessageData({...messageData, file: url});\n        sendFile(url);\n        console.log(url);\n      });\n    });\n  };\n\n  const sendMessage = () => {\n    console.log(messageData);\n    setLoading(true);\n    setProgress(90);\n    dispatch(postMessagesAction(messageData, socket, setLoading, setProgress, setmessageData));\n    setContactViewed(true);\n    setEmojiBox(false); // setmessageData({...messageData, body: '', type:''});\n  };\n\n  const sendFile = url => {\n    setLoading(true);\n    const messageDataObj = {\n      convoId: messageData.convoId,\n      senderId: messageData.senderId,\n      receiverId: messageData.receiverId,\n      body: '',\n      file: url,\n      type: messageData.type\n    };\n    dispatch(postMessagesAction(messageDataObj, socket, setLoading, setProgress, setmessageData));\n    console.log(messageDataObj);\n    setContactViewed(true);\n    setEmojiBox(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Spring, {\n      from: {\n        opacity: 0\n      },\n      to: {\n        opacity: 1\n      },\n      children: styles => /*#__PURE__*/_jsxDEV(animated.div, {\n        style: styles,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"z-20 rounded-md  fixed z-50 top-0 xl:top-20 xl:bottom-0 right-0 xl:right-2 m-auto w-full xl:w-1/4  bg-gray-200 dark:bg-gray-900\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed z-20  border-b dark:border-b rounded-t-md dark:border-gray-700 border-gray-200 bg-gray-100 dark:bg-gray-900 p-1 w-full xl:w-1/4  flex   justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                wordBreak: 'break-word'\n              },\n              className: \"flex items-center space-x-2 bg-transparent justify-around  p-0.5 px-2 rounded-full  text-xs font-bold  text-gray-500 dark:text-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: displayed.dpUrl,\n                  alt: \"DP\",\n                  className: \"rounded-full object-cover h-8 w-8 m-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 25\n                }, this), online === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-0 right-0 w-3 h-3 justify-center text-white items-center p-1 rounded-full border-2 border-white bg-cyan-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 45\n                }, this), online === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-0 right-0 w-3 h-3 justify-center text-white items-center p-1 rounded-full border-2 border-white dark:border-gray-900 bg-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"items-center \",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"@\", displayed.userName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), typingNotifier && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-cyan-500\",\n                  children: \"Typing...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-1 space-x-2 sm:space-x-2 bg-transparent flex items-center justify-around\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hover:bg-cyan-400 p-1 rounded-full cursor-pointer group\",\n                children: /*#__PURE__*/_jsxDEV(VideoCameraIcon, {\n                  className: \"h-6 w-6 group-hover:text-white text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: callUser,\n                className: \"hover:bg-cyan-400 p-1 rounded-full cursor-pointer group\",\n                children: /*#__PURE__*/_jsxDEV(PhoneIcon, {\n                  className: \"h-6 w-6 group-hover:text-white text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: e => setpopChatBox(false),\n                className: \"hover:bg-gray-300 dark:hover:bg-gray-700 p-1 rounded-full cursor-pointer group\",\n                children: /*#__PURE__*/_jsxDEV(XCircleIcon, {\n                  className: \"h-6 w-6 group-hover:text-white text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pb-48 lg:pb-64 mt-12 max-h-screen min-h-screen w-full overflow-y-scroll\",\n            children: [messages.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [messages.map(message => {\n                if (viewer._id === message.senderId) {\n                  //BELONGS TO ME(VIEWER)\n                  return /*#__PURE__*/_jsxDEV(SentBubble, {\n                    message: message,\n                    SentMessage: message.body,\n                    File: message.file,\n                    viewer: viewer,\n                    Type: message.type\n                  }, message._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 41\n                  }, this);\n                }\n\n                if (displayed._id === message.senderId) {\n                  //BELONGS TO THEM(DISPLAYED) \n                  return /*#__PURE__*/_jsxDEV(ReceivedBubble, {\n                    contactViewed: contactViewed,\n                    setContactViewed: setContactViewed,\n                    message: message,\n                    ReceivedMessage: message.body,\n                    File: message.file,\n                    displayed: displayed,\n                    Type: message.type\n                  }, message._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 41\n                  }, this);\n                }\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full  bg-transparent text-xs font-light text-gray-400 flex justify-center\",\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start p-5\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(BeatLoader, {\n                  size: 15,\n                  color: \"white\",\n                  loading: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-400\",\n                  children: \"fetching messages..\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full items-center\",\n              children: [loading === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full text-gray-400 text-sm space-x-2 flex justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(BeatLoader, {\n                  size: 6,\n                  color: \"gray\",\n                  loading: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [progress, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 33\n              }, this), !displayed.blocked.includes(user.result._id) && !displayed.blockers.includes(user.result._id) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" w-full px-1 sm:w-1/2 lg:w-1/4 fixed bottom-0 z-50 py-2 bg-gray-200 dark:bg-gray-900  right-0 sm:right-2 mt-6\",\n                children: [messageData.type !== 'image' && messageData.type !== 'video' && messageData.type !== 'audio' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-center  w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            m-1 p-1 rounded-full items-center flex bg-cyan-400 w-full`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            p-2 bg-gray-100 dark:bg-gray-800 rounded-xl w-full`,\n                      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        value: messageData.body,\n                        onChange: e => {\n                          socket.current.emit(\"sendTypingMessage\", {\n                            typingMessageData\n                          });\n                          setmessageData({ ...messageData,\n                            body: e.target.value,\n                            type: 'text'\n                          });\n                        },\n                        type: \"text\",\n                        placeholder: \"Type Message Here...\",\n                        className: `${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            resize-none h-full w-full m-auto text-gray-700 dark:text-gray-300 font-medium outline-none bg-gray-100 dark:bg-gray-800 text-sm rounded`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 512,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex p-1 items-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => setEmojiBox(!emojiBox),\n                        className: \"w-max text-left text-cyan-400 bg-gray-100 dark:bg-gray-800 dark:hover:bg-black hover:bg-gray-800 rounded-full p-1\",\n                        children: /*#__PURE__*/_jsxDEV(BsFillEmojiLaughingFill, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 532,\n                          columnNumber: 73\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 45\n                  }, this), messageData.body.length > 0 && loading === false && messageData.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-center p-3 text-xs font-bold text-gray-400 \",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex rounded-full items-center justify-center space-x-1 \",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: sendMessage,\n                        className: \"bg-cyan-400 rounded-full p-2\",\n                        children: /*#__PURE__*/_jsxDEV(MdSend, {\n                          className: \"text-gray-100 text-white h-6 w-6 \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 546,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 545,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 49\n                  }, this), loading === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-center text-xs font-bold text-gray-400 \",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex rounded-full items-center justify-center space-x-1 \",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-cyan-400 rounded-full \",\n                        children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n                          size: 6,\n                          color: \"white\",\n                          loading: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 560,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 559,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 65\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" pt-2  text-gray-400 dark:text-gray-300 m-auto  items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full p-4\",\n                    children: [imageBlob.length > 0 && messageData.type === 'image' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pt-3 w-full h-full h-8 flex justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-center\",\n                          children: /*#__PURE__*/_jsxDEV(PicForm, {\n                            Url: imageBlob\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 579,\n                            columnNumber: 74\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 578,\n                          columnNumber: 73\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-around\",\n                          children: [loading === false && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              onClick: () => uploadFile(fileData),\n                              className: \"bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2\",\n                              children: /*#__PURE__*/_jsxDEV(MdSend, {\n                                className: \"text-gray-100 text-white h-5 w-5 \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 586,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 585,\n                              columnNumber: 81\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              onClick: () => {\n                                // setImageBlob('');\n                                // setFileData('');\n                                setmessageData({ ...messageData,\n                                  type: ''\n                                });\n                              },\n                              className: \"bg-gray-100 my-3 hover:bg-red-400 rounded-full p-2 group\",\n                              children: /*#__PURE__*/_jsxDEV(XCircleIcon, {\n                                className: \"text-gray-400 group-hover:text-white h-5 w-5 \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 594,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 589,\n                              columnNumber: 81\n                            }, this)]\n                          }, void 0, true), loading === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-center text-xs font-bold text-gray-400 \",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex rounded-full items-center justify-center space-x-1 \",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"bg-cyan-400 rounded-full \",\n                                children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n                                  size: 6,\n                                  color: \"white\",\n                                  loading: true\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 605,\n                                  columnNumber: 81\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 604,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 602,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 600,\n                            columnNumber: 77\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 581,\n                          columnNumber: 73\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 57\n                    }, this), imageBlob.length > 0 && messageData.type === 'audio' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pt-3 w-full h-full h-8 flex justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \" font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-center\",\n                          children: /*#__PURE__*/_jsxDEV(AudioForm, {\n                            Url: imageBlob,\n                            DP: viewer.dpUrl\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 619,\n                            columnNumber: 66\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 618,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-around\",\n                          children: [loading === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                            onClick: () => uploadFile(fileData),\n                            className: \"bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2\",\n                            children: /*#__PURE__*/_jsxDEV(MdSend, {\n                              className: \"text-gray-100 text-white h-5 w-5 \"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 624,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 623,\n                            columnNumber: 94\n                          }, this), loading === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-center text-xs font-bold text-gray-400 \",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex rounded-full items-center justify-center space-x-1 \",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"bg-cyan-400 rounded-full \",\n                                children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n                                  size: 6,\n                                  color: \"white\",\n                                  loading: true\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 633,\n                                  columnNumber: 81\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 632,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 630,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 628,\n                            columnNumber: 77\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            onClick: () => {\n                              // setImageBlob('');\n                              // setFileData('');\n                              setmessageData({ ...messageData,\n                                type: ''\n                              });\n                            },\n                            className: \"bg-gray-100 dark:bg-gray-800 my-3 hover:bg-red-400 rounded-full p-2 group\",\n                            children: /*#__PURE__*/_jsxDEV(XCircleIcon, {\n                              className: \"text-gray-300 group-hover:text-white h-5 w-5 \"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 646,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 641,\n                            columnNumber: 77\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 622,\n                          columnNumber: 73\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 617,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 57\n                    }, this), imageBlob.length > 0 && messageData.type === 'video' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pt-3 w-full h-full h-8 flex justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 \",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-center\",\n                          children: /*#__PURE__*/_jsxDEV(VideoForm, {\n                            Url: imageBlob\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 657,\n                            columnNumber: 69\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 656,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-around\",\n                          children: [loading === false && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              onClick: () => uploadFile(fileData),\n                              className: \"bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2\",\n                              children: /*#__PURE__*/_jsxDEV(MdSend, {\n                                className: \"text-gray-100 text-white h-5 w-5 \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 663,\n                                columnNumber: 89\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 662,\n                              columnNumber: 85\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              onClick: () => {\n                                // setImageBlob('');\n                                // setFileData('');\n                                setmessageData({ ...messageData,\n                                  type: ''\n                                });\n                              },\n                              className: \"bg-gray-100 my-3 hover:bg-red-400 rounded-full p-2 group\",\n                              children: /*#__PURE__*/_jsxDEV(XCircleIcon, {\n                                className: \"text-gray-300 group-hover:text-white h-5 w-5 \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 671,\n                                columnNumber: 89\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 666,\n                              columnNumber: 85\n                            }, this)]\n                          }, void 0, true), loading === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-center text-xs font-bold text-gray-400 \",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex rounded-full items-center justify-center space-x-1 \",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"bg-cyan-400 rounded-full \",\n                                children: /*#__PURE__*/_jsxDEV(BeatLoader, {\n                                  size: 6,\n                                  color: \"white\",\n                                  loading: true\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 682,\n                                  columnNumber: 81\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 681,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 679,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 677,\n                            columnNumber: 77\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 659,\n                          columnNumber: 73\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 655,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-around \",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: e => readFile(e.target.files[0], 'image'),\n                      className: \"hidden\",\n                      id: \"ImageUpload\",\n                      type: \"file\",\n                      accept: \"image/png, image/jpeg, image/jpg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 695,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: e => readFile(e.target.files[0], 'audio'),\n                      className: \"hidden\",\n                      id: \"AudioUpload\",\n                      type: \"file\",\n                      accept: \"audio/mpeg, audio/mp3, audio/wav, audio/ogg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 698,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: e => readFile(e.target.files[0], 'video'),\n                      className: \"hidden\",\n                      id: \"VideoUpload\",\n                      type: \"file\",\n                      accept: \"video/ogg, video/mp4, video/webm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 701,\n                      columnNumber: 49\n                    }, this), messageData.body.length < 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"ImageUpload\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `flex hover:text-cyan-500 cursor-pointer justify-center items-center  items-center`,\n                          children: /*#__PURE__*/_jsxDEV(BsFileEarmarkImageFill, {\n                            size: 20\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 707,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 706,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"AudioUpload\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `flex  ${messageData.type === 'audio' && `text-cyan-400`} hover:text-cyan-500 cursor-pointer justify-center items-center items-center`,\n                          children: /*#__PURE__*/_jsxDEV(MdLibraryMusic, {\n                            size: 20\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 713,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 712,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 711,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"VideoUpload\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `flex  ${messageData.type === 'video' && `text-cyan-400`} hover:text-cyan-500 cursor-pointer justify-center items-center  items-center`,\n                          children: /*#__PURE__*/_jsxDEV(MdVideoLibrary, {\n                            size: 20\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 719,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 718,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 717,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 694,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 41\n                }, this), emojiBox && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex m-2 p-2 rounded-md justify-center bg-gray-300 dark:bg-gray-800\",\n                  children: /*#__PURE__*/_jsxDEV(Picker, {\n                    className: \"bg-gray-300 \",\n                    onEmojiClick: onEmojiClick\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 731,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ContactMod, \"vDdSI6LBB9j7LmkA0xeWnnUPXZ4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ContactMod;\nexport default ContactMod;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactMod\");","map":{"version":3,"sources":["/Users/Zoorura/Documents/Projects/Zoorura/zoorura-webClient/src/components/Modals/ContactMod.jsx"],"names":["PhoneIcon","VideoCameraIcon","XCircleIcon","ReceivedBubble","SentBubble","BeatLoader","BsFileEarmarkImageFill","MdLibraryMusic","MdVideoLibrary","useSelector","useDispatch","MdSend","useState","useRef","useEffect","postMessagesAction","getMessagesAction","postNotificationsAction","BsFillEmojiLaughingFill","PicForm","AudioForm","VideoForm","storage","ref","getDownloadURL","uploadBytesResumable","SurePop","readConvoNotificationsAction","Picker","Link","Spring","animated","Peer","CallPair","ContactMod","setpopChatBox","convoId","displayed","viewer","messageData","setmessageData","senderId","_id","receiverId","body","file","type","online","setOnline","user","JSON","parse","localStorage","getItem","loading","setLoading","progress","setProgress","checkData","setCheckData","checkedId","checkerId","typingMessageData","setTypingMessageData","notificationData","setnotificationData","sender","receiver","postId","socketNotificationData","setsocketNotificationData","dpUrl","userName","typingNotifier","setTypingNotifier","fileData","setFileData","imageBlob","setImageBlob","contactViewed","setContactViewed","chosenEmoji","setChosenEmoji","emojiBox","setEmojiBox","callAccepted","setCallAccepted","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","idToCall","setIdToCall","callEnded","setCallEnded","name","setCaName","myVideo","userVideo","connectionRef","dispatch","console","log","socket","state","socketReducer","messagesAll","messagesReducer","openedChats","messagesOpenedReducer","thisOpenedChat","filter","openedChat","id","opened","allNotifications","notificationsReducer","unreadConvoNotifications","notification","length","thisOpenedObj","payload","onEmojiClick","event","emojiObject","emoji","result","blockers","messages","message","messagesEndRef","scrollToBottom","current","scrollIntoView","callUser","payloadObj","calledId","leaveCall","destroy","emit","setInterval","on","checkDataResponse","setTimeout","readFile","URL","createObjectURL","getCodec","Math","floor","random","toString","uploadFile","image","uploadDate","Date","now","fileOwner","fileType","codec","storageRef","uploadTask","snapshot","prog","round","bytesTransferred","totalBytes","err","then","url","sendFile","sendMessage","messageDataObj","opacity","styles","wordBreak","e","map","blocked","includes","target","value","files"],"mappings":"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","sourcesContent":["import { PhoneIcon, VideoCameraIcon, XCircleIcon } from \"@heroicons/react/outline\"\nimport ReceivedBubble from \"./ReceivedBubble.jsx\"\nimport SentBubble from \"./SentBubble.jsx\";\nimport {BeatLoader} from \"react-spinners\";\nimport{BsFileEarmarkImageFill} from 'react-icons/bs';\nimport{MdLibraryMusic, MdVideoLibrary} from 'react-icons/md';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { MdSend} from \"react-icons/md\";\nimport {useState, useRef, useEffect} from 'react';\nimport {postMessagesAction, getMessagesAction} from '../Midwares/rdx/actions/messagesAction.js';\nimport {postNotificationsAction} from '../Midwares/rdx/actions/notificationsAction.js';\nimport{BsFillEmojiLaughingFill} from 'react-icons/bs';\n\nimport {PicForm, AudioForm, VideoForm} from \"../Body/PostForms/Previews.jsx\";\n\nimport {storage} from \"../Midwares/firebase/config\";\nimport { ref, getDownloadURL, uploadBytesResumable } from '@firebase/storage';\nimport { SurePop } from \"../Body/SurePop.jsx\";\nimport{readConvoNotificationsAction} from \"../Midwares/rdx/actions/notificationsAction.js\" \nimport Picker from 'emoji-picker-react';\nimport {Link} from 'react-router-dom';\nimport { Spring, animated } from 'react-spring';\nimport Peer from 'simple-peer';\nimport {CallPair} from './CallPair'\n\n//Search Area: textarea delete\n\nfunction ContactMod({setpopChatBox, convoId, displayed, viewer}) {\n\n    const[messageData, setmessageData] = useState({convoId:convoId, senderId:viewer._id, receiverId:displayed._id, body:'', file:'', type:''});\n    const[online, setOnline] = useState(false);\n    const user = JSON.parse(localStorage.getItem('profile'));\n   \n    const[loading, setLoading] = useState(false);\n    const[progress,setProgress]= useState(0);\n    const[checkData, setCheckData] = useState({checkedId: displayed._id, checkerId: viewer._id});\n     const[typingMessageData, setTypingMessageData] = useState({convoId:convoId, senderId:viewer._id, receiverId:displayed._id});\n    const[notificationData, setnotificationData] = useState({sender:viewer._id, receiver:displayed._id, body:'', postId:convoId, type: ''});\n    const[socketNotificationData, setsocketNotificationData] = useState({sender:{_id:viewer._id, dpUrl:viewer.dpUrl, userName:viewer.userName}, receiver:displayed._id, body:'',postId:convoId, type: ''});\n     const[typingNotifier, setTypingNotifier] = useState(false);\n     const[fileData, setFileData] = useState('');\n     const[imageBlob, setImageBlob] = useState('');\n     const[contactViewed, setContactViewed] = useState(false);\n     const [chosenEmoji, setChosenEmoji] = useState(null);\n    const [emojiBox, setEmojiBox] = useState(false);\n    \n    const[callAccepted, setCallAccepted] = useState(false);\n   // const[socketCallerData, setsocketCallerData] = useState({sender:{_id:viewer._id, dpUrl:viewer.dpUrl, userName:viewer.userName}, receiver:displayed._id, signal:'',postId:convoId, type: ''});\n    const [stream, setStream] = useState()\n    const [receivingCall, setReceivingCall] =useState (false);\n    const [caller, setCaller] = useState ('');\n    const [callerSignal, setCallerSignal] = useState ();\n    const [idToCall, setIdToCall] = useState ('');\n    const [callEnded, setCallEnded] = useState (false); \n    const [name, setCaName] = useState ('');\n\n\n    const myVideo = useRef();\n     const userVideo = useRef();\n     const connectionRef = useRef();\n\n\n    const dispatch = useDispatch(); \n\n    console.log(displayed);\n \n   \n\n    const socket = useSelector((state) => state.socketReducer);\n\n    const messagesAll = useSelector((state) => state.messagesReducer);\n\n    const openedChats =  useSelector((state) => state.messagesOpenedReducer);\n\n    const thisOpenedChat = openedChats.filter(openedChat => openedChat?.id === convoId && openedChat.opened===true);\n    \n    console.log(openedChats);\n\n    const allNotifications = useSelector((state) => state.notificationsReducer);\n    \n    const unreadConvoNotifications = allNotifications.filter(notification => notification.postId === convoId );\n    console.log(unreadConvoNotifications);\n   \n    useEffect(() => { \n\n        if(!thisOpenedChat.length){\n\n            dispatch(getMessagesAction(convoId));\n            const thisOpenedObj = {id:convoId, opened: true}\n            dispatch ({type: 'MESSAGES_OPENED', payload: thisOpenedObj});  // for getting messages  \n             \n        } \n\n    }, []);\n\n    const onEmojiClick = (event, emojiObject) => {\n        \n        setChosenEmoji(emojiObject);\n        setmessageData({...messageData, body: messageData.body+emojiObject.emoji+' '})\n    };\n\n    useEffect(() => { \n\n        if(unreadConvoNotifications.length > 0){ \n            dispatch(readConvoNotificationsAction(convoId));\n        }\n     \n    }, [unreadConvoNotifications]); \n\n    console.log(user.result.blockers);\n    \n\n   \n\n    //const messages = useSelector((state) => state.messagesReducer);\n\n     const messages = messagesAll.filter(message => message.convoId === convoId);\n     console.log(messages);\n     \n\n    \n\n\n    const messagesEndRef = useRef(null)\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView();\n    }\n\n    useEffect(() => {\n        scrollToBottom() \n    }, [messages]);\n\n    // useEffect(() => {\n    //     socket.current.on(\"getMessage\", messageData =>{\n    //         console.log(messageData);\n    //         console.log(\"Message Gotten\");\n    //         dispatch ({type: 'SOCKET_GOT_MESSAGE', payload: messageData});\n    //         console.log(messages);\n\n    //     })\n    // }, []);\n    \n\n    //Calls\n\n   // const SocketObjConstructor \n\n\n\n    // Use Header to call so that one can multitask. Eg let redux send an initiator\n\n    // const callUser =() => {\n    //     console.log('userCalled')\n    //     const peer = new Peer ({\n    //         initiator: true,\n    //         trickle: false,\n    //         stream: stream\n    //     }) \n\n    //     peer.on(\"signal\", (data) => {\n    //         const socketCallerData = {sender:{_id:viewer._id, dpUrl:viewer.dpUrl, userName:viewer.userName}, receiverId:displayed._id, signal:data, postId:'', type: ''}\n    //         socket.current.emit (\"callUser\", {\n    //             socketCallerData\n    //         })\n    //     })\n    //     peer.on(\"stream\", (stream) => {\n    //       userVideo.current.srcObject = stream\n    //     })\n    //     peer.on(\"callAccepted\", (signal) => {\n    //        setCallAccepted(true)\n    //        peer.signal(signal)\n    //       }) \n\n    //     connectionRef.current = peer\n    // }\n\n    const callUser =()=>{\n\n        const payloadObj =  {state:'calling', calledId:displayed}\n        dispatch({type: 'CALLING_SOMEONE', payload:payloadObj})\n\n    }\n\n    const leaveCall =() => {\n        setCallEnded (true)\n        connectionRef.current.destroy()\n    }\n\n   \n   \n\n    \n    //Check online Socket\n     useEffect(() => {\n          socket.current.emit(\"checkUserOnline\", {\n           checkData\n        });\n      }, []);\n\n    //   var intervalId = \n      setInterval(function(){\n\n           socket.current.emit(\"checkUserOnline\", {\n           checkData\n        });\n        \n      }, 120000);\n\n      useEffect(() => {\n        socket.current.on(\"checkedUserOnline\", checkDataResponse =>{\n            console.log(checkDataResponse);\n            console.log(\"User Online\");\n\n            if (checkDataResponse.checkedId === displayed._id){\n              setOnline(true);\n            }\n\n        })\n    }, []);\n\n     useEffect(() => {\n        socket.current.on(\"checkedUserOffline\", checkDataResponse =>{\n            console.log(checkDataResponse);\n            console.log(\"User Offline\");\n\n            if (checkDataResponse.checkedId === displayed._id){\n              setOnline(false);\n            }\n\n        })\n    }, []);\n\n   \n    \n     useEffect(() => {\n        socket.current.on(\"getTypingMessage\", typingMessageData =>{\n            console.log(typingMessageData);\n            console.log(\"Typing Message Gotten\");\n\n            if(typingMessageData.convoId === convoId && typingNotifier== false ){\n                \n                setTypingNotifier(true);\n                setTimeout( function() {setTypingNotifier(false)}, 5000);\n                \n            }\n            \n            \n        }) \n    }, []);\n\n   \n\n    function readFile(file, type) {\n\n\n        // //BLOB------\n\n            setFileData(file);\n            setmessageData({...messageData, type:type});\n        \n            if(file){\n\n                setImageBlob(URL.createObjectURL(file));\n\n            }\n            console.log(imageBlob);\n          \n\n    }\n\n    function getCodec() {\n        // return Math.floor(Math.random() * 969696);\n         return Math.floor(Math.random()*1e9).toString(32);\n        };\n     \n\n    const uploadFile = async (image) =>{\n        \n        setLoading(true);\n        if (!image) return;\n        const uploadDate = Date.now(); \n        const fileOwner = viewer._id;\n        const fileType = messageData.type;\n        const codec = getCodec();\n\n        const storageRef = ref (storage, `/chatFiles/${fileType}-${uploadDate}-${fileOwner}`);\n        const uploadTask=uploadBytesResumable(storageRef,image);\n    \n        uploadTask.on(\"state-changed\", (snapshot)=>{\n            const prog = Math.round(\n                (snapshot.bytesTransferred/ snapshot.totalBytes)* 100\n                );\n            setProgress(prog);\n        },\n        (err) => console.log(err),\n        () => {\n        getDownloadURL(uploadTask.snapshot.ref).then((url)=> {\n        \n            //setmessageData({...messageData, file: url});\n            sendFile(url);\n            console.log(url);\n          \n            \n            })\n        }\n\n    );\n   \n    };\n\n    \n  \n    const sendMessage = () => { \n\n        \n        console.log(messageData); \n        setLoading(true);\n        setProgress(90)\n        dispatch(postMessagesAction(messageData, socket, setLoading, setProgress, setmessageData));\n       setContactViewed(true);\n       setEmojiBox(false);\n           \n       // setmessageData({...messageData, body: '', type:''});\n        \n       \n    }\n\n    const sendFile =(url) => {\n\n        setLoading(true);\n\n        const messageDataObj = {\n                convoId: messageData.convoId,\n                senderId: messageData.senderId,\n                receiverId: messageData.receiverId,\n                body:'',\n                file: url,\n                type:messageData.type,\n                };\n\n\n\n        dispatch(postMessagesAction(messageDataObj, socket, setLoading, setProgress, setmessageData));\n        console.log(messageDataObj);\n        setContactViewed(true);\n        setEmojiBox(false);\n        \n        \n\n\n    }\n\n    return (\n        <>\n   \n      \n      \n        <Spring\n        \n        from={\n            { opacity:0}\n        }\n        \n        to={\n          {opacity:1}\n        }>\n        {styles => (\n          <animated.div style={styles}>\n              \n\n        <div  className=\"z-20 rounded-md  fixed z-50 top-0 xl:top-20 xl:bottom-0 right-0 xl:right-2 m-auto w-full xl:w-1/4  bg-gray-200 dark:bg-gray-900\">\n            {/* Top Part */}\n            <div className=\"fixed z-20 \n            border-b dark:border-b rounded-t-md dark:border-gray-700 border-gray-200\n             bg-gray-100 dark:bg-gray-900 p-1\n             w-full xl:w-1/4  flex  \n             justify-between items-center\">\n                 \n                 \n\n                <div style={{wordBreak: 'break-word'}} className=\"flex items-center space-x-2\n                 bg-transparent justify-around \n                 p-0.5 px-2 rounded-full \n                 text-xs\n                  font-bold \n                   text-gray-500 dark:text-gray-300\">\n                    <div className='relative'>\n                        <img src={displayed.dpUrl} alt=\"DP\" className=\"rounded-full object-cover h-8 w-8 m-0.5\"/>    \n                         {online ===true && <div className= 'absolute top-0 right-0 w-3 h-3 justify-center text-white items-center p-1 rounded-full border-2 border-white bg-cyan-400'>\n                        {/* dot */}\n                        </div>}\n                         {online ===false && <div className= 'absolute top-0 right-0 w-3 h-3 justify-center text-white items-center p-1 rounded-full border-2 border-white dark:border-gray-900 bg-gray-400'>\n                        {/* dot */}\n                        </div>}\n                    </div> \n                    <div className='items-center '>\n                    <p>@{displayed.userName}</p>\n                    {typingNotifier && <p className='text-cyan-500' >Typing...</p>}\n                    </div>\n                    \n                </div>\n                <div className=\"mx-1 space-x-2 sm:space-x-2 bg-transparent flex items-center justify-around\">\n                    <div className=\"hover:bg-cyan-400\n                     p-1 rounded-full cursor-pointer group\">\n                        <VideoCameraIcon className= \"h-6 w-6 group-hover:text-white text-gray-300\"/>\n                    </div>\n                    <div onClick= {callUser} className=\"hover:bg-cyan-400\n                     p-1 rounded-full cursor-pointer group\">\n                        <PhoneIcon className= \"h-6 w-6 group-hover:text-white text-gray-300\"/>\n                    </div>\n                    <div onClick ={(e)=> setpopChatBox(false)} className=\"hover:bg-gray-300 dark:hover:bg-gray-700\n                     p-1 rounded-full cursor-pointer group\">\n                        <XCircleIcon className= \"h-6 w-6 group-hover:text-white text-gray-300\"/>\n                    </div>\n                </div>\n\n            </div>\n            \n            {/* ALL MESSAGE CHATs CONTAINER */}\n            <div className= \"pb-48 lg:pb-64 mt-12 max-h-screen min-h-screen w-full overflow-y-scroll\">\n                {/* <ReceivedBubble ReceivedMessage=\"Hello Sir Milome\"/>\n                <SentBubble SentMessage=\"I am Fine\"/>\n                */}\n                {messages.length ?\n\n                    <> \n                        {\n                            messages.map((message) =>{\n                                \n    \n                                if (viewer._id === message.senderId){ //BELONGS TO ME(VIEWER)\n                                \n                                    return(\n                                        <SentBubble key={message._id} message={message} SentMessage={message.body} File={message.file} viewer={viewer} Type={message.type}/>\n                                    )\n                                }\n                                if (displayed._id === message.senderId){//BELONGS TO THEM(DISPLAYED) \n                                \n                                    return(\n                                        <ReceivedBubble key={message._id} contactViewed = {contactViewed} setContactViewed= {setContactViewed} message={message} ReceivedMessage={message.body} File={message.file} displayed={displayed} Type={message.type}/>\n                                    )\n                                }\n                                \n                             \n                            }\n                        )}  \n                            <div className= 'w-full  bg-transparent text-xs font-light text-gray-400 flex justify-center' ref={messagesEndRef}>\n                                {/* <div className= 'p-3 border-t border-gray-300 m-3'>\n                                    <p>messages end</p>\n                                </div> */}\n                            </div>\n                         {/* {\n                            messages.map((message) =>{\n                                \n                                if (displayed._id === message.senderId && message.read === false ){//BELONGS TO THEM(DISPLAYED) \n                                \n                                    return(\n                                        <ReceivedBubble key={message._id} message={message} ReceivedMessage={message.body} File={message.file} displayed={displayed} Type={message.type}/>\n                                    )\n                                }\n                            }\n                        )}      */}\n                    </> :\n\n                        <div className='flex justify-start p-5'>\n                            <div className=''>\n                                <BeatLoader size={15} color='white' loading/>\n                                <p className= 'text-sm text-gray-400'>fetching messages..</p>\n                            </div>\n                        </div>\n                }\n\n                    <div className=\"w-full items-center\">\n                                  {/* <div className='w-full h-8 flex justify-center'>\n                                     {typingNotifier && <div className='flex font-semibold text-gray-500 items-center space-x-1 py-1 px-3  bg-gray-300 rounded-full'>\n                                        <p>{displayed.userName} is Typing</p>\n                                       <BeatLoader size={10} color='white' loading/> \n                                        \n                                    </div>}\n                                  </div> */}\n\n                                \n                                \n\n                                {loading===true  && \n                                \n                                <div className='w-full text-gray-400 text-sm space-x-2 flex justify-center'>\n                                  \n                                    <BeatLoader size={6} color='gray' loading/>\n                                    <p>{progress}%</p>\n\n                                  </div>}\n                                        \n                            {!displayed.blocked.includes(user.result._id) && !displayed.blockers.includes(user.result._id) &&\n                                <div  className=' w-full px-1 sm:w-1/2 lg:w-1/4 fixed bottom-0 z-50 py-2 bg-gray-200 dark:bg-gray-900  right-0 sm:right-2 mt-6'>\n\n                                       \n                                    {messageData.type !== 'image' &&messageData.type !== 'video' && messageData.type !== 'audio' &&\n                                        <div className ='flex justify-center  w-full'>\n\n                                            <div className={`${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            m-1 p-1 rounded-full items-center flex bg-cyan-400 w-full`}>\n                                                \n                                                <div className={`${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            p-2 bg-gray-100 dark:bg-gray-800 rounded-xl w-full`}>\n                                            \n                                                <textarea \n                                                value={messageData.body}\n                                                onChange={(e)=>{\n                                                    socket.current.emit(\"sendTypingMessage\", {\n                                                            typingMessageData\n                                                        });\n                                                    \n                                                    setmessageData({...messageData, body: e.target.value, type:'text'});\n                                                \n                                                    }\n                                                    }\n                                                type=\"text\" placeholder=\"Type Message Here...\" \n                                                className={`${messageData.body.length < 25 && `h-12`}\n                                                            ${messageData.body.length > 25 && messageData.body.length < 80 && `h-20`}\n                                                            ${messageData.body.length > 80 && `h-32`}\n                                                            resize-none h-full w-full m-auto text-gray-700 dark:text-gray-300 font-medium outline-none bg-gray-100 dark:bg-gray-800 text-sm rounded`}/>\n                                            \n                                                </div> \n                                                <div className='flex p-1 items-center'>\n                                                            <div onClick={()=>setEmojiBox(!emojiBox)} className='w-max text-left text-cyan-400 bg-gray-100 dark:bg-gray-800 dark:hover:bg-black hover:bg-gray-800 rounded-full p-1'>\n                                                                        <BsFillEmojiLaughingFill/>\n                                                            </div>\n                                                        </div>\n\n                                            </div>\n                                            \n\n                                            \n                                            { messageData.body.length > 0 && loading === false && messageData.type === 'text' &&\n                                                <div className='flex justify-center p-3 text-xs font-bold text-gray-400 '>\n                                                    \n                                                    <div className='flex rounded-full items-center justify-center space-x-1 '>\n                                                    \n                                                    <div onClick= {sendMessage} className='bg-cyan-400 rounded-full p-2'>\n                                                            <MdSend className='text-gray-100 text-white h-6 w-6 '/>\n                                                        </div>\n\n                                                      \n                                                    \n                                                    </div>\n                                                </div>\n                                                }\n                                                \n                                            {loading ===true && <div className='flex justify-center text-xs font-bold text-gray-400 '>\n                                                    \n                                                    <div className='flex rounded-full items-center justify-center space-x-1 '>\n                                                    \n                                                    <div className='bg-cyan-400 rounded-full '>\n                                                    <BeatLoader size={6} color='white' loading/>\n                                                        </div>\n                                                    \n                                                    </div>\n                                                </div>\n                                                }\n                                        </div>\n                                        }\n\n\n                                   \n                                        <div className=' pt-2  text-gray-400 dark:text-gray-300 m-auto  items-center'>\n                                             {/* UPLOAD INPUTS */}\n\n                                                    <div className='w-full p-4'>\n                                                        {imageBlob.length>0 && messageData.type === 'image' &&\n                                                        <div className='pt-3 w-full h-full h-8 flex justify-center'>\n                                                            <div className='font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 '>\n                                                                        <div className='flex justify-center'>\n                                                                         <PicForm Url={imageBlob}/>\n                                                                         </div>\n                                                                        <div className='flex justify-around'>\n\n                                                                            {loading===false &&\n                                                                                <>\n                                                                                <div onClick={()=>uploadFile(fileData)}  className='bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2'>\n                                                                                    <MdSend className='text-gray-100 text-white h-5 w-5 '/>\n                                                                                </div>\n                                                                            \n                                                                                <div onClick={()=>{\n                                                                                    // setImageBlob('');\n                                                                                    // setFileData('');\n                                                                                    setmessageData({...messageData, type:''});\n                                                                                    }}   className='bg-gray-100 my-3 hover:bg-red-400 rounded-full p-2 group'>\n                                                                                    <XCircleIcon  className='text-gray-400 group-hover:text-white h-5 w-5 '/>\n                                                                                </div>\n                                                                                </>\n                                                                            }\n\n                                                                            {loading === true &&\n                                                                            <div className='flex justify-center text-xs font-bold text-gray-400 '>\n                                                                    \n                                                                                <div className='flex rounded-full items-center justify-center space-x-1 '>\n                                                                                \n                                                                                <div className='bg-cyan-400 rounded-full '>\n                                                                                <BeatLoader size={6} color='white' loading/>\n                                                                                    </div>\n                                                                                \n                                                                                </div>\n                                                                            </div>\n                                                                            }\n                                                                        </div>\n                                                            {/* <BeatLoader size={10} color='white' loading/> */}   \n                                                            </div>\n                                                        </div> }\n                                                        {imageBlob.length>0 && messageData.type === 'audio' &&\n                                                        <div className='pt-3 w-full h-full h-8 flex justify-center'>\n                                                            <div className=' font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 '>\n                                                                <div className='flex justify-center'>\n                                                                 <AudioForm Url={imageBlob} DP={viewer.dpUrl}/>\n                                                                </div>\n                                                                        \n                                                                        <div className='flex justify-around'>\n                                                                        {loading ===false && <div onClick={()=>uploadFile(fileData)} className='bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2'>\n                                                                                <MdSend className='text-gray-100 text-white h-5 w-5 '/>\n                                                                            </div>}\n\n                                                                            {loading ===true &&\n                                                                            <div className='flex justify-center text-xs font-bold text-gray-400 '>\n                                                                    \n                                                                                <div className='flex rounded-full items-center justify-center space-x-1 '>\n                                                                                \n                                                                                <div className='bg-cyan-400 rounded-full '>\n                                                                                <BeatLoader size={6} color='white' loading/>\n                                                                                    </div>\n                                                                                \n                                                                                </div>\n                                                                            </div>\n                                                                            }\n                                                                        \n                                                                                \n                                                                            <div onClick={()=>{\n                                                                                // setImageBlob('');\n                                                                                // setFileData('');\n                                                                                setmessageData({...messageData, type:''});\n                                                                                }}  className='bg-gray-100 dark:bg-gray-800 my-3 hover:bg-red-400 rounded-full p-2 group'>\n                                                                                <XCircleIcon  className='text-gray-300 group-hover:text-white h-5 w-5 '/>\n                                                                            </div>\n                                                                            \n                                                                        </div>\n                                                            {/* <BeatLoader size={10} color='white' loading/> */}   \n                                                            </div>\n                                                        </div> }\n                                                        {imageBlob.length>0 && messageData.type === 'video' &&\n                                                        <div className='pt-3 w-full h-full h-8 flex justify-center'>\n                                                            <div className='font-semibold text-gray-500 items-center border-2 border-gray-300 rounded-md space-x-1 py-1 px-3 '>\n                                                                <div className='flex justify-center'>\n                                                                    <VideoForm Url={imageBlob}/>\n                                                                </div>\n                                                                        <div className='flex justify-around'>\n                                                                        {loading===false &&\n                                                                                <>\n                                                                                    <div onClick={()=>uploadFile(fileData)}  className='bg-cyan-400 my-3 hover:bg-cyan-500 rounded-full p-2'>\n                                                                                        <MdSend className='text-gray-100 text-white h-5 w-5 '/>\n                                                                                    </div>\n                                                                                \n                                                                                    <div onClick={()=>{\n                                                                                        // setImageBlob('');\n                                                                                        // setFileData('');\n                                                                                        setmessageData({...messageData, type:''});\n                                                                                        }}   className='bg-gray-100 my-3 hover:bg-red-400 rounded-full p-2 group'>\n                                                                                        <XCircleIcon  className='text-gray-300 group-hover:text-white h-5 w-5 '/>\n                                                                                    </div>\n                                                                                </>\n                                                                            }\n\n                                                                            {loading === true &&\n                                                                            <div className='flex justify-center text-xs font-bold text-gray-400 '>\n                                                                    \n                                                                                <div className='flex rounded-full items-center justify-center space-x-1 '>\n                                                                                \n                                                                                <div className='bg-cyan-400 rounded-full '>\n                                                                                <BeatLoader size={6} color='white' loading/>\n                                                                                    </div>\n                                                                                \n                                                                                </div>\n                                                                            </div>\n                                                                            }\n                                                                        </div>\n                                                            {/* <BeatLoader size={10} color='white' loading/> */}   \n                                                            </div>\n                                                        </div> }\n                                                    </div>\n\n                                            <div className='flex justify-around '>\n                                                <input  onChange = {(e)=>readFile(e.target.files[0], 'image')} \n                                                className= \"hidden\" id='ImageUpload' type=\"file\" accept=\"image/png, image/jpeg, image/jpg\"/> \n\n                                                <input  onChange = {(e)=>readFile(e.target.files[0], 'audio')}\n                                                className= \"hidden\" id='AudioUpload' type=\"file\" accept=\"audio/mpeg, audio/mp3, audio/wav, audio/ogg\"/> \n\n                                                <input  onChange = {(e)=>readFile(e.target.files[0], 'video')}\n                                                className= \"hidden\" id='VideoUpload' type=\"file\" accept=\"video/ogg, video/mp4, video/webm\"/>   \n                                                {messageData.body.length<1 &&\n                                                    <>\n                                                <label htmlFor= 'ImageUpload'>\n                                                    <div className={`flex hover:text-cyan-500 cursor-pointer justify-center items-center  items-center`}>\n                                                        <BsFileEarmarkImageFill size={20}/> \n                                                    </div>\n                                                </label>\n\n                                                <label htmlFor= 'AudioUpload'>\n                                                    <div className={`flex  ${messageData.type === 'audio' && `text-cyan-400`} hover:text-cyan-500 cursor-pointer justify-center items-center items-center`}>\n                                                        <MdLibraryMusic size={20}/> \n                                                    </div>\n                                                </label>\n\n                                                <label htmlFor= 'VideoUpload'>\n                                                    <div className={`flex  ${messageData.type === 'video' && `text-cyan-400`} hover:text-cyan-500 cursor-pointer justify-center items-center  items-center`}>\n                                                        <MdVideoLibrary size={20}/> \n                                                    </div>\n                                                </label>\n\n                                                </>\n                                                }\n                                            </div>\n                                               \n                                        </div>\n                                        \n                                        {emojiBox && \n                                                    <div className='flex m-2 p-2 rounded-md justify-center bg-gray-300 dark:bg-gray-800'>\n                                                        <Picker className= 'bg-gray-300 ' onEmojiClick={onEmojiClick} />\n                                                    </div>\n                                        }\n                                      \n                                      \n                                </div>}\n                                  \n                                \n                    </div>\n\n            </div>\n        </div>\n        \n        </animated.div>\n        )}\n      </Spring>\n      </>\n    )\n}\n\nexport default ContactMod;\n"]},"metadata":{},"sourceType":"module"}